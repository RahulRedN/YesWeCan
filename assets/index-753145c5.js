(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function g_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v_={exports:{}},yd={},y_={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),ST=Symbol.for("react.portal"),xT=Symbol.for("react.fragment"),kT=Symbol.for("react.strict_mode"),CT=Symbol.for("react.profiler"),IT=Symbol.for("react.provider"),TT=Symbol.for("react.context"),NT=Symbol.for("react.forward_ref"),RT=Symbol.for("react.suspense"),bT=Symbol.for("react.memo"),AT=Symbol.for("react.lazy"),Wy=Symbol.iterator;function PT(t){return t===null||typeof t!="object"?null:(t=Wy&&t[Wy]||t["@@iterator"],typeof t=="function"?t:null)}var w_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},__=Object.assign,E_={};function zo(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||w_}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S_(){}S_.prototype=zo.prototype;function eg(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||w_}var tg=eg.prototype=new S_;tg.constructor=eg;__(tg,zo.prototype);tg.isPureReactComponent=!0;var Ky=Array.isArray,x_=Object.prototype.hasOwnProperty,ng={current:null},k_={key:!0,ref:!0,__self:!0,__source:!0};function C_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)x_.call(e,r)&&!k_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fl,type:t,key:i,ref:o,props:s,_owner:ng.current}}function jT(t,e){return{$$typeof:Fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fl}function DT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gy=/\/+/g;function Xh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DT(""+t.key):e.toString(36)}function Zu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fl:case ST:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xh(o,0):r,Ky(s)?(n="",t!=null&&(n=t.replace(Gy,"$&/")+"/"),Zu(s,e,n,"",function(c){return c})):s!=null&&(rg(s)&&(s=jT(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Ky(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Xh(i,a);o+=Zu(i,e,n,l,s)}else if(l=PT(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Xh(i,a++),o+=Zu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wu(t,e,n){if(t==null)return t;var r=[],s=0;return Zu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function OT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},ec={transition:null},$T={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:ec,ReactCurrentOwner:ng};ue.Children={map:wu,forEach:function(t,e,n){wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wu(t,function(){e++}),e},toArray:function(t){return wu(t,function(e){return e})||[]},only:function(t){if(!rg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=zo;ue.Fragment=xT;ue.Profiler=CT;ue.PureComponent=eg;ue.StrictMode=kT;ue.Suspense=RT;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$T;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=__({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ng.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)x_.call(e,l)&&!k_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Fl,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:TT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IT,_context:t},t.Consumer=t};ue.createElement=C_;ue.createFactory=function(t){var e=C_.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:NT,render:t}};ue.isValidElement=rg;ue.lazy=function(t){return{$$typeof:AT,_payload:{_status:-1,_result:t},_init:OT}};ue.memo=function(t,e){return{$$typeof:bT,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ec.transition;ec.transition={};try{t()}finally{ec.transition=e}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ue.useContext=function(t){return Ft.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ue.useId=function(){return Ft.current.useId()};ue.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ue.useRef=function(t){return Ft.current.useRef(t)};ue.useState=function(t){return Ft.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Ft.current.useTransition()};ue.version="18.2.0";y_.exports=ue;var S=y_.exports;const sg=g_(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT=S,LT=Symbol.for("react.element"),FT=Symbol.for("react.fragment"),UT=Object.prototype.hasOwnProperty,BT=MT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VT={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UT.call(e,r)&&!VT.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:LT,type:t,key:i,ref:o,props:s,_owner:BT.current}}yd.Fragment=FT;yd.jsx=I_;yd.jsxs=I_;v_.exports=yd;var u=v_.exports,dp={},T_={exports:{}},cn={},N_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,ee){var se=F.length;F.push(ee);e:for(;0<se;){var oe=se-1>>>1,Ae=F[oe];if(0<s(Ae,ee))F[oe]=ee,F[se]=Ae,se=oe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ee=F[0],se=F.pop();if(se!==ee){F[0]=se;e:for(var oe=0,Ae=F.length,Ms=Ae>>>1;oe<Ms;){var cr=2*(oe+1)-1,mn=F[cr],dr=cr+1,bi=F[dr];if(0>s(mn,se))dr<Ae&&0>s(bi,mn)?(F[oe]=bi,F[dr]=se,oe=dr):(F[oe]=mn,F[cr]=se,oe=cr);else if(dr<Ae&&0>s(bi,se))F[oe]=bi,F[dr]=se,oe=dr;else break e}}return ee}function s(F,ee){var se=F.sortIndex-ee.sortIndex;return se!==0?se:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,g=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=F)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function E(F){if(w=!1,y(F),!v)if(n(l)!==null)v=!0,pn(x);else{var ee=n(c);ee!==null&&$s(E,ee.startTime-F)}}function x(F,ee){v=!1,w&&(w=!1,f(P),P=-1),g=!0;var se=p;try{for(y(ee),h=n(l);h!==null&&(!(h.expirationTime>ee)||F&&!$());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,p=h.priorityLevel;var Ae=oe(h.expirationTime<=ee);ee=t.unstable_now(),typeof Ae=="function"?h.callback=Ae:h===n(l)&&r(l),y(ee)}else r(l);h=n(l)}if(h!==null)var Ms=!0;else{var cr=n(c);cr!==null&&$s(E,cr.startTime-ee),Ms=!1}return Ms}finally{h=null,p=se,g=!1}}var I=!1,N=null,P=-1,j=5,L=-1;function $(){return!(t.unstable_now()-L<j)}function Ee(){if(N!==null){var F=t.unstable_now();L=F;var ee=!0;try{ee=N(!0,F)}finally{ee?Bt():(I=!1,N=null)}}else I=!1}var Bt;if(typeof m=="function")Bt=function(){m(Ee)};else if(typeof MessageChannel<"u"){var Nn=new MessageChannel,ur=Nn.port2;Nn.port1.onmessage=Ee,Bt=function(){ur.postMessage(null)}}else Bt=function(){_(Ee,0)};function pn(F){N=F,I||(I=!0,Bt())}function $s(F,ee){P=_(function(){F(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,pn(x))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var se=p;p=ee;try{return F()}finally{p=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=p;p=F;try{return ee()}finally{p=se}},t.unstable_scheduleCallback=function(F,ee,se){var oe=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?oe+se:oe):se=oe,F){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=se+Ae,F={id:d++,callback:ee,priorityLevel:F,startTime:se,expirationTime:Ae,sortIndex:-1},se>oe?(F.sortIndex=se,e(c,F),n(l)===null&&F===n(c)&&(w?(f(P),P=-1):w=!0,$s(E,se-oe))):(F.sortIndex=Ae,e(l,F),v||g||(v=!0,pn(x))),F},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(F){var ee=p;return function(){var se=p;p=ee;try{return F.apply(this,arguments)}finally{p=se}}}})(R_);N_.exports=R_;var zT=N_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_=S,an=zT;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A_=new Set,el={};function wi(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(el[t]=e,t=0;t<e.length;t++)A_.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hp=Object.prototype.hasOwnProperty,HT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qy={},Yy={};function qT(t){return hp.call(Yy,t)?!0:hp.call(Qy,t)?!1:HT.test(t)?Yy[t]=!0:(Qy[t]=!0,!1)}function WT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KT(t,e,n,r){if(e===null||typeof e>"u"||WT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var ig=/[\-:]([a-z])/g;function og(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ig,og);vt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ig,og);vt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ig,og);vt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function ag(t,e,n,r){var s=vt.hasOwnProperty(e)?vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KT(e,n,s,r)&&(n=null),r||s===null?qT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lr=b_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_u=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),lg=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),P_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),ug=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),mp=Symbol.for("react.suspense_list"),cg=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),D_=Symbol.for("react.offscreen"),Xy=Symbol.iterator;function ia(t){return t===null||typeof t!="object"?null:(t=Xy&&t[Xy]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,Jh;function Sa(t){if(Jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jh=e&&e[1]||""}return`
`+Jh+t}var Zh=!1;function ef(t,e){if(!t||Zh)return"";Zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sa(t):""}function GT(t){switch(t.tag){case 5:return Sa(t.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 2:case 15:return t=ef(t.type,!1),t;case 11:return t=ef(t.type.render,!1),t;case 1:return t=ef(t.type,!0),t;default:return""}}function gp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qi:return"Fragment";case Hi:return"Portal";case fp:return"Profiler";case lg:return"StrictMode";case pp:return"Suspense";case mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j_:return(t.displayName||"Context")+".Consumer";case P_:return(t._context.displayName||"Context")+".Provider";case ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cg:return e=t.displayName||null,e!==null?e:gp(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return gp(t(e))}catch{}}return null}function QT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gp(e);case 8:return e===lg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YT(t){var e=O_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eu(t){t._valueTracker||(t._valueTracker=YT(t))}function $_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vp(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M_(t,e){e=e.checked,e!=null&&ag(t,"checked",e,!1)}function yp(t,e){M_(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wp(t,e.type,n):e.hasOwnProperty("defaultValue")&&wp(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wp(t,e,n){(e!=="number"||wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _p(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function e0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(xa(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function L_(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function t0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Su,U_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Su=Su||document.createElement("div"),Su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XT=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(t){XT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Da[e]=Da[t]})});function B_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Da.hasOwnProperty(t)&&Da[t]?(""+e).trim():e+"px"}function V_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=B_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var JT=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sp(t,e){if(e){if(JT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=null;function dg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cp=null,oo=null,ao=null;function n0(t){if(t=Vl(t)){if(typeof Cp!="function")throw Error(b(280));var e=t.stateNode;e&&(e=xd(e),Cp(t.stateNode,t.type,e))}}function z_(t){oo?ao?ao.push(t):ao=[t]:oo=t}function H_(){if(oo){var t=oo,e=ao;if(ao=oo=null,n0(t),e)for(t=0;t<e.length;t++)n0(e[t])}}function q_(t,e){return t(e)}function W_(){}var tf=!1;function K_(t,e,n){if(tf)return t(e,n);tf=!0;try{return q_(t,e,n)}finally{tf=!1,(oo!==null||ao!==null)&&(W_(),H_())}}function nl(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Ip=!1;if(Nr)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Ip=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Ip=!1}function ZT(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Oa=!1,_c=null,Ec=!1,Tp=null,eN={onError:function(t){Oa=!0,_c=t}};function tN(t,e,n,r,s,i,o,a,l){Oa=!1,_c=null,ZT.apply(eN,arguments)}function nN(t,e,n,r,s,i,o,a,l){if(tN.apply(this,arguments),Oa){if(Oa){var c=_c;Oa=!1,_c=null}else throw Error(b(198));Ec||(Ec=!0,Tp=c)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r0(t){if(_i(t)!==t)throw Error(b(188))}function rN(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return r0(s),t;if(i===r)return r0(s),e;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Q_(t){return t=rN(t),t!==null?Y_(t):null}function Y_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y_(t);if(e!==null)return e;t=t.sibling}return null}var X_=an.unstable_scheduleCallback,s0=an.unstable_cancelCallback,sN=an.unstable_shouldYield,iN=an.unstable_requestPaint,qe=an.unstable_now,oN=an.unstable_getCurrentPriorityLevel,hg=an.unstable_ImmediatePriority,J_=an.unstable_UserBlockingPriority,Sc=an.unstable_NormalPriority,aN=an.unstable_LowPriority,Z_=an.unstable_IdlePriority,wd=null,Zn=null;function lN(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:dN,uN=Math.log,cN=Math.LN2;function dN(t){return t>>>=0,t===0?32:31-(uN(t)/cN|0)|0}var xu=64,ku=4194304;function ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ka(a):(i&=o,i!==0&&(r=ka(i)))}else o=n&~s,o!==0?r=ka(o):i!==0&&(r=ka(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ln(e),s=1<<n,r|=t[n],e&=~s;return r}function hN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ln(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=hN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Np(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eE(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function pN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ln(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function fg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ln(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ye=0;function tE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nE,pg,rE,sE,iE,Rp=!1,Cu=[],rs=null,ss=null,is=null,rl=new Map,sl=new Map,Wr=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i0(t,e){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(e.pointerId)}}function aa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vl(e),e!==null&&pg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gN(t,e,n,r,s){switch(e){case"focusin":return rs=aa(rs,t,e,n,r,s),!0;case"dragenter":return ss=aa(ss,t,e,n,r,s),!0;case"mouseover":return is=aa(is,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return rl.set(i,aa(rl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,sl.set(i,aa(sl.get(i)||null,t,e,n,r,s)),!0}return!1}function oE(t){var e=qs(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=G_(n),e!==null){t.blockedOn=e,iE(t.priority,function(){rE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kp=r,n.target.dispatchEvent(r),kp=null}else return e=Vl(n),e!==null&&pg(e),t.blockedOn=n,!1;e.shift()}return!0}function o0(t,e,n){tc(t)&&n.delete(e)}function vN(){Rp=!1,rs!==null&&tc(rs)&&(rs=null),ss!==null&&tc(ss)&&(ss=null),is!==null&&tc(is)&&(is=null),rl.forEach(o0),sl.forEach(o0)}function la(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,vN)))}function il(t){function e(s){return la(s,t)}if(0<Cu.length){la(Cu[0],t);for(var n=1;n<Cu.length;n++){var r=Cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rs!==null&&la(rs,t),ss!==null&&la(ss,t),is!==null&&la(is,t),rl.forEach(e),sl.forEach(e),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)oE(n),n.blockedOn===null&&Wr.shift()}var lo=Lr.ReactCurrentBatchConfig,kc=!0;function yN(t,e,n,r){var s=ye,i=lo.transition;lo.transition=null;try{ye=1,mg(t,e,n,r)}finally{ye=s,lo.transition=i}}function wN(t,e,n,r){var s=ye,i=lo.transition;lo.transition=null;try{ye=4,mg(t,e,n,r)}finally{ye=s,lo.transition=i}}function mg(t,e,n,r){if(kc){var s=bp(t,e,n,r);if(s===null)ff(t,e,r,Cc,n),i0(t,r);else if(gN(s,t,e,n,r))r.stopPropagation();else if(i0(t,r),e&4&&-1<mN.indexOf(t)){for(;s!==null;){var i=Vl(s);if(i!==null&&nE(i),i=bp(t,e,n,r),i===null&&ff(t,e,r,Cc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ff(t,e,r,null,n)}}var Cc=null;function bp(t,e,n,r){if(Cc=null,t=dg(r),t=qs(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cc=t,null}function aE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oN()){case hg:return 1;case J_:return 4;case Sc:case aN:return 16;case Z_:return 536870912;default:return 16}default:return 16}}var es=null,gg=null,nc=null;function lE(){if(nc)return nc;var t,e=gg,n=e.length,r,s="value"in es?es.value:es.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return nc=s.slice(t,1<r?1-r:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Iu(){return!0}function a0(){return!1}function dn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Iu:a0,this.isPropagationStopped=a0,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),e}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vg=dn(Ho),Bl=Me({},Ho,{view:0,detail:0}),_N=dn(Bl),rf,sf,ua,_d=Me({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(rf=t.screenX-ua.screenX,sf=t.screenY-ua.screenY):sf=rf=0,ua=t),rf)},movementY:function(t){return"movementY"in t?t.movementY:sf}}),l0=dn(_d),EN=Me({},_d,{dataTransfer:0}),SN=dn(EN),xN=Me({},Bl,{relatedTarget:0}),of=dn(xN),kN=Me({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),CN=dn(kN),IN=Me({},Ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TN=dn(IN),NN=Me({},Ho,{data:0}),u0=dn(NN),RN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AN[t])?!!e[t]:!1}function yg(){return PN}var jN=Me({},Bl,{key:function(t){if(t.key){var e=RN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yg,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DN=dn(jN),ON=Me({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c0=dn(ON),$N=Me({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yg}),MN=dn($N),LN=Me({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),FN=dn(LN),UN=Me({},_d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BN=dn(UN),VN=[9,13,27,32],wg=Nr&&"CompositionEvent"in window,$a=null;Nr&&"documentMode"in document&&($a=document.documentMode);var zN=Nr&&"TextEvent"in window&&!$a,uE=Nr&&(!wg||$a&&8<$a&&11>=$a),d0=String.fromCharCode(32),h0=!1;function cE(t,e){switch(t){case"keyup":return VN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function HN(t,e){switch(t){case"compositionend":return dE(e);case"keypress":return e.which!==32?null:(h0=!0,d0);case"textInput":return t=e.data,t===d0&&h0?null:t;default:return null}}function qN(t,e){if(Wi)return t==="compositionend"||!wg&&cE(t,e)?(t=lE(),nc=gg=es=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uE&&e.locale!=="ko"?null:e.data;default:return null}}var WN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WN[t.type]:e==="textarea"}function hE(t,e,n,r){z_(r),e=Ic(e,"onChange"),0<e.length&&(n=new vg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ma=null,ol=null;function KN(t){xE(t,0)}function Ed(t){var e=Qi(t);if($_(e))return t}function GN(t,e){if(t==="change")return e}var fE=!1;if(Nr){var af;if(Nr){var lf="oninput"in document;if(!lf){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),lf=typeof p0.oninput=="function"}af=lf}else af=!1;fE=af&&(!document.documentMode||9<document.documentMode)}function m0(){Ma&&(Ma.detachEvent("onpropertychange",pE),ol=Ma=null)}function pE(t){if(t.propertyName==="value"&&Ed(ol)){var e=[];hE(e,ol,t,dg(t)),K_(KN,e)}}function QN(t,e,n){t==="focusin"?(m0(),Ma=e,ol=n,Ma.attachEvent("onpropertychange",pE)):t==="focusout"&&m0()}function YN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ed(ol)}function XN(t,e){if(t==="click")return Ed(e)}function JN(t,e){if(t==="input"||t==="change")return Ed(e)}function ZN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:ZN;function al(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hp.call(e,s)||!Un(t[s],e[s]))return!1}return!0}function g0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v0(t,e){var n=g0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g0(n)}}function mE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gE(){for(var t=window,e=wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wc(t.document)}return e}function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eR(t){var e=gE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mE(n.ownerDocument.documentElement,n)){if(r!==null&&_g(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=v0(n,i);var o=v0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tR=Nr&&"documentMode"in document&&11>=document.documentMode,Ki=null,Ap=null,La=null,Pp=!1;function y0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pp||Ki==null||Ki!==wc(r)||(r=Ki,"selectionStart"in r&&_g(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&al(La,r)||(La=r,r=Ic(Ap,"onSelect"),0<r.length&&(e=new vg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ki)))}function Tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gi={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},uf={},vE={};Nr&&(vE=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Sd(t){if(uf[t])return uf[t];if(!Gi[t])return t;var e=Gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vE)return uf[t]=e[n];return t}var yE=Sd("animationend"),wE=Sd("animationiteration"),_E=Sd("animationstart"),EE=Sd("transitionend"),SE=new Map,w0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){SE.set(t,e),wi(e,[t])}for(var cf=0;cf<w0.length;cf++){var df=w0[cf],nR=df.toLowerCase(),rR=df[0].toUpperCase()+df.slice(1);Ns(nR,"on"+rR)}Ns(yE,"onAnimationEnd");Ns(wE,"onAnimationIteration");Ns(_E,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(EE,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function _0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nN(r,e,void 0,t),t.currentTarget=null}function xE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;_0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;_0(s,a,c),i=l}}}if(Ec)throw t=Tp,Ec=!1,Tp=null,t}function Ie(t,e){var n=e[Mp];n===void 0&&(n=e[Mp]=new Set);var r=t+"__bubble";n.has(r)||(kE(e,t,2,!1),n.add(r))}function hf(t,e,n){var r=0;e&&(r|=4),kE(n,t,r,e)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function ll(t){if(!t[Nu]){t[Nu]=!0,A_.forEach(function(n){n!=="selectionchange"&&(sR.has(n)||hf(n,!1,t),hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nu]||(e[Nu]=!0,hf("selectionchange",!1,e))}}function kE(t,e,n,r){switch(aE(e)){case 1:var s=yN;break;case 4:s=wN;break;default:s=mg}n=s.bind(null,e,n,t),s=void 0,!Ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ff(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=qs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}K_(function(){var c=i,d=dg(n),h=[];e:{var p=SE.get(t);if(p!==void 0){var g=vg,v=t;switch(t){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":g=DN;break;case"focusin":v="focus",g=of;break;case"focusout":v="blur",g=of;break;case"beforeblur":case"afterblur":g=of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=l0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=SN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=MN;break;case yE:case wE:case _E:g=CN;break;case EE:g=FN;break;case"scroll":g=_N;break;case"wheel":g=BN;break;case"copy":case"cut":case"paste":g=TN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=c0}var w=(e&4)!==0,_=!w&&t==="scroll",f=w?p!==null?p+"Capture":null:p;w=[];for(var m=c,y;m!==null;){y=m;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,f!==null&&(E=nl(m,f),E!=null&&w.push(ul(m,E,y)))),_)break;m=m.return}0<w.length&&(p=new g(p,v,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==kp&&(v=n.relatedTarget||n.fromElement)&&(qs(v)||v[Rr]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?qs(v):null,v!==null&&(_=_i(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(w=l0,E="onMouseLeave",f="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=c0,E="onPointerLeave",f="onPointerEnter",m="pointer"),_=g==null?p:Qi(g),y=v==null?p:Qi(v),p=new w(E,m+"leave",g,n,d),p.target=_,p.relatedTarget=y,E=null,qs(d)===c&&(w=new w(f,m+"enter",v,n,d),w.target=y,w.relatedTarget=_,E=w),_=E,g&&v)t:{for(w=g,f=v,m=0,y=w;y;y=ji(y))m++;for(y=0,E=f;E;E=ji(E))y++;for(;0<m-y;)w=ji(w),m--;for(;0<y-m;)f=ji(f),y--;for(;m--;){if(w===f||f!==null&&w===f.alternate)break t;w=ji(w),f=ji(f)}w=null}else w=null;g!==null&&E0(h,p,g,w,!1),v!==null&&_!==null&&E0(h,_,v,w,!0)}}e:{if(p=c?Qi(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var x=GN;else if(f0(p))if(fE)x=JN;else{x=YN;var I=QN}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=XN);if(x&&(x=x(t,c))){hE(h,x,n,d);break e}I&&I(t,p,c),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&wp(p,"number",p.value)}switch(I=c?Qi(c):window,t){case"focusin":(f0(I)||I.contentEditable==="true")&&(Ki=I,Ap=c,La=null);break;case"focusout":La=Ap=Ki=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,y0(h,n,d);break;case"selectionchange":if(tR)break;case"keydown":case"keyup":y0(h,n,d)}var N;if(wg)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Wi?cE(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(uE&&n.locale!=="ko"&&(Wi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Wi&&(N=lE()):(es=d,gg="value"in es?es.value:es.textContent,Wi=!0)),I=Ic(c,P),0<I.length&&(P=new u0(P,t,null,n,d),h.push({event:P,listeners:I}),N?P.data=N:(N=dE(n),N!==null&&(P.data=N)))),(N=zN?HN(t,n):qN(t,n))&&(c=Ic(c,"onBeforeInput"),0<c.length&&(d=new u0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=N))}xE(h,e)})}function ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ic(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=nl(t,n),i!=null&&r.unshift(ul(t,i,s)),i=nl(t,e),i!=null&&r.push(ul(t,i,s))),t=t.return}return r}function ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=nl(n,i),l!=null&&o.unshift(ul(n,l,a))):s||(l=nl(n,i),l!=null&&o.push(ul(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function S0(t){return(typeof t=="string"?t:""+t).replace(iR,`
`).replace(oR,"")}function Ru(t,e,n){if(e=S0(e),S0(t)!==e&&n)throw Error(b(425))}function Tc(){}var jp=null,Dp=null;function Op(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $p=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(t){return x0.resolve(null).then(t).catch(uR)}:$p;function uR(t){setTimeout(function(){throw t})}function pf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),il(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);il(e)}function os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+qo,cl="__reactProps$"+qo,Rr="__reactContainer$"+qo,Mp="__reactEvents$"+qo,cR="__reactListeners$"+qo,dR="__reactHandles$"+qo;function qs(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rr]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k0(t);t!==null;){if(n=t[Gn])return n;t=k0(t)}return e}t=n,n=t.parentNode}return null}function Vl(t){return t=t[Gn]||t[Rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function xd(t){return t[cl]||null}var Lp=[],Yi=-1;function Rs(t){return{current:t}}function Re(t){0>Yi||(t.current=Lp[Yi],Lp[Yi]=null,Yi--)}function Ce(t,e){Yi++,Lp[Yi]=t.current,t.current=e}var ws={},Pt=Rs(ws),Kt=Rs(!1),si=ws;function xo(t,e){var n=t.type.contextTypes;if(!n)return ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(t){return t=t.childContextTypes,t!=null}function Nc(){Re(Kt),Re(Pt)}function C0(t,e,n){if(Pt.current!==ws)throw Error(b(168));Ce(Pt,e),Ce(Kt,n)}function CE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(b(108,QT(t)||"Unknown",s));return Me({},n,r)}function Rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,si=Pt.current,Ce(Pt,t),Ce(Kt,Kt.current),!0}function I0(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=CE(t,e,si),r.__reactInternalMemoizedMergedChildContext=t,Re(Kt),Re(Pt),Ce(Pt,t)):Re(Kt),Ce(Kt,n)}var vr=null,kd=!1,mf=!1;function IE(t){vr===null?vr=[t]:vr.push(t)}function hR(t){kd=!0,IE(t)}function bs(){if(!mf&&vr!==null){mf=!0;var t=0,e=ye;try{var n=vr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vr=null,kd=!1}catch(s){throw vr!==null&&(vr=vr.slice(t+1)),X_(hg,bs),s}finally{ye=e,mf=!1}}return null}var Xi=[],Ji=0,bc=null,Ac=0,wn=[],_n=0,ii=null,wr=1,_r="";function Bs(t,e){Xi[Ji++]=Ac,Xi[Ji++]=bc,bc=t,Ac=e}function TE(t,e,n){wn[_n++]=wr,wn[_n++]=_r,wn[_n++]=ii,ii=t;var r=wr;t=_r;var s=32-Ln(r)-1;r&=~(1<<s),n+=1;var i=32-Ln(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wr=1<<32-Ln(e)+s|n<<s|r,_r=i+t}else wr=1<<i|n<<s|r,_r=t}function Eg(t){t.return!==null&&(Bs(t,1),TE(t,1,0))}function Sg(t){for(;t===bc;)bc=Xi[--Ji],Xi[Ji]=null,Ac=Xi[--Ji],Xi[Ji]=null;for(;t===ii;)ii=wn[--_n],wn[_n]=null,_r=wn[--_n],wn[_n]=null,wr=wn[--_n],wn[_n]=null}var on=null,nn=null,je=!1,On=null;function NE(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function T0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,on=t,nn=os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,on=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ii!==null?{id:wr,overflow:_r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,on=t,nn=null,!0):!1;default:return!1}}function Fp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Up(t){if(je){var e=nn;if(e){var n=e;if(!T0(t,e)){if(Fp(t))throw Error(b(418));e=os(n.nextSibling);var r=on;e&&T0(t,e)?NE(r,n):(t.flags=t.flags&-4097|2,je=!1,on=t)}}else{if(Fp(t))throw Error(b(418));t.flags=t.flags&-4097|2,je=!1,on=t}}}function N0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function bu(t){if(t!==on)return!1;if(!je)return N0(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Op(t.type,t.memoizedProps)),e&&(e=nn)){if(Fp(t))throw RE(),Error(b(418));for(;e;)NE(t,e),e=os(e.nextSibling)}if(N0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=os(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=on?os(t.stateNode.nextSibling):null;return!0}function RE(){for(var t=nn;t;)t=os(t.nextSibling)}function ko(){nn=on=null,je=!1}function xg(t){On===null?On=[t]:On.push(t)}var fR=Lr.ReactCurrentBatchConfig;function Pn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pc=Rs(null),jc=null,Zi=null,kg=null;function Cg(){kg=Zi=jc=null}function Ig(t){var e=Pc.current;Re(Pc),t._currentValue=e}function Bp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){jc=t,kg=Zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(kg!==t)if(t={context:t,memoizedValue:e,next:null},Zi===null){if(jc===null)throw Error(b(308));Zi=t,jc.dependencies={lanes:0,firstContext:t}}else Zi=Zi.next=t;return e}var Ws=null;function Tg(t){Ws===null?Ws=[t]:Ws.push(t)}function bE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tg(e)):(n.next=s.next,s.next=n),e.interleaved=n,br(t,r)}function br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qr=!1;function Ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function as(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,br(t,n)}return s=r.interleaved,s===null?(e.next=e,Tg(r)):(e.next=s.next,s.next=e),r.interleaved=e,br(t,n)}function sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fg(t,n)}}function R0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dc(t,e,n,r){var s=t.updateQueue;qr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(p=e,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(g,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(g,h,p):v,p==null)break e;h=Me({},h,p);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ai|=o,t.lanes=o,t.memoizedState=h}}function b0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var PE=new b_.Component().refs;function Vp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cd={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=us(t),i=Cr(r,s);i.payload=e,n!=null&&(i.callback=n),e=as(t,i,s),e!==null&&(Fn(e,t,s,r),sc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=us(t),i=Cr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=as(t,i,s),e!==null&&(Fn(e,t,s,r),sc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=us(t),s=Cr(n,r);s.tag=2,e!=null&&(s.callback=e),e=as(t,s,r),e!==null&&(Fn(e,t,r,n),sc(e,t,r))}};function A0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!al(n,r)||!al(s,i):!0}function jE(t,e,n){var r=!1,s=ws,i=e.contextType;return typeof i=="object"&&i!==null?i=kn(i):(s=Gt(e)?si:Pt.current,r=e.contextTypes,i=(r=r!=null)?xo(t,s):ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function P0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cd.enqueueReplaceState(e,e.state,null)}function zp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=PE,Ng(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=kn(i):(i=Gt(e)?si:Pt.current,s.context=xo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cd.enqueueReplaceState(s,s.state,null),Dc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===PE&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Au(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j0(t){var e=t._init;return e(t._payload)}function DE(t){function e(f,m){if(t){var y=f.deletions;y===null?(f.deletions=[m],f.flags|=16):y.push(m)}}function n(f,m){if(!t)return null;for(;m!==null;)e(f,m),m=m.sibling;return null}function r(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function s(f,m){return f=cs(f,m),f.index=0,f.sibling=null,f}function i(f,m,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<m?(f.flags|=2,m):y):(f.flags|=2,m)):(f.flags|=1048576,m)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,m,y,E){return m===null||m.tag!==6?(m=Sf(y,f.mode,E),m.return=f,m):(m=s(m,y),m.return=f,m)}function l(f,m,y,E){var x=y.type;return x===qi?d(f,m,y.props.children,E,y.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Hr&&j0(x)===m.type)?(E=s(m,y.props),E.ref=ca(f,m,y),E.return=f,E):(E=cc(y.type,y.key,y.props,null,f.mode,E),E.ref=ca(f,m,y),E.return=f,E)}function c(f,m,y,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=xf(y,f.mode,E),m.return=f,m):(m=s(m,y.children||[]),m.return=f,m)}function d(f,m,y,E,x){return m===null||m.tag!==7?(m=ei(y,f.mode,E,x),m.return=f,m):(m=s(m,y),m.return=f,m)}function h(f,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Sf(""+m,f.mode,y),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case _u:return y=cc(m.type,m.key,m.props,null,f.mode,y),y.ref=ca(f,null,m),y.return=f,y;case Hi:return m=xf(m,f.mode,y),m.return=f,m;case Hr:var E=m._init;return h(f,E(m._payload),y)}if(xa(m)||ia(m))return m=ei(m,f.mode,y,null),m.return=f,m;Au(f,m)}return null}function p(f,m,y,E){var x=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:a(f,m,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _u:return y.key===x?l(f,m,y,E):null;case Hi:return y.key===x?c(f,m,y,E):null;case Hr:return x=y._init,p(f,m,x(y._payload),E)}if(xa(y)||ia(y))return x!==null?null:d(f,m,y,E,null);Au(f,y)}return null}function g(f,m,y,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return f=f.get(y)||null,a(m,f,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _u:return f=f.get(E.key===null?y:E.key)||null,l(m,f,E,x);case Hi:return f=f.get(E.key===null?y:E.key)||null,c(m,f,E,x);case Hr:var I=E._init;return g(f,m,y,I(E._payload),x)}if(xa(E)||ia(E))return f=f.get(y)||null,d(m,f,E,x,null);Au(m,E)}return null}function v(f,m,y,E){for(var x=null,I=null,N=m,P=m=0,j=null;N!==null&&P<y.length;P++){N.index>P?(j=N,N=null):j=N.sibling;var L=p(f,N,y[P],E);if(L===null){N===null&&(N=j);break}t&&N&&L.alternate===null&&e(f,N),m=i(L,m,P),I===null?x=L:I.sibling=L,I=L,N=j}if(P===y.length)return n(f,N),je&&Bs(f,P),x;if(N===null){for(;P<y.length;P++)N=h(f,y[P],E),N!==null&&(m=i(N,m,P),I===null?x=N:I.sibling=N,I=N);return je&&Bs(f,P),x}for(N=r(f,N);P<y.length;P++)j=g(N,f,P,y[P],E),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?P:j.key),m=i(j,m,P),I===null?x=j:I.sibling=j,I=j);return t&&N.forEach(function($){return e(f,$)}),je&&Bs(f,P),x}function w(f,m,y,E){var x=ia(y);if(typeof x!="function")throw Error(b(150));if(y=x.call(y),y==null)throw Error(b(151));for(var I=x=null,N=m,P=m=0,j=null,L=y.next();N!==null&&!L.done;P++,L=y.next()){N.index>P?(j=N,N=null):j=N.sibling;var $=p(f,N,L.value,E);if($===null){N===null&&(N=j);break}t&&N&&$.alternate===null&&e(f,N),m=i($,m,P),I===null?x=$:I.sibling=$,I=$,N=j}if(L.done)return n(f,N),je&&Bs(f,P),x;if(N===null){for(;!L.done;P++,L=y.next())L=h(f,L.value,E),L!==null&&(m=i(L,m,P),I===null?x=L:I.sibling=L,I=L);return je&&Bs(f,P),x}for(N=r(f,N);!L.done;P++,L=y.next())L=g(N,f,P,L.value,E),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?P:L.key),m=i(L,m,P),I===null?x=L:I.sibling=L,I=L);return t&&N.forEach(function(Ee){return e(f,Ee)}),je&&Bs(f,P),x}function _(f,m,y,E){if(typeof y=="object"&&y!==null&&y.type===qi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _u:e:{for(var x=y.key,I=m;I!==null;){if(I.key===x){if(x=y.type,x===qi){if(I.tag===7){n(f,I.sibling),m=s(I,y.props.children),m.return=f,f=m;break e}}else if(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Hr&&j0(x)===I.type){n(f,I.sibling),m=s(I,y.props),m.ref=ca(f,I,y),m.return=f,f=m;break e}n(f,I);break}else e(f,I);I=I.sibling}y.type===qi?(m=ei(y.props.children,f.mode,E,y.key),m.return=f,f=m):(E=cc(y.type,y.key,y.props,null,f.mode,E),E.ref=ca(f,m,y),E.return=f,f=E)}return o(f);case Hi:e:{for(I=y.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(f,m.sibling),m=s(m,y.children||[]),m.return=f,f=m;break e}else{n(f,m);break}else e(f,m);m=m.sibling}m=xf(y,f.mode,E),m.return=f,f=m}return o(f);case Hr:return I=y._init,_(f,m,I(y._payload),E)}if(xa(y))return v(f,m,y,E);if(ia(y))return w(f,m,y,E);Au(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(f,m.sibling),m=s(m,y),m.return=f,f=m):(n(f,m),m=Sf(y,f.mode,E),m.return=f,f=m),o(f)):n(f,m)}return _}var Co=DE(!0),OE=DE(!1),zl={},er=Rs(zl),dl=Rs(zl),hl=Rs(zl);function Ks(t){if(t===zl)throw Error(b(174));return t}function Rg(t,e){switch(Ce(hl,e),Ce(dl,t),Ce(er,zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ep(e,t)}Re(er),Ce(er,e)}function Io(){Re(er),Re(dl),Re(hl)}function $E(t){Ks(hl.current);var e=Ks(er.current),n=Ep(e,t.type);e!==n&&(Ce(dl,t),Ce(er,n))}function bg(t){dl.current===t&&(Re(er),Re(dl))}var Oe=Rs(0);function Oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gf=[];function Ag(){for(var t=0;t<gf.length;t++)gf[t]._workInProgressVersionPrimary=null;gf.length=0}var ic=Lr.ReactCurrentDispatcher,vf=Lr.ReactCurrentBatchConfig,oi=0,$e=null,Je=null,st=null,$c=!1,Fa=!1,fl=0,pR=0;function wt(){throw Error(b(321))}function Pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function jg(t,e,n,r,s,i){if(oi=i,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ic.current=t===null||t.memoizedState===null?yR:wR,t=n(r,s),Fa){i=0;do{if(Fa=!1,fl=0,25<=i)throw Error(b(301));i+=1,st=Je=null,e.updateQueue=null,ic.current=_R,t=n(r,s)}while(Fa)}if(ic.current=Mc,e=Je!==null&&Je.next!==null,oi=0,st=Je=$e=null,$c=!1,e)throw Error(b(300));return t}function Dg(){var t=fl!==0;return fl=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?$e.memoizedState=st=t:st=st.next=t,st}function Cn(){if(Je===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=st===null?$e.memoizedState:st.next;if(e!==null)st=e,Je=t;else{if(t===null)throw Error(b(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},st===null?$e.memoizedState=st=t:st=st.next=t}return st}function pl(t,e){return typeof e=="function"?e(t):e}function yf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((oi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=d,ai|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Un(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,$e.lanes|=i,ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wf(t){var e=Cn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Un(i,e.memoizedState)||(Wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ME(){}function LE(t,e){var n=$e,r=Cn(),s=e(),i=!Un(r.memoizedState,s);if(i&&(r.memoizedState=s,Wt=!0),r=r.queue,Og(BE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,ml(9,UE.bind(null,n,r,s,e),void 0,null),ot===null)throw Error(b(349));oi&30||FE(n,e,s)}return s}function FE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UE(t,e,n,r){e.value=n,e.getSnapshot=r,VE(e)&&zE(t)}function BE(t,e,n){return n(function(){VE(e)&&zE(t)})}function VE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function zE(t){var e=br(t,1);e!==null&&Fn(e,t,1,-1)}function D0(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:t},e.queue=t,t=t.dispatch=vR.bind(null,$e,t),[e.memoizedState,t]}function ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HE(){return Cn().memoizedState}function oc(t,e,n,r){var s=Kn();$e.flags|=t,s.memoizedState=ml(1|e,n,void 0,r===void 0?null:r)}function Id(t,e,n,r){var s=Cn();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&Pg(r,o.deps)){s.memoizedState=ml(e,n,i,r);return}}$e.flags|=t,s.memoizedState=ml(1|e,n,i,r)}function O0(t,e){return oc(8390656,8,t,e)}function Og(t,e){return Id(2048,8,t,e)}function qE(t,e){return Id(4,2,t,e)}function WE(t,e){return Id(4,4,t,e)}function KE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GE(t,e,n){return n=n!=null?n.concat([t]):null,Id(4,4,KE.bind(null,e,t),n)}function $g(){}function QE(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YE(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XE(t,e,n){return oi&21?(Un(n,e)||(n=eE(),$e.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function mR(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=vf.transition;vf.transition={};try{t(!1),e()}finally{ye=n,vf.transition=r}}function JE(){return Cn().memoizedState}function gR(t,e,n){var r=us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZE(t))eS(e,n);else if(n=bE(t,e,n,r),n!==null){var s=Lt();Fn(n,t,r,s),tS(n,e,r)}}function vR(t,e,n){var r=us(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZE(t))eS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Un(a,o)){var l=e.interleaved;l===null?(s.next=s,Tg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=bE(t,e,s,r),n!==null&&(s=Lt(),Fn(n,t,r,s),tS(n,e,r))}}function ZE(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function eS(t,e){Fa=$c=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fg(t,n)}}var Mc={readContext:kn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},yR={readContext:kn,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:O0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oc(4194308,4,KE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oc(4194308,4,t,e)},useInsertionEffect:function(t,e){return oc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gR.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:D0,useDebugValue:$g,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=D0(!1),e=t[0];return t=mR.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,s=Kn();if(je){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),ot===null)throw Error(b(349));oi&30||FE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,O0(BE.bind(null,r,i,t),[t]),r.flags|=2048,ml(9,UE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kn(),e=ot.identifierPrefix;if(je){var n=_r,r=wr;n=(r&~(1<<32-Ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wR={readContext:kn,useCallback:QE,useContext:kn,useEffect:Og,useImperativeHandle:GE,useInsertionEffect:qE,useLayoutEffect:WE,useMemo:YE,useReducer:yf,useRef:HE,useState:function(){return yf(pl)},useDebugValue:$g,useDeferredValue:function(t){var e=Cn();return XE(e,Je.memoizedState,t)},useTransition:function(){var t=yf(pl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:LE,useId:JE,unstable_isNewReconciler:!1},_R={readContext:kn,useCallback:QE,useContext:kn,useEffect:Og,useImperativeHandle:GE,useInsertionEffect:qE,useLayoutEffect:WE,useMemo:YE,useReducer:wf,useRef:HE,useState:function(){return wf(pl)},useDebugValue:$g,useDeferredValue:function(t){var e=Cn();return Je===null?e.memoizedState=t:XE(e,Je.memoizedState,t)},useTransition:function(){var t=wf(pl)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:LE,useId:JE,unstable_isNewReconciler:!1};function To(t,e){try{var n="",r=e;do n+=GT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ER=typeof WeakMap=="function"?WeakMap:Map;function nS(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fc||(Fc=!0,em=r),Hp(t,e)},n}function rS(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hp(t,e),typeof r!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ER;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=OR.bind(null,t,e,n),e.then(t,t))}function M0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function L0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,as(n,e,1))),n.lanes|=1),t)}var SR=Lr.ReactCurrentOwner,Wt=!1;function $t(t,e,n,r){e.child=t===null?OE(e,null,n,r):Co(e,t.child,n,r)}function F0(t,e,n,r,s){n=n.render;var i=e.ref;return uo(e,s),r=jg(t,e,n,r,i,s),n=Dg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ar(t,e,s)):(je&&n&&Eg(e),e.flags|=1,$t(t,e,r,s),e.child)}function U0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Hg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sS(t,e,i,r,s)):(t=cc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:al,n(o,r)&&t.ref===e.ref)return Ar(t,e,s)}return e.flags|=1,t=cs(i,r),t.ref=e.ref,t.return=e,e.child=t}function sS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(al(i,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Ar(t,e,s)}return qp(t,e,n,r,s)}function iS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(to,tn),tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(to,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(to,tn),tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(to,tn),tn|=r;return $t(t,e,s,n),e.child}function oS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qp(t,e,n,r,s){var i=Gt(n)?si:Pt.current;return i=xo(e,i),uo(e,s),n=jg(t,e,n,r,i,s),r=Dg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ar(t,e,s)):(je&&r&&Eg(e),e.flags|=1,$t(t,e,n,s),e.child)}function B0(t,e,n,r,s){if(Gt(n)){var i=!0;Rc(e)}else i=!1;if(uo(e,s),e.stateNode===null)ac(t,e),jE(e,n,r),zp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kn(c):(c=Gt(n)?si:Pt.current,c=xo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&P0(e,o,r,c),qr=!1;var p=e.memoizedState;o.state=p,Dc(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Kt.current||qr?(typeof d=="function"&&(Vp(e,n,d,r),l=e.memoizedState),(a=qr||A0(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,AE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=Gt(n)?si:Pt.current,l=xo(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&P0(e,o,r,l),qr=!1,p=e.memoizedState,o.state=p,Dc(e,r,o,s);var v=e.memoizedState;a!==h||p!==v||Kt.current||qr?(typeof g=="function"&&(Vp(e,n,g,r),v=e.memoizedState),(c=qr||A0(e,n,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Wp(t,e,n,r,i,s)}function Wp(t,e,n,r,s,i){oS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&I0(e,n,!1),Ar(t,e,i);r=e.stateNode,SR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Co(e,t.child,null,i),e.child=Co(e,null,a,i)):$t(t,e,a,i),e.memoizedState=r.state,s&&I0(e,n,!0),e.child}function aS(t){var e=t.stateNode;e.pendingContext?C0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C0(t,e.context,!1),Rg(t,e.containerInfo)}function V0(t,e,n,r,s){return ko(),xg(s),e.flags|=256,$t(t,e,n,r),e.child}var Kp={dehydrated:null,treeContext:null,retryLane:0};function Gp(t){return{baseLanes:t,cachePool:null,transitions:null}}function lS(t,e,n){var r=e.pendingProps,s=Oe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Oe,s&1),t===null)return Up(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rd(o,r,0,null),t=ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Gp(n),e.memoizedState=Kp,t):Mg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return xR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=cs(a,i):(i=ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Kp,r}return i=t.child,t=i.sibling,r=cs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mg(t,e){return e=Rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pu(t,e,n,r){return r!==null&&xg(r),Co(e,t.child,null,n),t=Mg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_f(Error(b(422))),Pu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Rd({mode:"visible",children:r.children},s,0,null),i=ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Co(e,t.child,null,o),e.child.memoizedState=Gp(o),e.memoizedState=Kp,i);if(!(e.mode&1))return Pu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(b(419)),r=_f(i,r,void 0),Pu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,br(t,s),Fn(r,t,s,-1))}return zg(),r=_f(Error(b(421))),Pu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=$R.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,nn=os(s.nextSibling),on=e,je=!0,On=null,t!==null&&(wn[_n++]=wr,wn[_n++]=_r,wn[_n++]=ii,wr=t.id,_r=t.overflow,ii=e),e=Mg(e,r.children),e.flags|=4096,e)}function z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bp(t.return,e,n)}function Ef(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z0(t,n,e);else if(t.tag===19)z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Oc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ef(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Oc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ef(e,!0,n,null,i);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ac(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=cs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kR(t,e,n){switch(e.tag){case 3:aS(e),ko();break;case 5:$E(e);break;case 1:Gt(e.type)&&Rc(e);break;case 4:Rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Pc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?lS(t,e,n):(Ce(Oe,Oe.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,iS(t,e,n)}return Ar(t,e,n)}var cS,Qp,dS,hS;cS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qp=function(){};dS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ks(er.current);var i=null;switch(n){case"input":s=vp(t,s),r=vp(t,r),i=[];break;case"select":s=Me({},s,{value:void 0}),r=Me({},r,{value:void 0}),i=[];break;case"textarea":s=_p(t,s),r=_p(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tc)}Sp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(el.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(el.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hS=function(t,e,n,r){n!==r&&(e.flags|=4)};function da(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CR(t,e,n){var r=e.pendingProps;switch(Sg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Gt(e.type)&&Nc(),_t(e),null;case 3:return r=e.stateNode,Io(),Re(Kt),Re(Pt),Ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(rm(On),On=null))),Qp(t,e),_t(e),null;case 5:bg(e);var s=Ks(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)dS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return _t(e),null}if(t=Ks(er.current),bu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gn]=e,r[cl]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Ca.length;s++)Ie(Ca[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Jy(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":e0(r,i),Ie("invalid",r)}Sp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),s=["children",""+a]):el.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Eu(r),Zy(r,i,!0);break;case"textarea":Eu(r),t0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Tc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[cl]=r,cS(t,e,!1,!1),e.stateNode=t;e:{switch(o=xp(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ca.length;s++)Ie(Ca[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":Jy(t,r),s=vp(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Me({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":e0(t,r),s=_p(t,r),Ie("invalid",t);break;default:s=r}Sp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?V_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&tl(t,l):typeof l=="number"&&tl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(el.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ie("scroll",t):l!=null&&ag(t,i,l,o))}switch(n){case"input":Eu(t),Zy(t,r,!1);break;case"textarea":Eu(t),t0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?io(t,!!r.multiple,i,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Tc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)hS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Ks(hl.current),Ks(er.current),bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(i=r.nodeValue!==n)&&(t=on,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return _t(e),null;case 13:if(Re(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&nn!==null&&e.mode&1&&!(e.flags&128))RE(),ko(),e.flags|=98560,i=!1;else if(i=bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[Gn]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else On!==null&&(rm(On),On=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Ze===0&&(Ze=3):zg())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Io(),Qp(t,e),t===null&&ll(e.stateNode.containerInfo),_t(e),null;case 10:return Ig(e.type._context),_t(e),null;case 17:return Gt(e.type)&&Nc(),_t(e),null;case 19:if(Re(Oe),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)da(i,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oc(t),o!==null){for(e.flags|=128,da(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Oe,Oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&qe()>No&&(e.flags|=128,r=!0,da(i,!1),e.lanes=4194304)}else{if(!r)if(t=Oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),da(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return _t(e),null}else 2*qe()-i.renderingStartTime>No&&n!==1073741824&&(e.flags|=128,r=!0,da(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qe(),e.sibling=null,n=Oe.current,Ce(Oe,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return Vg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function IR(t,e){switch(Sg(e),e.tag){case 1:return Gt(e.type)&&Nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),Re(Kt),Re(Pt),Ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bg(e),null;case 13:if(Re(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Oe),null;case 4:return Io(),null;case 10:return Ig(e.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var ju=!1,Ct=!1,TR=typeof WeakSet=="function"?WeakSet:Set,U=null;function eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Yp(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var H0=!1;function NR(t,e){if(jp=kc,t=gE(),_g(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dp={focusedElem:t,selectionRange:n},kc=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,f=e.stateNode,m=f.getSnapshotBeforeUpdate(e.elementType===e.type?w:Pn(e.type,w),_);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(E){Fe(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return v=H0,H0=!1,v}function Ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yp(e,n,i)}s=s.next}while(s!==r)}}function Td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fS(t){var e=t.alternate;e!==null&&(t.alternate=null,fS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[cl],delete e[Mp],delete e[cR],delete e[dR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pS(t){return t.tag===5||t.tag===3||t.tag===4}function q0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tc));else if(r!==4&&(t=t.child,t!==null))for(Jp(t,e,n),t=t.sibling;t!==null;)Jp(t,e,n),t=t.sibling}function Zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}var dt=null,Dn=!1;function Vr(t,e,n){for(n=n.child;n!==null;)mS(t,e,n),n=n.sibling}function mS(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:Ct||eo(n,e);case 6:var r=dt,s=Dn;dt=null,Vr(t,e,n),dt=r,Dn=s,dt!==null&&(Dn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Dn?(t=dt,n=n.stateNode,t.nodeType===8?pf(t.parentNode,n):t.nodeType===1&&pf(t,n),il(t)):pf(dt,n.stateNode));break;case 4:r=dt,s=Dn,dt=n.stateNode.containerInfo,Dn=!0,Vr(t,e,n),dt=r,Dn=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yp(n,e,o),s=s.next}while(s!==r)}Vr(t,e,n);break;case 1:if(!Ct&&(eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Vr(t,e,n),Ct=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function W0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TR),e.forEach(function(r){var s=MR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Dn=!1;break e;case 3:dt=a.stateNode.containerInfo,Dn=!0;break e;case 4:dt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(dt===null)throw Error(b(160));mS(i,o,s),dt=null,Dn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gS(e,t),e=e.sibling}function gS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),Hn(t),r&4){try{Ua(3,t,t.return),Td(3,t)}catch(w){Fe(t,t.return,w)}try{Ua(5,t,t.return)}catch(w){Fe(t,t.return,w)}}break;case 1:Rn(e,t),Hn(t),r&512&&n!==null&&eo(n,n.return);break;case 5:if(Rn(e,t),Hn(t),r&512&&n!==null&&eo(n,n.return),t.flags&32){var s=t.stateNode;try{tl(s,"")}catch(w){Fe(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&M_(s,i),xp(a,o);var c=xp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?V_(s,h):d==="dangerouslySetInnerHTML"?U_(s,h):d==="children"?tl(s,h):ag(s,d,h,c)}switch(a){case"input":yp(s,i);break;case"textarea":L_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?io(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?io(s,!!i.multiple,i.defaultValue,!0):io(s,!!i.multiple,i.multiple?[]:"",!1))}s[cl]=i}catch(w){Fe(t,t.return,w)}}break;case 6:if(Rn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Fe(t,t.return,w)}}break;case 3:if(Rn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(w){Fe(t,t.return,w)}break;case 4:Rn(e,t),Hn(t);break;case 13:Rn(e,t),Hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ug=qe())),r&4&&W0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||d,Rn(e,t),Ct=c):Rn(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(h=U=d;U!==null;){switch(p=U,g=p.child,p.tag){case 0:case 11:case 14:case 15:Ua(4,p,p.return);break;case 1:eo(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Fe(r,n,w)}}break;case 5:eo(p,p.return);break;case 22:if(p.memoizedState!==null){G0(h);continue}}g!==null?(g.return=p,U=g):G0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=B_("display",o))}catch(w){Fe(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Fe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rn(e,t),Hn(t),r&4&&W0(t);break;case 21:break;default:Rn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pS(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(tl(s,""),r.flags&=-33);var i=q0(t);Zp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=q0(t);Jp(t,a,o);break;default:throw Error(b(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RR(t,e,n){U=t,vS(t)}function vS(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ju;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=ju;var c=Ct;if(ju=o,(Ct=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?Q0(s):l!==null?(l.return=o,U=l):Q0(s);for(;i!==null;)U=i,vS(i),i=i.sibling;U=s,ju=a,Ct=c}K0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):K0(t)}}function K0(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&b0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&il(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ct||e.flags&512&&Xp(e)}catch(p){Fe(e,e.return,p)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function G0(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function Q0(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Td(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Fe(e,s,l)}}var i=e.return;try{Xp(e)}catch(l){Fe(e,i,l)}break;case 5:var o=e.return;try{Xp(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var bR=Math.ceil,Lc=Lr.ReactCurrentDispatcher,Lg=Lr.ReactCurrentOwner,xn=Lr.ReactCurrentBatchConfig,fe=0,ot=null,Qe=null,mt=0,tn=0,to=Rs(0),Ze=0,gl=null,ai=0,Nd=0,Fg=0,Ba=null,Ht=null,Ug=0,No=1/0,pr=null,Fc=!1,em=null,ls=null,Du=!1,ts=null,Uc=0,Va=0,tm=null,lc=-1,uc=0;function Lt(){return fe&6?qe():lc!==-1?lc:lc=qe()}function us(t){return t.mode&1?fe&2&&mt!==0?mt&-mt:fR.transition!==null?(uc===0&&(uc=eE()),uc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:aE(t.type)),t):1}function Fn(t,e,n,r){if(50<Va)throw Va=0,tm=null,Error(b(185));Ul(t,n,r),(!(fe&2)||t!==ot)&&(t===ot&&(!(fe&2)&&(Nd|=n),Ze===4&&Kr(t,mt)),Qt(t,r),n===1&&fe===0&&!(e.mode&1)&&(No=qe()+500,kd&&bs()))}function Qt(t,e){var n=t.callbackNode;fN(t,e);var r=xc(t,t===ot?mt:0);if(r===0)n!==null&&s0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&s0(n),e===1)t.tag===0?hR(Y0.bind(null,t)):IE(Y0.bind(null,t)),lR(function(){!(fe&6)&&bs()}),n=null;else{switch(tE(r)){case 1:n=hg;break;case 4:n=J_;break;case 16:n=Sc;break;case 536870912:n=Z_;break;default:n=Sc}n=CS(n,yS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yS(t,e){if(lc=-1,uc=0,fe&6)throw Error(b(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=xc(t,t===ot?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bc(t,r);else{e=r;var s=fe;fe|=2;var i=_S();(ot!==t||mt!==e)&&(pr=null,No=qe()+500,Zs(t,e));do try{jR();break}catch(a){wS(t,a)}while(1);Cg(),Lc.current=i,fe=s,Qe!==null?e=0:(ot=null,mt=0,e=Ze)}if(e!==0){if(e===2&&(s=Np(t),s!==0&&(r=s,e=nm(t,s))),e===1)throw n=gl,Zs(t,0),Kr(t,r),Qt(t,qe()),n;if(e===6)Kr(t,r);else{if(s=t.current.alternate,!(r&30)&&!AR(s)&&(e=Bc(t,r),e===2&&(i=Np(t),i!==0&&(r=i,e=nm(t,i))),e===1))throw n=gl,Zs(t,0),Kr(t,r),Qt(t,qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Vs(t,Ht,pr);break;case 3:if(Kr(t,r),(r&130023424)===r&&(e=Ug+500-qe(),10<e)){if(xc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$p(Vs.bind(null,t,Ht,pr),e);break}Vs(t,Ht,pr);break;case 4:if(Kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ln(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bR(r/1960))-r,10<r){t.timeoutHandle=$p(Vs.bind(null,t,Ht,pr),r);break}Vs(t,Ht,pr);break;case 5:Vs(t,Ht,pr);break;default:throw Error(b(329))}}}return Qt(t,qe()),t.callbackNode===n?yS.bind(null,t):null}function nm(t,e){var n=Ba;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=Bc(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&rm(e)),t}function rm(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function AR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Un(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~Fg,e&=~Nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),r=1<<n;t[n]=-1,e&=~r}}function Y0(t){if(fe&6)throw Error(b(327));co();var e=xc(t,0);if(!(e&1))return Qt(t,qe()),null;var n=Bc(t,e);if(t.tag!==0&&n===2){var r=Np(t);r!==0&&(e=r,n=nm(t,r))}if(n===1)throw n=gl,Zs(t,0),Kr(t,e),Qt(t,qe()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vs(t,Ht,pr),Qt(t,qe()),null}function Bg(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(No=qe()+500,kd&&bs())}}function li(t){ts!==null&&ts.tag===0&&!(fe&6)&&co();var e=fe;fe|=1;var n=xn.transition,r=ye;try{if(xn.transition=null,ye=1,t)return t()}finally{ye=r,xn.transition=n,fe=e,!(fe&6)&&bs()}}function Vg(){tn=to.current,Re(to)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aR(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Sg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nc();break;case 3:Io(),Re(Kt),Re(Pt),Ag();break;case 5:bg(r);break;case 4:Io();break;case 13:Re(Oe);break;case 19:Re(Oe);break;case 10:Ig(r.type._context);break;case 22:case 23:Vg()}n=n.return}if(ot=t,Qe=t=cs(t.current,null),mt=tn=e,Ze=0,gl=null,Fg=Nd=ai=0,Ht=Ba=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ws=null}return t}function wS(t,e){do{var n=Qe;try{if(Cg(),ic.current=Mc,$c){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$c=!1}if(oi=0,st=Je=$e=null,Fa=!1,fl=0,Lg.current=null,n===null||n.return===null){Ze=1,gl=e,Qe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=M0(o);if(g!==null){g.flags&=-257,L0(g,o,a,i,e),g.mode&1&&$0(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){$0(i,c,e),zg();break e}l=Error(b(426))}}else if(je&&a.mode&1){var _=M0(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),L0(_,o,a,i,e),xg(To(l,a));break e}}i=l=To(l,a),Ze!==4&&(Ze=2),Ba===null?Ba=[i]:Ba.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=nS(i,l,e);R0(i,f);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ls===null||!ls.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=rS(i,a,e);R0(i,E);break e}}i=i.return}while(i!==null)}SS(n)}catch(x){e=x,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function _S(){var t=Lc.current;return Lc.current=Mc,t===null?Mc:t}function zg(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),ot===null||!(ai&268435455)&&!(Nd&268435455)||Kr(ot,mt)}function Bc(t,e){var n=fe;fe|=2;var r=_S();(ot!==t||mt!==e)&&(pr=null,Zs(t,e));do try{PR();break}catch(s){wS(t,s)}while(1);if(Cg(),fe=n,Lc.current=r,Qe!==null)throw Error(b(261));return ot=null,mt=0,Ze}function PR(){for(;Qe!==null;)ES(Qe)}function jR(){for(;Qe!==null&&!sN();)ES(Qe)}function ES(t){var e=kS(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?SS(t):Qe=e,Lg.current=null}function SS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IR(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}else if(n=CR(n,e,tn),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function Vs(t,e,n){var r=ye,s=xn.transition;try{xn.transition=null,ye=1,DR(t,e,n,r)}finally{xn.transition=s,ye=r}return null}function DR(t,e,n,r){do co();while(ts!==null);if(fe&6)throw Error(b(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(pN(t,i),t===ot&&(Qe=ot=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,CS(Sc,function(){return co(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xn.transition,xn.transition=null;var o=ye;ye=1;var a=fe;fe|=4,Lg.current=null,NR(t,n),gS(n,t),eR(Dp),kc=!!jp,Dp=jp=null,t.current=n,RR(n),iN(),fe=a,ye=o,xn.transition=i}else t.current=n;if(Du&&(Du=!1,ts=t,Uc=s),i=t.pendingLanes,i===0&&(ls=null),lN(n.stateNode),Qt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fc)throw Fc=!1,t=em,em=null,t;return Uc&1&&t.tag!==0&&co(),i=t.pendingLanes,i&1?t===tm?Va++:(Va=0,tm=t):Va=0,bs(),null}function co(){if(ts!==null){var t=tE(Uc),e=xn.transition,n=ye;try{if(xn.transition=null,ye=16>t?16:t,ts===null)var r=!1;else{if(t=ts,ts=null,Uc=0,fe&6)throw Error(b(331));var s=fe;for(fe|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Ua(8,d,i)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var p=d.sibling,g=d.return;if(fS(d),d===c){U=null;break}if(p!==null){p.return=g,U=p;break}U=g}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ua(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,U=f;break e}U=i.return}}var m=t.current;for(U=m;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=m;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Td(9,a)}}catch(x){Fe(a,a.return,x)}if(a===o){U=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,U=E;break e}U=a.return}}if(fe=s,bs(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{ye=n,xn.transition=e}}return!1}function X0(t,e,n){e=To(n,e),e=nS(t,e,1),t=as(t,e,1),e=Lt(),t!==null&&(Ul(t,1,e),Qt(t,e))}function Fe(t,e,n){if(t.tag===3)X0(t,t,n);else for(;e!==null;){if(e.tag===3){X0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ls===null||!ls.has(r))){t=To(n,t),t=rS(e,t,1),e=as(e,t,1),t=Lt(),e!==null&&(Ul(e,1,t),Qt(e,t));break}}e=e.return}}function OR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(mt&n)===n&&(Ze===4||Ze===3&&(mt&130023424)===mt&&500>qe()-Ug?Zs(t,0):Fg|=n),Qt(t,e)}function xS(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=Lt();t=br(t,e),t!==null&&(Ul(t,e,n),Qt(t,n))}function $R(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xS(t,n)}function MR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),xS(t,n)}var kS;kS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,kR(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,je&&e.flags&1048576&&TE(e,Ac,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ac(t,e),t=e.pendingProps;var s=xo(e,Pt.current);uo(e,n),s=jg(null,e,r,t,s,n);var i=Dg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(i=!0,Rc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ng(e),s.updater=Cd,e.stateNode=s,s._reactInternals=e,zp(e,r,t,n),e=Wp(null,e,r,!0,i,n)):(e.tag=0,je&&i&&Eg(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ac(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=FR(r),t=Pn(r,t),s){case 0:e=qp(null,e,r,t,n);break e;case 1:e=B0(null,e,r,t,n);break e;case 11:e=F0(null,e,r,t,n);break e;case 14:e=U0(null,e,r,Pn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),qp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),B0(t,e,r,s,n);case 3:e:{if(aS(e),t===null)throw Error(b(387));r=e.pendingProps,i=e.memoizedState,s=i.element,AE(t,e),Dc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=To(Error(b(423)),e),e=V0(t,e,r,n,s);break e}else if(r!==s){s=To(Error(b(424)),e),e=V0(t,e,r,n,s);break e}else for(nn=os(e.stateNode.containerInfo.firstChild),on=e,je=!0,On=null,n=OE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===s){e=Ar(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return $E(e),t===null&&Up(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Op(r,s)?o=null:i!==null&&Op(r,i)&&(e.flags|=32),oS(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Up(e),null;case 13:return lS(t,e,n);case 4:return Rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Co(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),F0(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Pc,r._currentValue),r._currentValue=o,i!==null)if(Un(i.value,o)){if(i.children===s.children&&!Kt.current){e=Ar(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Cr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,uo(e,n),s=kn(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=Pn(r,e.pendingProps),s=Pn(r.type,s),U0(t,e,r,s,n);case 15:return sS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),ac(t,e),e.tag=1,Gt(r)?(t=!0,Rc(e)):t=!1,uo(e,n),jE(e,r,s),zp(e,r,s,n),Wp(null,e,r,!0,t,n);case 19:return uS(t,e,n);case 22:return iS(t,e,n)}throw Error(b(156,e.tag))};function CS(t,e){return X_(t,e)}function LR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new LR(t,e,n,r)}function Hg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FR(t){if(typeof t=="function")return Hg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ug)return 11;if(t===cg)return 14}return 2}function cs(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Hg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qi:return ei(n.children,s,i,e);case lg:o=8,s|=8;break;case fp:return t=Sn(12,n,e,s|2),t.elementType=fp,t.lanes=i,t;case pp:return t=Sn(13,n,e,s),t.elementType=pp,t.lanes=i,t;case mp:return t=Sn(19,n,e,s),t.elementType=mp,t.lanes=i,t;case D_:return Rd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P_:o=10;break e;case j_:o=9;break e;case ug:o=11;break e;case cg:o=14;break e;case Hr:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ei(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function Rd(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=D_,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qg(t,e,n,r,s,i,o,a,l){return t=new UR(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Sn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ng(i),t}function BR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IS(t){if(!t)return ws;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Gt(n))return CE(t,n,e)}return e}function TS(t,e,n,r,s,i,o,a,l){return t=qg(n,r,!0,t,s,i,o,a,l),t.context=IS(null),n=t.current,r=Lt(),s=us(n),i=Cr(r,s),i.callback=e??null,as(n,i,s),t.current.lanes=s,Ul(t,s,r),Qt(t,r),t}function bd(t,e,n,r){var s=e.current,i=Lt(),o=us(s);return n=IS(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=as(s,e,o),t!==null&&(Fn(t,s,o,i),sc(t,s,o)),o}function Vc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function J0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wg(t,e){J0(t,e),(t=t.alternate)&&J0(t,e)}function VR(){return null}var NS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kg(t){this._internalRoot=t}Ad.prototype.render=Kg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));bd(t,e,null,null)};Ad.prototype.unmount=Kg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){bd(null,t,null,null)}),e[Rr]=null}};function Ad(t){this._internalRoot=t}Ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=sE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wr.length&&e!==0&&e<Wr[n].priority;n++);Wr.splice(n,0,t),n===0&&oE(t)}};function Gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z0(){}function zR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Vc(o);i.call(c)}}var o=TS(e,r,t,0,null,!1,!1,"",Z0);return t._reactRootContainer=o,t[Rr]=o.current,ll(t.nodeType===8?t.parentNode:t),li(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Vc(l);a.call(c)}}var l=qg(t,0,!1,null,null,!1,!1,"",Z0);return t._reactRootContainer=l,t[Rr]=l.current,ll(t.nodeType===8?t.parentNode:t),li(function(){bd(e,l,n,r)}),l}function jd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Vc(o);a.call(l)}}bd(e,o,t,s)}else o=zR(n,e,t,s,r);return Vc(o)}nE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ka(e.pendingLanes);n!==0&&(fg(e,n|1),Qt(e,qe()),!(fe&6)&&(No=qe()+500,bs()))}break;case 13:li(function(){var r=br(t,1);if(r!==null){var s=Lt();Fn(r,t,1,s)}}),Wg(t,1)}};pg=function(t){if(t.tag===13){var e=br(t,134217728);if(e!==null){var n=Lt();Fn(e,t,134217728,n)}Wg(t,134217728)}};rE=function(t){if(t.tag===13){var e=us(t),n=br(t,e);if(n!==null){var r=Lt();Fn(n,t,e,r)}Wg(t,e)}};sE=function(){return ye};iE=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Cp=function(t,e,n){switch(e){case"input":if(yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xd(r);if(!s)throw Error(b(90));$_(r),yp(r,s)}}}break;case"textarea":L_(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};q_=Bg;W_=li;var HR={usingClientEntryPoint:!1,Events:[Vl,Qi,xd,z_,H_,Bg]},ha={findFiberByHostInstance:qs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qR={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q_(t),t===null?null:t.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||VR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{wd=Ou.inject(qR),Zn=Ou}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gg(e))throw Error(b(200));return BR(t,e,null,n)};cn.createRoot=function(t,e){if(!Gg(t))throw Error(b(299));var n=!1,r="",s=NS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=qg(t,1,!1,null,null,n,!1,r,s),t[Rr]=e.current,ll(t.nodeType===8?t.parentNode:t),new Kg(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Q_(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return li(t)};cn.hydrate=function(t,e,n){if(!Pd(e))throw Error(b(200));return jd(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Gg(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=NS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TS(e,null,t,1,n??null,s,!1,i,o),t[Rr]=e.current,ll(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ad(e)};cn.render=function(t,e,n){if(!Pd(e))throw Error(b(200));return jd(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!Pd(t))throw Error(b(40));return t._reactRootContainer?(li(function(){jd(null,null,t,!1,function(){t._reactRootContainer=null,t[Rr]=null})}),!0):!1};cn.unstable_batchedUpdates=Bg;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pd(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return jd(t,e,n,!1,r)};cn.version="18.2.0-next-9e3b772b8-20220608";function RS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RS)}catch(t){console.error(t)}}RS(),T_.exports=cn;var Qg=T_.exports;const bS=g_(Qg);var e1=Qg;dp.createRoot=e1.createRoot,dp.hydrateRoot=e1.hydrateRoot;var AS={exports:{}},PS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=S;function WR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KR=typeof Object.is=="function"?Object.is:WR,GR=Ro.useState,QR=Ro.useEffect,YR=Ro.useLayoutEffect,XR=Ro.useDebugValue;function JR(t,e){var n=e(),r=GR({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return YR(function(){s.value=n,s.getSnapshot=e,kf(s)&&i({inst:s})},[t,n,e]),QR(function(){return kf(s)&&i({inst:s}),t(function(){kf(s)&&i({inst:s})})},[t]),XR(n),n}function kf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!KR(t,n)}catch{return!0}}function ZR(t,e){return e()}var eb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZR:JR;PS.useSyncExternalStore=Ro.useSyncExternalStore!==void 0?Ro.useSyncExternalStore:eb;AS.exports=PS;var tb=AS.exports,jS={exports:{}},DS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd=S,nb=tb;function rb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sb=typeof Object.is=="function"?Object.is:rb,ib=nb.useSyncExternalStore,ob=Dd.useRef,ab=Dd.useEffect,lb=Dd.useMemo,ub=Dd.useDebugValue;DS.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=ob(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=lb(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return h=v}return h=g}if(v=h,sb(d,g))return v;var w=r(g);return s!==void 0&&s(v,w)?v:(d=g,h=w)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,s]);var a=ib(t,i[0],i[1]);return ab(function(){o.hasValue=!0,o.value=a},[a]),ub(a),a};jS.exports=DS;var cb=jS.exports;function db(t){t()}let OS=db;const hb=t=>OS=t,fb=()=>OS,_s=S.createContext(null);function $S(){return S.useContext(_s)}const pb=()=>{throw new Error("uSES not initialized!")};let MS=pb;const mb=t=>{MS=t},gb=(t,e)=>t===e;function vb(t=_s){const e=t===_s?$S:()=>S.useContext(t);return function(r,s=gb){const{store:i,subscription:o,getServerState:a}=e(),l=MS(o.addNestedSub,i.getState,a||i.getState,r,s);return S.useDebugValue(l),l}}const at=vb();var LS={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=typeof Symbol=="function"&&Symbol.for,Yg=ut?Symbol.for("react.element"):60103,Xg=ut?Symbol.for("react.portal"):60106,Od=ut?Symbol.for("react.fragment"):60107,$d=ut?Symbol.for("react.strict_mode"):60108,Md=ut?Symbol.for("react.profiler"):60114,Ld=ut?Symbol.for("react.provider"):60109,Fd=ut?Symbol.for("react.context"):60110,Jg=ut?Symbol.for("react.async_mode"):60111,Ud=ut?Symbol.for("react.concurrent_mode"):60111,Bd=ut?Symbol.for("react.forward_ref"):60112,Vd=ut?Symbol.for("react.suspense"):60113,yb=ut?Symbol.for("react.suspense_list"):60120,zd=ut?Symbol.for("react.memo"):60115,Hd=ut?Symbol.for("react.lazy"):60116,wb=ut?Symbol.for("react.block"):60121,_b=ut?Symbol.for("react.fundamental"):60117,Eb=ut?Symbol.for("react.responder"):60118,Sb=ut?Symbol.for("react.scope"):60119;function hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yg:switch(t=t.type,t){case Jg:case Ud:case Od:case Md:case $d:case Vd:return t;default:switch(t=t&&t.$$typeof,t){case Fd:case Bd:case Hd:case zd:case Ld:return t;default:return e}}case Xg:return e}}}function FS(t){return hn(t)===Ud}_e.AsyncMode=Jg;_e.ConcurrentMode=Ud;_e.ContextConsumer=Fd;_e.ContextProvider=Ld;_e.Element=Yg;_e.ForwardRef=Bd;_e.Fragment=Od;_e.Lazy=Hd;_e.Memo=zd;_e.Portal=Xg;_e.Profiler=Md;_e.StrictMode=$d;_e.Suspense=Vd;_e.isAsyncMode=function(t){return FS(t)||hn(t)===Jg};_e.isConcurrentMode=FS;_e.isContextConsumer=function(t){return hn(t)===Fd};_e.isContextProvider=function(t){return hn(t)===Ld};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yg};_e.isForwardRef=function(t){return hn(t)===Bd};_e.isFragment=function(t){return hn(t)===Od};_e.isLazy=function(t){return hn(t)===Hd};_e.isMemo=function(t){return hn(t)===zd};_e.isPortal=function(t){return hn(t)===Xg};_e.isProfiler=function(t){return hn(t)===Md};_e.isStrictMode=function(t){return hn(t)===$d};_e.isSuspense=function(t){return hn(t)===Vd};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Od||t===Ud||t===Md||t===$d||t===Vd||t===yb||typeof t=="object"&&t!==null&&(t.$$typeof===Hd||t.$$typeof===zd||t.$$typeof===Ld||t.$$typeof===Fd||t.$$typeof===Bd||t.$$typeof===_b||t.$$typeof===Eb||t.$$typeof===Sb||t.$$typeof===wb)};_e.typeOf=hn;LS.exports=_e;var xb=LS.exports,US=xb,kb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BS={};BS[US.ForwardRef]=kb;BS[US.Memo]=Cb;var xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg=Symbol.for("react.element"),ev=Symbol.for("react.portal"),qd=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),Qd=Symbol.for("react.context"),Ib=Symbol.for("react.server_context"),Yd=Symbol.for("react.forward_ref"),Xd=Symbol.for("react.suspense"),Jd=Symbol.for("react.suspense_list"),Zd=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),Tb=Symbol.for("react.offscreen"),VS;VS=Symbol.for("react.module.reference");function Tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zg:switch(t=t.type,t){case qd:case Kd:case Wd:case Xd:case Jd:return t;default:switch(t=t&&t.$$typeof,t){case Ib:case Qd:case Yd:case eh:case Zd:case Gd:return t;default:return e}}case ev:return e}}}xe.ContextConsumer=Qd;xe.ContextProvider=Gd;xe.Element=Zg;xe.ForwardRef=Yd;xe.Fragment=qd;xe.Lazy=eh;xe.Memo=Zd;xe.Portal=ev;xe.Profiler=Kd;xe.StrictMode=Wd;xe.Suspense=Xd;xe.SuspenseList=Jd;xe.isAsyncMode=function(){return!1};xe.isConcurrentMode=function(){return!1};xe.isContextConsumer=function(t){return Tn(t)===Qd};xe.isContextProvider=function(t){return Tn(t)===Gd};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zg};xe.isForwardRef=function(t){return Tn(t)===Yd};xe.isFragment=function(t){return Tn(t)===qd};xe.isLazy=function(t){return Tn(t)===eh};xe.isMemo=function(t){return Tn(t)===Zd};xe.isPortal=function(t){return Tn(t)===ev};xe.isProfiler=function(t){return Tn(t)===Kd};xe.isStrictMode=function(t){return Tn(t)===Wd};xe.isSuspense=function(t){return Tn(t)===Xd};xe.isSuspenseList=function(t){return Tn(t)===Jd};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===qd||t===Kd||t===Wd||t===Xd||t===Jd||t===Tb||typeof t=="object"&&t!==null&&(t.$$typeof===eh||t.$$typeof===Zd||t.$$typeof===Gd||t.$$typeof===Qd||t.$$typeof===Yd||t.$$typeof===VS||t.getModuleId!==void 0)};xe.typeOf=Tn;function Nb(){const t=fb();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,i=n={callback:r,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){!s||e===null||(s=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}const t1={notify(){},get:()=>[]};function Rb(t,e){let n,r=t1;function s(h){return l(),r.subscribe(h)}function i(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=Nb())}function c(){n&&(n(),n=void 0,r.clear(),r=t1)}const d={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>r};return d}const bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ab=bb?S.useLayoutEffect:S.useEffect;function Pb({store:t,context:e,children:n,serverState:r}){const s=S.useMemo(()=>{const a=Rb(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),i=S.useMemo(()=>t.getState(),[t]);Ab(()=>{const{subscription:a}=s;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),i!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[s,i]);const o=e||_s;return sg.createElement(o.Provider,{value:s},n)}function zS(t=_s){const e=t===_s?$S:()=>S.useContext(t);return function(){const{store:r}=e();return r}}const jb=zS();function Db(t=_s){const e=t===_s?jb:zS(t);return function(){return e().dispatch}}const As=Db();mb(cb.useSyncExternalStoreWithSelector);hb(Qg.unstable_batchedUpdates);function $n(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Es(t){return!!t&&!!t[Pe]}function Pr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===zb}(t)||Array.isArray(t)||!!t[l1]||!!(!((e=t.constructor)===null||e===void 0)&&e[l1])||tv(t)||nv(t))}function ui(t,e,n){n===void 0&&(n=!1),Wo(t)===0?(n?Object.keys:fo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Wo(t){var e=t[Pe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:tv(t)?2:nv(t)?3:0}function ho(t,e){return Wo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ob(t,e){return Wo(t)===2?t.get(e):t[e]}function HS(t,e,n){var r=Wo(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function qS(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function tv(t){return Bb&&t instanceof Map}function nv(t){return Vb&&t instanceof Set}function zs(t){return t.o||t.t}function rv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=KS(t);delete e[Pe];for(var n=fo(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function sv(t,e){return e===void 0&&(e=!1),iv(t)||Es(t)||!Pr(t)||(Wo(t)>1&&(t.set=t.add=t.clear=t.delete=$b),Object.freeze(t),e&&ui(t,function(n,r){return sv(r,!0)},!0)),t}function $b(){$n(2)}function iv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function tr(t){var e=am[t];return e||$n(18,t),e}function Mb(t,e){am[t]||(am[t]=e)}function sm(){return vl}function Cf(t,e){e&&(tr("Patches"),t.u=[],t.s=[],t.v=e)}function zc(t){im(t),t.p.forEach(Lb),t.p=null}function im(t){t===vl&&(vl=t.l)}function n1(t){return vl={p:[],l:vl,h:t,m:!0,_:0}}function Lb(t){var e=t[Pe];e.i===0||e.i===1?e.j():e.g=!0}function If(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||tr("ES5").S(e,t,r),r?(n[Pe].P&&(zc(e),$n(4)),Pr(t)&&(t=Hc(e,t),e.l||qc(e,t)),e.u&&tr("Patches").M(n[Pe].t,t,e.u,e.s)):t=Hc(e,n,[]),zc(e),e.u&&e.v(e.u,e.s),t!==WS?t:void 0}function Hc(t,e,n){if(iv(e))return e;var r=e[Pe];if(!r)return ui(e,function(a,l){return r1(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return qc(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=rv(r.k):r.o,i=s,o=!1;r.i===3&&(i=new Set(s),s.clear(),o=!0),ui(i,function(a,l){return r1(t,r,s,a,l,n,o)}),qc(t,s,!1),n&&t.u&&tr("Patches").N(r,n,t.u,t.s)}return r.o}function r1(t,e,n,r,s,i,o){if(Es(s)){var a=Hc(t,s,i&&e&&e.i!==3&&!ho(e.R,r)?i.concat(r):void 0);if(HS(n,r,a),!Es(a))return;t.m=!1}else o&&n.add(s);if(Pr(s)&&!iv(s)){if(!t.h.D&&t._<1)return;Hc(t,s),e&&e.A.l||qc(t,s)}}function qc(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&sv(e,n)}function Tf(t,e){var n=t[Pe];return(n?zs(n):t)[e]}function s1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Gr(t){t.P||(t.P=!0,t.l&&Gr(t.l))}function Nf(t){t.o||(t.o=rv(t.t))}function om(t,e,n){var r=tv(e)?tr("MapSet").F(e,n):nv(e)?tr("MapSet").T(e,n):t.O?function(s,i){var o=Array.isArray(s),a={i:o?1:0,A:i?i.A:sm(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},l=a,c=yl;o&&(l=[a],c=Ia);var d=Proxy.revocable(l,c),h=d.revoke,p=d.proxy;return a.k=p,a.j=h,p}(e,n):tr("ES5").J(e,n);return(n?n.A:sm()).p.push(r),r}function Fb(t){return Es(t)||$n(22,t),function e(n){if(!Pr(n))return n;var r,s=n[Pe],i=Wo(n);if(s){if(!s.P&&(s.i<4||!tr("ES5").K(s)))return s.t;s.I=!0,r=i1(n,i),s.I=!1}else r=i1(n,i);return ui(r,function(o,a){s&&Ob(s.t,o)===a||HS(r,o,e(a))}),i===3?new Set(r):r}(t)}function i1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return rv(t)}function Ub(){function t(i,o){var a=s[i];return a?a.enumerable=o:s[i]=a={configurable:!0,enumerable:o,get:function(){var l=this[Pe];return yl.get(l,i)},set:function(l){var c=this[Pe];yl.set(c,i,l)}},a}function e(i){for(var o=i.length-1;o>=0;o--){var a=i[o][Pe];if(!a.P)switch(a.i){case 5:r(a)&&Gr(a);break;case 4:n(a)&&Gr(a)}}}function n(i){for(var o=i.t,a=i.k,l=fo(a),c=l.length-1;c>=0;c--){var d=l[c];if(d!==Pe){var h=o[d];if(h===void 0&&!ho(o,d))return!0;var p=a[d],g=p&&p[Pe];if(g?g.t!==h:!qS(p,h))return!0}}var v=!!o[Pe];return l.length!==fo(o).length+(v?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var s={};Mb("ES5",{J:function(i,o){var a=Array.isArray(i),l=function(d,h){if(d){for(var p=Array(h.length),g=0;g<h.length;g++)Object.defineProperty(p,""+g,t(g,!0));return p}var v=KS(h);delete v[Pe];for(var w=fo(v),_=0;_<w.length;_++){var f=w[_];v[f]=t(f,d||!!v[f].enumerable)}return Object.create(Object.getPrototypeOf(h),v)}(a,i),c={i:a?5:4,A:o?o.A:sm(),P:!1,I:!1,R:{},l:o,t:i,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Pe,{value:c,writable:!0}),l},S:function(i,o,a){a?Es(o)&&o[Pe].A===i&&e(i.p):(i.u&&function l(c){if(c&&typeof c=="object"){var d=c[Pe];if(d){var h=d.t,p=d.k,g=d.R,v=d.i;if(v===4)ui(p,function(y){y!==Pe&&(h[y]!==void 0||ho(h,y)?g[y]||l(p[y]):(g[y]=!0,Gr(d)))}),ui(h,function(y){p[y]!==void 0||ho(p,y)||(g[y]=!1,Gr(d))});else if(v===5){if(r(d)&&(Gr(d),g.length=!0),p.length<h.length)for(var w=p.length;w<h.length;w++)g[w]=!1;else for(var _=h.length;_<p.length;_++)g[_]=!0;for(var f=Math.min(p.length,h.length),m=0;m<f;m++)p.hasOwnProperty(m)||(g[m]=!0),g[m]===void 0&&l(p[m])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var o1,vl,ov=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Bb=typeof Map<"u",Vb=typeof Set<"u",a1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",WS=ov?Symbol.for("immer-nothing"):((o1={})["immer-nothing"]=!0,o1),l1=ov?Symbol.for("immer-draftable"):"__$immer_draftable",Pe=ov?Symbol.for("immer-state"):"__$immer_state",zb=""+Object.prototype.constructor,fo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,KS=Object.getOwnPropertyDescriptors||function(t){var e={};return fo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},am={},yl={get:function(t,e){if(e===Pe)return t;var n=zs(t);if(!ho(n,e))return function(s,i,o){var a,l=s1(i,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!Pr(r)?r:r===Tf(t.t,e)?(Nf(t),t.o[e]=om(t.A.h,r,t)):r},has:function(t,e){return e in zs(t)},ownKeys:function(t){return Reflect.ownKeys(zs(t))},set:function(t,e,n){var r=s1(zs(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=Tf(zs(t),e),i=s==null?void 0:s[Pe];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(qS(n,s)&&(n!==void 0||ho(t.t,e)))return!0;Nf(t),Gr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Tf(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Nf(t),Gr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=zs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){$n(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){$n(12)}},Ia={};ui(yl,function(t,e){Ia[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ia.deleteProperty=function(t,e){return Ia.set.call(this,t,e,void 0)},Ia.set=function(t,e,n){return yl.set.call(this,t[0],e,n,t[0])};var Hb=function(){function t(n){var r=this;this.O=a1,this.D=!0,this.produce=function(s,i,o){if(typeof s=="function"&&typeof i!="function"){var a=i;i=s;var l=r;return function(w){var _=this;w===void 0&&(w=a);for(var f=arguments.length,m=Array(f>1?f-1:0),y=1;y<f;y++)m[y-1]=arguments[y];return l.produce(w,function(E){var x;return(x=i).call.apply(x,[_,E].concat(m))})}}var c;if(typeof i!="function"&&$n(6),o!==void 0&&typeof o!="function"&&$n(7),Pr(s)){var d=n1(r),h=om(r,s,void 0),p=!0;try{c=i(h),p=!1}finally{p?zc(d):im(d)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(w){return Cf(d,o),If(w,d)},function(w){throw zc(d),w}):(Cf(d,o),If(c,d))}if(!s||typeof s!="object"){if((c=i(s))===void 0&&(c=s),c===WS&&(c=void 0),r.D&&sv(c,!0),o){var g=[],v=[];tr("Patches").M(s,c,g,v),o(g,v)}return c}$n(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(c){for(var d=arguments.length,h=Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return r.produceWithPatches(c,function(g){return s.apply(void 0,[g].concat(h))})};var o,a,l=r.produce(s,i,function(c,d){o=c,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Pr(n)||$n(8),Es(n)&&(n=Fb(n));var r=n1(this),s=om(this,n,void 0);return s[Pe].C=!0,im(r),s},e.finishDraft=function(n,r){var s=n&&n[Pe],i=s.A;return Cf(i,r),If(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!a1&&$n(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var o=tr("Patches").$;return Es(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),ln=new Hb,GS=ln.produce;ln.produceWithPatches.bind(ln);ln.setAutoFreeze.bind(ln);ln.setUseProxies.bind(ln);ln.applyPatches.bind(ln);ln.createDraft.bind(ln);ln.finishDraft.bind(ln);function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function qb(t,e){if(wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wb(t){var e=qb(t,"string");return wl(e)==="symbol"?e:String(e)}function Kb(t,e,n){return e=Wb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function c1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(n),!0).forEach(function(r){Kb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var d1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Rf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wc={INIT:"@@redux/INIT"+Rf(),REPLACE:"@@redux/REPLACE"+Rf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Rf()}};function Gb(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function QS(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xt(1));return n(QS)(t,e)}if(typeof t!="function")throw new Error(xt(2));var s=t,i=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(xt(3));return i}function h(w){if(typeof w!="function")throw new Error(xt(4));if(l)throw new Error(xt(5));var _=!0;return c(),a.push(w),function(){if(_){if(l)throw new Error(xt(6));_=!1,c();var m=a.indexOf(w);a.splice(m,1),o=null}}}function p(w){if(!Gb(w))throw new Error(xt(7));if(typeof w.type>"u")throw new Error(xt(8));if(l)throw new Error(xt(9));try{l=!0,i=s(i,w)}finally{l=!1}for(var _=o=a,f=0;f<_.length;f++){var m=_[f];m()}return w}function g(w){if(typeof w!="function")throw new Error(xt(10));s=w,p({type:Wc.REPLACE})}function v(){var w,_=h;return w={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(xt(11));function y(){m.next&&m.next(d())}y();var E=_(y);return{unsubscribe:E}}},w[d1]=function(){return this},w}return p({type:Wc.INIT}),r={dispatch:p,subscribe:h,getState:d,replaceReducer:g},r[d1]=v,r}function Qb(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Wc.INIT});if(typeof r>"u")throw new Error(xt(12));if(typeof n(void 0,{type:Wc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function YS(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),o;try{Qb(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var d=!1,h={},p=0;p<i.length;p++){var g=i[p],v=n[g],w=l[g],_=v(w,c);if(typeof _>"u")throw c&&c.type,new Error(xt(14));h[g]=_,d=d||_!==w}return d=d||i.length!==Object.keys(l).length,d?h:l}}function Kc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function Yb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(xt(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return i=Kc.apply(void 0,a)(s.dispatch),c1(c1({},s),{},{dispatch:i})}}}function XS(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(o){return function(a){return typeof a=="function"?a(s,i,t):o(a)}}};return e}var JS=XS();JS.withExtraArgument=XS;const h1=JS;var ZS=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xb=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},bo=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},Jb=Object.defineProperty,Zb=Object.defineProperties,e2=Object.getOwnPropertyDescriptors,f1=Object.getOwnPropertySymbols,t2=Object.prototype.hasOwnProperty,n2=Object.prototype.propertyIsEnumerable,p1=function(t,e,n){return e in t?Jb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ds=function(t,e){for(var n in e||(e={}))t2.call(e,n)&&p1(t,n,e[n]);if(f1)for(var r=0,s=f1(e);r<s.length;r++){var n=s[r];n2.call(e,n)&&p1(t,n,e[n])}return t},bf=function(t,e){return Zb(t,e2(e))},r2=function(t,e,n){return new Promise(function(r,s){var i=function(l){try{a(n.next(l))}catch(c){s(c)}},o=function(l){try{a(n.throw(l))}catch(c){s(c)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(i,o)};a((n=n.apply(t,e)).next())})},s2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kc:Kc.apply(null,arguments)};function i2(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var o2=function(t){ZS(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,bo([void 0],n[0].concat(this)))):new(e.bind.apply(e,bo([void 0],n.concat(this))))},e}(Array),a2=function(t){ZS(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,bo([void 0],n[0].concat(this)))):new(e.bind.apply(e,bo([void 0],n.concat(this))))},e}(Array);function lm(t){return Pr(t)?GS(t,function(){}):t}function l2(t){return typeof t=="boolean"}function u2(){return function(e){return c2(e)}}function c2(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new o2;return n&&(l2(n)?r.push(h1):r.push(h1.withExtraArgument(n.extraArgument))),r}var d2=!0;function h2(t){var e=u2(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,o=i===void 0?e():i,a=n.devTools,l=a===void 0?!0:a,c=n.preloadedState,d=c===void 0?void 0:c,h=n.enhancers,p=h===void 0?void 0:h,g;if(typeof s=="function")g=s;else if(i2(s))g=YS(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var w=Yb.apply(void 0,v),_=Kc;l&&(_=s2(ds({trace:!d2},typeof l=="object"&&l)));var f=new a2(w),m=f;Array.isArray(p)?m=bo([w],p):typeof p=="function"&&(m=p(f));var y=_.apply(void 0,m);return QS(g,d,y)}function hs(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return ds(ds({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function ex(t){var e={},n=[],r,s={addCase:function(i,o){var a=typeof i=="string"?i:i.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,s},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function f2(t){return typeof t=="function"}function p2(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?ex(e):[e,n,r],i=s[0],o=s[1],a=s[2],l;if(f2(t))l=function(){return lm(t())};else{var c=lm(t);l=function(){return c}}function d(h,p){h===void 0&&(h=l());var g=bo([i[p.type]],o.filter(function(v){var w=v.matcher;return w(p)}).map(function(v){var w=v.reducer;return w}));return g.filter(function(v){return!!v}).length===0&&(g=[a]),g.reduce(function(v,w){if(w)if(Es(v)){var _=v,f=w(_,p);return f===void 0?v:f}else{if(Pr(v))return GS(v,function(m){return w(m,p)});var f=w(v,p);if(f===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}return v},h)}return d.getInitialState=l,d}function m2(t,e){return t+"/"+e}function av(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:lm(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},o={},a={};s.forEach(function(d){var h=r[d],p=m2(e,d),g,v;"reducer"in h?(g=h.reducer,v=h.prepare):g=h,i[d]=g,o[p]=g,a[d]=v?hs(p,v):hs(p)});function l(){var d=typeof t.extraReducers=="function"?ex(t.extraReducers):[t.extraReducers],h=d[0],p=h===void 0?{}:h,g=d[1],v=g===void 0?[]:g,w=d[2],_=w===void 0?void 0:w,f=ds(ds({},p),o);return p2(n,function(m){for(var y in f)m.addCase(y,f[y]);for(var E=0,x=v;E<x.length;E++){var I=x[E];m.addMatcher(I.matcher,I.reducer)}_&&m.addDefaultCase(_)})}var c;return{name:e,reducer:function(d,h){return c||(c=l()),c(d,h)},actions:a,caseReducers:i,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var g2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",v2=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=g2[Math.random()*64|0];return e},y2=["name","message","stack","code"],Af=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),m1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),w2=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=y2;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=hs(e+"/fulfilled",function(c,d,h,p){return{payload:c,meta:bf(ds({},p||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),i=hs(e+"/pending",function(c,d,h){return{payload:void 0,meta:bf(ds({},h||{}),{arg:d,requestId:c,requestStatus:"pending"})}}),o=hs(e+"/rejected",function(c,d,h,p,g){return{payload:p,error:(r&&r.serializeError||w2)(c||"Rejected"),meta:bf(ds({},g||{}),{arg:h,requestId:d,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(d,h,p){var g=r!=null&&r.idGenerator?r.idGenerator(c):v2(),v=new a,w;function _(m){w=m,v.abort()}var f=function(){return r2(this,null,function(){var m,y,E,x,I,N,P;return Xb(this,function(j){switch(j.label){case 0:return j.trys.push([0,4,,5]),x=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,c,{getState:h,extra:p}),E2(x)?[4,x]:[3,2];case 1:x=j.sent(),j.label=2;case 2:if(x===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(L,$){return v.signal.addEventListener("abort",function(){return $({name:"AbortError",message:w||"Aborted"})})}),d(i(g,c,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:g,arg:c},{getState:h,extra:p}))),[4,Promise.race([I,Promise.resolve(n(c,{dispatch:d,getState:h,extra:p,requestId:g,signal:v.signal,abort:_,rejectWithValue:function(L,$){return new Af(L,$)},fulfillWithValue:function(L,$){return new m1(L,$)}})).then(function(L){if(L instanceof Af)throw L;return L instanceof m1?s(L.payload,g,c,L.meta):s(L,g,c)})])];case 3:return E=j.sent(),[3,5];case 4:return N=j.sent(),E=N instanceof Af?o(null,g,c,N.payload,N.meta):o(N,g,c),[3,5];case 5:return P=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,P||d(E),[2,E]}})})}();return Object.assign(f,{abort:_,requestId:g,arg:c,unwrap:function(){return f.then(_2)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function _2(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function E2(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var lv="listenerMiddleware";hs(lv+"/add");hs(lv+"/removeAll");hs(lv+"/remove");var g1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);Ub();const tx=av({name:"user",initialState:{data:{},myCourses:[],allCourses:[]},reducers:{setData:(t,e)=>({...t,data:e.payload}),setCourses:(t,e)=>({...t,myCourses:e.payload}),setAllCourses:(t,e)=>({...t,allCourses:e.payload}),reset:(t,e)=>({data:{},myCourses:[],allCourses:[]})}}),{setData:um,setCourses:nx,reset:S2,setAllCourses:x2}=tx.actions,k2=tx.reducer,rx=av({name:"questions",initialState:{queue:[],answers:[],trace:[0,0,0]},reducers:{startExamAction:(t,e)=>({...t,queue:e.payload}),setQuestion:(t,e)=>{let n=[...t.trace];return n[2]=e.payload,{...t,trace:n}},setComp:(t,e)=>{let n=[...t.trace];return n[1]=e.payload,n[2]=0,{...t,trace:n}},setSection:(t,e)=>({...t,trace:[e.payload,0,0]}),resetQuestion:(t,e)=>({queue:[],answers:[],trace:[0,0,0]})}}),{startExamAction:C2,setQuestion:I2,setComp:T2,setSection:N2,resetQuestion:R2}=rx.actions,b2=rx.reducer,sx=av({name:"result",initialState:{result:{},status:{"0 0 0":{isVisited:!0,isMarked:!1,isAnswered:!1}},timer:{"0 0 0":[0,0,0]}},reducers:{setVisit:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`;if(t.status[r]){const s={...t.status[r]};s.isVisited=!0;const i={...t.status};return i[r]=s,{...t,status:i}}else{const s={isVisited:!0,isMarked:!1,isAnswered:!1},i={...t.status};return i[r]=s,{...t,status:i}}},clearQues:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`,s={...t.status};s[r]={isVisited:!0,isAnswered:!1,isMarked:!1};const i={...t.result};return i[r]=null,{...t,result:i,status:s}},saveAnswer:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`,s={...t.result};s[r]=n[3];const i={...t.status[r]};i.isAnswered=!0;const o={...t.status};return o[r]=i,{...t,result:{...s},status:{...o}}},markQuestion:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`,s={...t.status[r]};s.isMarked=!0;const i={...t.status};return i[r]=s,{...t,status:i}},markSave:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`,s={...t.result};s[r]=n[3];const i={...t.status[r]};i.isAnswered=!0,i.isMarked=!0;const o={...t.status};return o[r]=i,{...t,result:{...s},status:{...o}}},saveTimer:(t,e)=>{const n=e.payload.arr,r=e.payload.index,s={...t.timer};return s[r]=n,{...t,timer:s}},resetResult:(t,e)=>({result:{},status:{"0 0 0":{isVisited:!0,isMarked:!1,isAnswered:!1}},timer:{"0 0 0":[0,0,0]}})}}),{setVisit:A2,clearQues:P2,saveAnswer:j2,markQuestion:D2,markSave:O2,saveTimer:$2,resetResult:M2}=sx.actions,L2=sx.reducer,F2=YS({user:k2,questions:b2,results:L2}),U2=h2({reducer:F2});/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ge.apply(this,arguments)}var Ke;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ke||(Ke={}));const v1="popstate";function B2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return _l("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ci(s)}return z2(e,n,null,t)}function ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ao(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V2(){return Math.random().toString(36).substr(2,8)}function y1(t,e){return{usr:t.state,key:t.key,idx:e}}function _l(t,e,n,r){return n===void 0&&(n=null),ge({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fr(e):e,{state:n,key:e&&e.key||r||V2()})}function ci(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function z2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ke.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ge({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ke.Pop;let _=d(),f=_==null?null:_-c;c=_,l&&l({action:a,location:w.location,delta:f})}function p(_,f){a=Ke.Push;let m=_l(w.location,_,f);n&&n(m,_),c=d()+1;let y=y1(m,c),E=w.createHref(m);try{o.pushState(y,"",E)}catch{s.location.assign(E)}i&&l&&l({action:a,location:w.location,delta:1})}function g(_,f){a=Ke.Replace;let m=_l(w.location,_,f);n&&n(m,_),c=d();let y=y1(m,c),E=w.createHref(m);o.replaceState(y,"",E),i&&l&&l({action:a,location:w.location,delta:0})}function v(_){let f=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:ci(_);return ie(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(v1,h),l=_,()=>{s.removeEventListener(v1,h),l=null}},createHref(_){return e(s,_)},createURL:v,encodeLocation(_){let f=v(_);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:g,go(_){return o.go(_)}};return w}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));const H2=new Set(["lazy","caseSensitive","path","id","index","children"]);function q2(t){return t.index===!0}function cm(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,i],a=typeof s.id=="string"?s.id:o.join("-");if(ie(s.index!==!0||!s.children,"Cannot specify children on an index route"),ie(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),q2(s)){let l=ge({},s,e(s),{id:a});return r[a]=l,l}else{let l=ge({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=cm(s.children,e,o,r)),l}})}function no(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fr(e):e,s=Ko(r.pathname||"/",n);if(s==null)return null;let i=ix(t);W2(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=tA(i[a],sA(s));return o}function ix(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ir([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ix(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Z2(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ox(i.path))s(i,o,l)}),e}function ox(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ox(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function W2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const K2=/^:\w+$/,G2=3,Q2=2,Y2=1,X2=10,J2=-2,w1=t=>t==="*";function Z2(t,e){let n=t.split("/"),r=n.length;return n.some(w1)&&(r+=J2),e&&(r+=Q2),n.filter(s=>!w1(s)).reduce((s,i)=>s+(K2.test(i)?G2:i===""?Y2:X2),r)}function eA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tA(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=nA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;i.push({params:r,pathname:Ir([s,d.pathname]),pathnameBase:lA(Ir([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ir([s,d.pathnameBase]))}return i}function nA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let p=a[h]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}return c[d]=iA(a[h]||"",d),c},{}),pathname:i,pathnameBase:o,pattern:t}}function rA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ao(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function sA(t){try{return decodeURI(t)}catch(e){return Ao(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iA(t,e){try{return decodeURIComponent(t)}catch(n){return Ao(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ko(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fr(t):t;return{pathname:n?n.startsWith("/")?n:aA(n,e):e,search:uA(r),hash:cA(s)}}function aA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hl(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function th(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fr(t):(s=ge({},t),ie(!s.pathname||!s.pathname.includes("?"),Pf("?","pathname","search",s)),ie(!s.pathname||!s.pathname.includes("#"),Pf("#","pathname","hash",s)),ie(!s.search||!s.search.includes("#"),Pf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=oA(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),lA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class uv{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ax(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lx=["post","put","patch","delete"],dA=new Set(lx),hA=["get",...lx],fA=new Set(hA),pA=new Set([301,302,303,307,308]),mA=new Set([307,308]),jf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},gA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},_1={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vA=!cx,yA=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function wA(t){ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e;if(t.mapRouteProperties)e=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;e=C=>({hasErrorBoundary:k(C)})}else e=yA;let n={},r=cm(t.routes,e,void 0,n),s,i=t.basename||"/",o=ge({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),a=null,l=new Set,c=null,d=null,h=null,p=t.hydrationData!=null,g=no(r,t.history.location,i),v=null;if(g==null){let k=jn(404,{pathname:t.history.location.pathname}),{matches:C,route:R}=T1(r);g=C,v={[R.id]:k}}let w=!g.some(k=>k.route.lazy)&&(!g.some(k=>k.route.loader)||t.hydrationData!=null),_,f={historyAction:t.history.action,location:t.history.location,matches:g,initialized:w,navigation:jf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},m=Ke.Pop,y=!1,E,x=!1,I=!1,N=[],P=[],j=new Map,L=0,$=-1,Ee=new Map,Bt=new Set,Nn=new Map,ur=new Map,pn=new Map,$s=!1;function F(){return a=t.history.listen(k=>{let{action:C,location:R,delta:B}=k;if($s){$s=!1;return}Ao(pn.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=zy({currentLocation:f.location,nextLocation:R,historyAction:C});if(z&&B!=null){$s=!0,t.history.go(B*-1),mu(z,{state:"blocked",location:R,proceed(){mu(z,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),t.history.go(B)},reset(){ra(z),oe({blockers:new Map(_.state.blockers)})}});return}return mn(C,R)}),f.initialized||mn(Ke.Pop,f.location),_}function ee(){a&&a(),l.clear(),E&&E.abort(),f.fetchers.forEach((k,C)=>zh(C)),f.blockers.forEach((k,C)=>ra(C))}function se(k){return l.add(k),()=>l.delete(k)}function oe(k){f=ge({},f,k),l.forEach(C=>C(f))}function Ae(k,C){var R,B;let z=f.actionData!=null&&f.navigation.formMethod!=null&&mr(f.navigation.formMethod)&&f.navigation.state==="loading"&&((R=k.state)==null?void 0:R._isRedirect)!==!0,Y;C.actionData?Object.keys(C.actionData).length>0?Y=C.actionData:Y=null:z?Y=f.actionData:Y=null;let re=C.loaderData?I1(f.loaderData,C.loaderData,C.matches||[],C.errors):f.loaderData;for(let[q]of pn)ra(q);let G=y===!0||f.navigation.formMethod!=null&&mr(f.navigation.formMethod)&&((B=k.state)==null?void 0:B._isRedirect)!==!0;s&&(r=s,s=void 0),oe(ge({},C,{actionData:Y,loaderData:re,historyAction:m,location:k,initialized:!0,navigation:jf,revalidation:"idle",restoreScrollPosition:Hy(k,C.matches||f.matches),preventScrollReset:G,blockers:new Map(f.blockers)})),x||m===Ke.Pop||(m===Ke.Push?t.history.push(k,k.state):m===Ke.Replace&&t.history.replace(k,k.state)),m=Ke.Pop,y=!1,x=!1,I=!1,N=[],P=[]}async function Ms(k,C){if(typeof k=="number"){t.history.go(k);return}let R=dm(f.location,f.matches,i,o.v7_prependBasename,k,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:B,submission:z,error:Y}=E1(o.v7_normalizeFormMethod,!1,R,C),re=f.location,G=_l(f.location,B,C&&C.state);G=ge({},G,t.history.encodeLocation(G));let q=C&&C.replace!=null?C.replace:void 0,pe=Ke.Push;q===!0?pe=Ke.Replace:q===!1||z!=null&&mr(z.formMethod)&&z.formAction===f.location.pathname+f.location.search&&(pe=Ke.Replace);let Se=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,yt=zy({currentLocation:re,nextLocation:G,historyAction:pe});if(yt){mu(yt,{state:"blocked",location:G,proceed(){mu(yt,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ms(k,C)},reset(){ra(yt),oe({blockers:new Map(f.blockers)})}});return}return await mn(pe,G,{submission:z,pendingError:Y,preventScrollReset:Se,replace:C&&C.replace})}function cr(){if(Bh(),oe({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){mn(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}mn(m||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function mn(k,C,R){E&&E.abort(),E=null,m=k,x=(R&&R.startUninterruptedRevalidation)===!0,wT(f.location,f.matches),y=(R&&R.preventScrollReset)===!0;let B=s||r,z=R&&R.overrideNavigation,Y=no(B,C,i);if(!Y){let tt=jn(404,{pathname:C.pathname}),{matches:nt,route:gn}=T1(B);Hh(),Ae(C,{matches:nt,loaderData:{},errors:{[gn.id]:tt}});return}if(f.initialized&&kA(f.location,C)&&!(R&&R.submission&&mr(R.submission.formMethod))){Ae(C,{matches:Y});return}E=new AbortController;let re=pa(t.history,C,E.signal,R&&R.submission),G,q;if(R&&R.pendingError)q={[ro(Y).route.id]:R.pendingError};else if(R&&R.submission&&mr(R.submission.formMethod)){let tt=await dr(re,C,R.submission,Y,{replace:R.replace});if(tt.shortCircuited)return;G=tt.pendingActionData,q=tt.pendingActionError,z=ge({state:"loading",location:C},R.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:pe,loaderData:Se,errors:yt}=await bi(re,C,Y,z,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,G,q);pe||(E=null,Ae(C,ge({matches:Y},G?{actionData:G}:{},{loaderData:Se,errors:yt})))}async function dr(k,C,R,B,z){Bh();let Y=ge({state:"submitting",location:C},R);oe({navigation:Y});let re,G=hm(B,C);if(!G.route.action&&!G.route.lazy)re={type:Xe.error,error:jn(405,{method:k.method,pathname:C.pathname,routeId:G.route.id})};else if(re=await fa("action",k,G,B,n,e,i),k.signal.aborted)return{shortCircuited:!0};if(po(re)){let q;return z&&z.replace!=null?q=z.replace:q=re.location===f.location.pathname+f.location.search,await na(f,re,{submission:R,replace:q}),{shortCircuited:!0}}if(za(re)){let q=ro(B,G.route.id);return(z&&z.replace)!==!0&&(m=Ke.Push),{pendingActionData:{},pendingActionError:{[q.route.id]:re.error}}}if(Gs(re))throw jn(400,{type:"defer-action"});return{pendingActionData:{[G.route.id]:re.data}}}async function bi(k,C,R,B,z,Y,re,G,q){let pe=B;pe||(pe=ge({state:"loading",location:C,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},z));let Se=z||Y?z||Y:pe.formMethod&&pe.formAction&&pe.formData&&pe.formEncType?{formMethod:pe.formMethod,formAction:pe.formAction,formData:pe.formData,formEncType:pe.formEncType}:void 0,yt=s||r,[tt,nt]=S1(t.history,f,R,Se,C,I,N,P,Nn,yt,i,G,q);if(Hh(De=>!(R&&R.some(vn=>vn.route.id===De))||tt&&tt.some(vn=>vn.route.id===De)),tt.length===0&&nt.length===0){let De=By();return Ae(C,ge({matches:R,loaderData:{},errors:q||null},G?{actionData:G}:{},De?{fetchers:new Map(f.fetchers)}:{})),{shortCircuited:!0}}if(!x){nt.forEach(vn=>{let Pi=f.fetchers.get(vn.key),Qh={state:"loading",data:Pi&&Pi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(vn.key,Qh)});let De=G||f.actionData;oe(ge({navigation:pe},De?Object.keys(De).length===0?{actionData:null}:{actionData:De}:{},nt.length>0?{fetchers:new Map(f.fetchers)}:{}))}$=++L,nt.forEach(De=>{De.controller&&j.set(De.key,De.controller)});let gn=()=>nt.forEach(De=>Ai(De.key));E&&E.signal.addEventListener("abort",gn);let{results:sa,loaderResults:qh,fetcherResults:gu}=await Fy(f.matches,R,tt,nt,k);if(k.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",gn),nt.forEach(De=>j.delete(De.key));let Br=N1(sa);if(Br)return await na(f,Br,{replace:re}),{shortCircuited:!0};let{loaderData:vu,errors:Wh}=C1(f,R,tt,qh,q,nt,gu,ur);ur.forEach((De,vn)=>{De.subscribe(Pi=>{(Pi||De.done)&&ur.delete(vn)})});let Kh=By(),Gh=Vy($),yu=Kh||Gh||nt.length>0;return ge({loaderData:vu,errors:Wh},yu?{fetchers:new Map(f.fetchers)}:{})}function Ly(k){return f.fetchers.get(k)||gA}function pT(k,C,R,B){if(vA)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(k)&&Ai(k);let z=s||r,Y=dm(f.location,f.matches,i,o.v7_prependBasename,R,C,B==null?void 0:B.relative),re=no(z,Y,i);if(!re){Vh(k,C,jn(404,{pathname:Y}));return}let{path:G,submission:q}=E1(o.v7_normalizeFormMethod,!0,Y,B),pe=hm(re,G);if(y=(B&&B.preventScrollReset)===!0,q&&mr(q.formMethod)){mT(k,C,G,pe,re,q);return}Nn.set(k,{routeId:C,path:G}),gT(k,C,G,pe,re,q)}async function mT(k,C,R,B,z,Y){if(Bh(),Nn.delete(k),!B.route.action&&!B.route.lazy){let Jt=jn(405,{method:Y.formMethod,pathname:R,routeId:C});Vh(k,C,Jt);return}let re=f.fetchers.get(k),G=ge({state:"submitting"},Y,{data:re&&re.data," _hasFetcherDoneAnything ":!0});f.fetchers.set(k,G),oe({fetchers:new Map(f.fetchers)});let q=new AbortController,pe=pa(t.history,R,q.signal,Y);j.set(k,q);let Se=await fa("action",pe,B,z,n,e,i);if(pe.signal.aborted){j.get(k)===q&&j.delete(k);return}if(po(Se)){j.delete(k),Bt.add(k);let Jt=ge({state:"loading"},Y,{data:void 0," _hasFetcherDoneAnything ":!0});return f.fetchers.set(k,Jt),oe({fetchers:new Map(f.fetchers)}),na(f,Se,{submission:Y,isFetchActionRedirect:!0})}if(za(Se)){Vh(k,C,Se.error);return}if(Gs(Se))throw jn(400,{type:"defer-action"});let yt=f.navigation.location||f.location,tt=pa(t.history,yt,q.signal),nt=s||r,gn=f.navigation.state!=="idle"?no(nt,f.navigation.location,i):f.matches;ie(gn,"Didn't find any matches after fetcher action");let sa=++L;Ee.set(k,sa);let qh=ge({state:"loading",data:Se.data},Y,{" _hasFetcherDoneAnything ":!0});f.fetchers.set(k,qh);let[gu,Br]=S1(t.history,f,gn,Y,yt,I,N,P,Nn,nt,i,{[B.route.id]:Se.data},void 0);Br.filter(Jt=>Jt.key!==k).forEach(Jt=>{let Yh=Jt.key,qy=f.fetchers.get(Yh),ET={state:"loading",data:qy&&qy.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(Yh,ET),Jt.controller&&j.set(Yh,Jt.controller)}),oe({fetchers:new Map(f.fetchers)});let vu=()=>Br.forEach(Jt=>Ai(Jt.key));q.signal.addEventListener("abort",vu);let{results:Wh,loaderResults:Kh,fetcherResults:Gh}=await Fy(f.matches,gn,gu,Br,tt);if(q.signal.aborted)return;q.signal.removeEventListener("abort",vu),Ee.delete(k),j.delete(k),Br.forEach(Jt=>j.delete(Jt.key));let yu=N1(Wh);if(yu)return na(f,yu);let{loaderData:De,errors:vn}=C1(f,f.matches,gu,Kh,void 0,Br,Gh,ur),Pi={state:"idle",data:Se.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(k,Pi);let Qh=Vy(sa);f.navigation.state==="loading"&&sa>$?(ie(m,"Expected pending action"),E&&E.abort(),Ae(f.navigation.location,{matches:gn,loaderData:De,errors:vn,fetchers:new Map(f.fetchers)})):(oe(ge({errors:vn,loaderData:I1(f.loaderData,De,gn,vn)},Qh?{fetchers:new Map(f.fetchers)}:{})),I=!1)}async function gT(k,C,R,B,z,Y){let re=f.fetchers.get(k),G=ge({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Y,{data:re&&re.data," _hasFetcherDoneAnything ":!0});f.fetchers.set(k,G),oe({fetchers:new Map(f.fetchers)});let q=new AbortController,pe=pa(t.history,R,q.signal);j.set(k,q);let Se=await fa("loader",pe,B,z,n,e,i);if(Gs(Se)&&(Se=await px(Se,pe.signal,!0)||Se),j.get(k)===q&&j.delete(k),pe.signal.aborted)return;if(po(Se)){Bt.add(k),await na(f,Se);return}if(za(Se)){let tt=ro(f.matches,C);f.fetchers.delete(k),oe({fetchers:new Map(f.fetchers),errors:{[tt.route.id]:Se.error}});return}ie(!Gs(Se),"Unhandled fetcher deferred data");let yt={state:"idle",data:Se.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(k,yt),oe({fetchers:new Map(f.fetchers)})}async function na(k,C,R){var B;let{submission:z,replace:Y,isFetchActionRedirect:re}=R===void 0?{}:R;C.revalidate&&(I=!0);let G=_l(k.location,C.location,ge({_isRedirect:!0},re?{_isFetchActionRedirect:!0}:{}));if(ie(G,"Expected a location on the redirect navigation"),ux.test(C.location)&&cx&&typeof((B=window)==null?void 0:B.location)<"u"){let nt=t.history.createURL(C.location),gn=Ko(nt.pathname,i)==null;if(window.location.origin!==nt.origin||gn){Y?window.location.replace(C.location):window.location.assign(C.location);return}}E=null;let q=Y===!0?Ke.Replace:Ke.Push,{formMethod:pe,formAction:Se,formEncType:yt,formData:tt}=k.navigation;!z&&pe&&Se&&tt&&yt&&(z={formMethod:pe,formAction:Se,formEncType:yt,formData:tt}),mA.has(C.status)&&z&&mr(z.formMethod)?await mn(q,G,{submission:ge({},z,{formAction:C.location}),preventScrollReset:y}):re?await mn(q,G,{overrideNavigation:{state:"loading",location:G,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:z,preventScrollReset:y}):await mn(q,G,{overrideNavigation:{state:"loading",location:G,formMethod:z?z.formMethod:void 0,formAction:z?z.formAction:void 0,formEncType:z?z.formEncType:void 0,formData:z?z.formData:void 0},preventScrollReset:y})}async function Fy(k,C,R,B,z){let Y=await Promise.all([...R.map(q=>fa("loader",z,q,C,n,e,i)),...B.map(q=>q.matches&&q.match&&q.controller?fa("loader",pa(t.history,q.path,q.controller.signal),q.match,q.matches,n,e,i):{type:Xe.error,error:jn(404,{pathname:q.path})})]),re=Y.slice(0,R.length),G=Y.slice(R.length);return await Promise.all([R1(k,R,re,re.map(()=>z.signal),!1,f.loaderData),R1(k,B.map(q=>q.match),G,B.map(q=>q.controller?q.controller.signal:null),!0)]),{results:Y,loaderResults:re,fetcherResults:G}}function Bh(){I=!0,N.push(...Hh()),Nn.forEach((k,C)=>{j.has(C)&&(P.push(C),Ai(C))})}function Vh(k,C,R){let B=ro(f.matches,C);zh(k),oe({errors:{[B.route.id]:R},fetchers:new Map(f.fetchers)})}function zh(k){j.has(k)&&Ai(k),Nn.delete(k),Ee.delete(k),Bt.delete(k),f.fetchers.delete(k)}function Ai(k){let C=j.get(k);ie(C,"Expected fetch controller: "+k),C.abort(),j.delete(k)}function Uy(k){for(let C of k){let B={state:"idle",data:Ly(C).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};f.fetchers.set(C,B)}}function By(){let k=[],C=!1;for(let R of Bt){let B=f.fetchers.get(R);ie(B,"Expected fetcher: "+R),B.state==="loading"&&(Bt.delete(R),k.push(R),C=!0)}return Uy(k),C}function Vy(k){let C=[];for(let[R,B]of Ee)if(B<k){let z=f.fetchers.get(R);ie(z,"Expected fetcher: "+R),z.state==="loading"&&(Ai(R),Ee.delete(R),C.push(R))}return Uy(C),C.length>0}function vT(k,C){let R=f.blockers.get(k)||_1;return pn.get(k)!==C&&pn.set(k,C),R}function ra(k){f.blockers.delete(k),pn.delete(k)}function mu(k,C){let R=f.blockers.get(k)||_1;ie(R.state==="unblocked"&&C.state==="blocked"||R.state==="blocked"&&C.state==="blocked"||R.state==="blocked"&&C.state==="proceeding"||R.state==="blocked"&&C.state==="unblocked"||R.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+C.state),f.blockers.set(k,C),oe({blockers:new Map(f.blockers)})}function zy(k){let{currentLocation:C,nextLocation:R,historyAction:B}=k;if(pn.size===0)return;pn.size>1&&Ao(!1,"A router only supports one blocker at a time");let z=Array.from(pn.entries()),[Y,re]=z[z.length-1],G=f.blockers.get(Y);if(!(G&&G.state==="proceeding")&&re({currentLocation:C,nextLocation:R,historyAction:B}))return Y}function Hh(k){let C=[];return ur.forEach((R,B)=>{(!k||k(B))&&(R.cancel(),C.push(B),ur.delete(B))}),C}function yT(k,C,R){if(c=k,h=C,d=R||(B=>B.key),!p&&f.navigation===jf){p=!0;let B=Hy(f.location,f.matches);B!=null&&oe({restoreScrollPosition:B})}return()=>{c=null,h=null,d=null}}function wT(k,C){if(c&&d&&h){let R=C.map(z=>b1(z,f.loaderData)),B=d(k,R)||k.key;c[B]=h()}}function Hy(k,C){if(c&&d&&h){let R=C.map(Y=>b1(Y,f.loaderData)),B=d(k,R)||k.key,z=c[B];if(typeof z=="number")return z}return null}function _T(k){n={},s=cm(k,e,void 0,n)}return _={get basename(){return i},get state(){return f},get routes(){return r},initialize:F,subscribe:se,enableScrollRestoration:yT,navigate:Ms,fetch:pT,revalidate:cr,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Ly,deleteFetcher:zh,dispose:ee,getBlocker:vT,deleteBlocker:ra,_internalFetchControllers:j,_internalActiveDeferreds:ur,_internalSetRoutes:_T},_}function _A(t){return t!=null&&"formData"in t}function dm(t,e,n,r,s,i,o){let a,l;if(i!=null&&o!=="path"){a=[];for(let d of e)if(a.push(d),d.route.id===i){l=d;break}}else a=e,l=e[e.length-1];let c=th(s||".",Hl(a).map(d=>d.pathnameBase),Ko(t.pathname,n)||t.pathname,o==="path");return s==null&&(c.search=t.search,c.hash=t.hash),(s==null||s===""||s===".")&&l&&l.route.index&&!cv(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Ir([n,c.pathname])),ci(c)}function E1(t,e,n,r){if(!r||!_A(r))return{path:n};if(r.formMethod&&!TA(r.formMethod))return{path:n,error:jn(405,{method:r.formMethod})};let s;if(r.formData){let a=r.formMethod||"get";if(s={formMethod:t?a.toUpperCase():a.toLowerCase(),formAction:fx(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},mr(s.formMethod))return{path:n,submission:s}}let i=Fr(n),o=hx(r.formData);return e&&i.search&&cv(i.search)&&o.append("index",""),i.search="?"+o,{path:ci(i),submission:s}}function EA(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function S1(t,e,n,r,s,i,o,a,l,c,d,h,p){let g=p?Object.values(p)[0]:h?Object.values(h)[0]:void 0,v=t.createURL(e.location),w=t.createURL(s),_=p?Object.keys(p)[0]:void 0,m=EA(n,_).filter((E,x)=>{if(E.route.lazy)return!0;if(E.route.loader==null)return!1;if(SA(e.loaderData,e.matches[x],E)||o.some(P=>P===E.route.id))return!0;let I=e.matches[x],N=E;return x1(E,ge({currentUrl:v,currentParams:I.params,nextUrl:w,nextParams:N.params},r,{actionResult:g,defaultShouldRevalidate:i||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||dx(I,N)}))}),y=[];return l.forEach((E,x)=>{if(!n.some(j=>j.route.id===E.routeId))return;let I=no(c,E.path,d);if(!I){y.push({key:x,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let N=hm(I,E.path);if(a.includes(x)){y.push({key:x,routeId:E.routeId,path:E.path,matches:I,match:N,controller:new AbortController});return}x1(N,ge({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:i}))&&y.push({key:x,routeId:E.routeId,path:E.path,matches:I,match:N,controller:new AbortController})}),[m,y]}function SA(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function dx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function x1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function k1(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];ie(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Ao(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!H2.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,ge({},e(s),{lazy:void 0}))}async function fa(t,e,n,r,s,i,o,a,l,c){a===void 0&&(a=!1),l===void 0&&(l=!1);let d,h,p,g=_=>{let f,m=new Promise((y,E)=>f=E);return p=()=>f(),e.signal.addEventListener("abort",p),Promise.race([_({request:e,params:n.params,context:c}),m])};try{let _=n.route[t];if(n.route.lazy)if(_)h=(await Promise.all([g(_),k1(n.route,i,s)]))[0];else if(await k1(n.route,i,s),_=n.route[t],_)h=await g(_);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw jn(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Xe.data,data:void 0};else if(_)h=await g(_);else{let f=new URL(e.url),m=f.pathname+f.search;throw jn(404,{pathname:m})}ie(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){d=Xe.error,h=_}finally{p&&e.signal.removeEventListener("abort",p)}if(IA(h)){let _=h.status;if(pA.has(_)){let y=h.headers.get("Location");if(ie(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!ux.test(y))y=dm(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,y);else if(!a){let E=new URL(e.url),x=y.startsWith("//")?new URL(E.protocol+y):new URL(y),I=Ko(x.pathname,o)!=null;x.origin===E.origin&&I&&(y=x.pathname+x.search+x.hash)}if(a)throw h.headers.set("Location",y),h;return{type:Xe.redirect,status:_,location:y,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:d||Xe.data,response:h};let f,m=h.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?f=await h.json():f=await h.text(),d===Xe.error?{type:d,error:new uv(_,h.statusText,f),headers:h.headers}:{type:Xe.data,data:f,statusCode:h.status,headers:h.headers}}if(d===Xe.error)return{type:d,error:h};if(CA(h)){var v,w;return{type:Xe.deferred,deferredData:h,statusCode:(v=h.init)==null?void 0:v.status,headers:((w=h.init)==null?void 0:w.headers)&&new Headers(h.init.headers)}}return{type:Xe.data,data:h}}function pa(t,e,n,r){let s=t.createURL(fx(e)).toString(),i={signal:n};if(r&&mr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;i.method=o.toUpperCase(),i.body=a==="application/x-www-form-urlencoded"?hx(l):l}return new Request(s,i)}function hx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function xA(t,e,n,r,s){let i={},o=null,a,l=!1,c={};return n.forEach((d,h)=>{let p=e[h].route.id;if(ie(!po(d),"Cannot handle redirect results in processLoaderData"),za(d)){let g=ro(t,p),v=d.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=v),i[p]=void 0,l||(l=!0,a=ax(d.error)?d.error.status:500),d.headers&&(c[p]=d.headers)}else Gs(d)?(s.set(p,d.deferredData),i[p]=d.deferredData.data):i[p]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[p]=d.headers)}),r&&(o=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function C1(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=xA(e,n,r,s,a);for(let d=0;d<i.length;d++){let{key:h,match:p,controller:g}=i[d];ie(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let v=o[d];if(!(g&&g.signal.aborted))if(za(v)){let w=ro(t.matches,p==null?void 0:p.route.id);c&&c[w.route.id]||(c=ge({},c,{[w.route.id]:v.error})),t.fetchers.delete(h)}else if(po(v))ie(!1,"Unhandled fetcher revalidation redirect");else if(Gs(v))ie(!1,"Unhandled fetcher deferred data");else{let w={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(h,w)}}return{loaderData:l,errors:c}}function I1(t,e,n,r){let s=ge({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function ro(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function T1(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function jn(t,e){let{pathname:n,routeId:r,method:s,type:i}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",s&&n&&r?a="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",s&&n&&r?a="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(a='Invalid request method "'+s.toUpperCase()+'"')),new uv(t||500,o,new Error(a),!0)}function N1(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(po(n))return n}}function fx(t){let e=typeof t=="string"?Fr(t):t;return ci(ge({},e,{hash:""}))}function kA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Gs(t){return t.type===Xe.deferred}function za(t){return t.type===Xe.error}function po(t){return(t&&t.type)===Xe.redirect}function CA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function IA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function TA(t){return fA.has(t.toLowerCase())}function mr(t){return dA.has(t.toLowerCase())}async function R1(t,e,n,r,s,i){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(h=>h.route.id===l.route.id),d=c!=null&&!dx(c,l)&&(i&&i[l.route.id])!==void 0;if(Gs(a)&&(s||d)){let h=r[o];ie(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await px(a,h,s).then(p=>{p&&(n[o]=p||n[o])})}}}async function px(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Xe.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Xe.error,error:s}}return{type:Xe.data,data:t.deferredData.data}}}function cv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function b1(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function hm(t,e){let n=typeof e=="string"?Fr(e).search:e.search;if(t[t.length-1].route.index&&cv(n||""))return t[t.length-1];let r=Hl(t);return r[r.length-1]}/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}const nh=S.createContext(null),dv=S.createContext(null),Ei=S.createContext(null),rh=S.createContext(null),Ur=S.createContext({outlet:null,matches:[],isDataRoute:!1}),mx=S.createContext(null);function NA(t,e){let{relative:n}=e===void 0?{}:e;Go()||ie(!1);let{basename:r,navigator:s}=S.useContext(Ei),{hash:i,pathname:o,search:a}=hv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ir([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Go(){return S.useContext(rh)!=null}function Si(){return Go()||ie(!1),S.useContext(rh).location}function gx(t){S.useContext(Ei).static||S.useLayoutEffect(t)}function fn(){let{isDataRoute:t}=S.useContext(Ur);return t?VA():RA()}function RA(){Go()||ie(!1);let t=S.useContext(nh),{basename:e,navigator:n}=S.useContext(Ei),{matches:r}=S.useContext(Ur),{pathname:s}=Si(),i=JSON.stringify(Hl(r).map(l=>l.pathnameBase)),o=S.useRef(!1);return gx(()=>{o.current=!0}),S.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=th(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ir([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}const bA=S.createContext(null);function AA(t){let e=S.useContext(Ur).outlet;return e&&S.createElement(bA.Provider,{value:t},e)}function hv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=S.useContext(Ur),{pathname:s}=Si(),i=JSON.stringify(Hl(r).map(o=>o.pathnameBase));return S.useMemo(()=>th(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function PA(t,e,n){Go()||ie(!1);let{navigator:r}=S.useContext(Ei),{matches:s}=S.useContext(Ur),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Si(),c;if(e){var d;let w=typeof e=="string"?Fr(e):e;a==="/"||(d=w.pathname)!=null&&d.startsWith(a)||ie(!1),c=w}else c=l;let h=c.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",g=no(t,{pathname:p}),v=MA(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ir([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Ir([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n);return e&&v?S.createElement(rh.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ke.Pop}},v):v}function jA(){let t=BA(),e=ax(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,i)}const DA=S.createElement(jA,null);class OA extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?S.createElement(Ur.Provider,{value:this.props.routeContext},S.createElement(mx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $A(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(nh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Ur.Provider,{value:e},r)}function MA(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ie(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||DA);let p=e.concat(i.slice(0,c+1)),g=()=>{let v;return d?v=h:l.route.Component?v=S.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,S.createElement($A,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?S.createElement(OA,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var fm;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(fm||(fm={}));var Ss;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ss||(Ss={}));function LA(t){let e=S.useContext(nh);return e||ie(!1),e}function fv(t){let e=S.useContext(dv);return e||ie(!1),e}function FA(t){let e=S.useContext(Ur);return e||ie(!1),e}function pv(t){let e=FA(),n=e.matches[e.matches.length-1];return n.route.id||ie(!1),n.route.id}function UA(){return fv(Ss.UseNavigation).navigation}function sh(){let t=fv(Ss.UseLoaderData),e=pv(Ss.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function BA(){var t;let e=S.useContext(mx),n=fv(Ss.UseRouteError),r=pv(Ss.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function VA(){let{router:t}=LA(fm.UseNavigateStable),e=pv(Ss.UseNavigateStable),n=S.useRef(!1);return gx(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gc({fromRouteId:e},i)))},[t,e])}function zA(t){let{fallbackElement:e,router:n}=t,[r,s]=S.useState(n.state);S.useLayoutEffect(()=>n.subscribe(s),[n,s]);let i=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,c,d)=>n.navigate(l,{state:c,preventScrollReset:d==null?void 0:d.preventScrollReset}),replace:(l,c,d)=>n.navigate(l,{replace:!0,state:c,preventScrollReset:d==null?void 0:d.preventScrollReset})}),[n]),o=n.basename||"/",a=S.useMemo(()=>({router:n,navigator:i,static:!1,basename:o}),[n,i,o]);return S.createElement(S.Fragment,null,S.createElement(nh.Provider,{value:a},S.createElement(dv.Provider,{value:r},S.createElement(qA,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?S.createElement(HA,{routes:n.routes,state:r}):e))),null)}function HA(t){let{routes:e,state:n}=t;return PA(e,void 0,n)}function vx(t){let{to:e,replace:n,state:r,relative:s}=t;Go()||ie(!1);let{matches:i}=S.useContext(Ur),{pathname:o}=Si(),a=fn(),l=th(e,Hl(i).map(d=>d.pathnameBase),o,s==="path"),c=JSON.stringify(l);return S.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:s}),[a,c,s,n,r]),null}function yx(t){return AA(t.context)}function St(t){ie(!1)}function qA(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ke.Pop,navigator:i,static:o=!1}=t;Go()&&ie(!1);let a=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Fr(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,v=S.useMemo(()=>{let w=Ko(c,a);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:g},navigationType:s}},[a,c,d,h,p,g,s]);return v==null?null:S.createElement(Ei.Provider,{value:l},S.createElement(rh.Provider,{children:n,value:v}))}var A1;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(A1||(A1={}));new Promise(()=>{});function pm(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,pm(r.props.children,i));return}r.type!==St&&ie(!1),!r.props.index||!r.props.children||ie(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pm(r.props.children,i)),n.push(o)}),n}function WA(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(this,arguments)}function wx(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function KA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GA(t,e){return t.button===0&&(!e||e==="_self")&&!KA(t)}function mm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function QA(t,e){let n=mm(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const YA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],XA=["aria-current","caseSensitive","className","end","style","to","children"];function JA(t,e){return wA({basename:e==null?void 0:e.basename,future:Po({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:B2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||ZA(),routes:t,mapRouteProperties:WA}).initialize()}function ZA(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Po({},e,{errors:eP(e.errors)})),e}function eP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new uv(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){let i=new Error(s.message);i.stack="",n[r]=i}else n[r]=s;return n}const tP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fs=S.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,h=wx(e,YA),{basename:p}=S.useContext(Ei),g,v=!1;if(typeof c=="string"&&nP.test(c)&&(g=c,tP))try{let m=new URL(window.location.href),y=c.startsWith("//")?new URL(m.protocol+c):new URL(c),E=Ko(y.pathname,p);y.origin===m.origin&&E!=null?c=E+y.search+y.hash:v=!0}catch{}let w=NA(c,{relative:s}),_=rP(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s});function f(m){r&&r(m),m.defaultPrevented||_(m)}return S.createElement("a",Po({},h,{href:g||w,onClick:v||i?r:f,ref:n,target:l}))}),Ha=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:c}=e,d=wx(e,XA),h=hv(l,{relative:d.relative}),p=Si(),g=S.useContext(dv),{navigator:v}=S.useContext(Ei),w=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,_=p.pathname,f=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(_=_.toLowerCase(),f=f?f.toLowerCase():null,w=w.toLowerCase());let m=_===w||!o&&_.startsWith(w)&&_.charAt(w.length)==="/",y=f!=null&&(f===w||!o&&f.startsWith(w)&&f.charAt(w.length)==="/"),E=m?r:void 0,x;typeof i=="function"?x=i({isActive:m,isPending:y}):x=[i,m?"active":null,y?"pending":null].filter(Boolean).join(" ");let I=typeof a=="function"?a({isActive:m,isPending:y}):a;return S.createElement(fs,Po({},d,{"aria-current":E,className:x,ref:n,style:I,to:l}),typeof c=="function"?c({isActive:m,isPending:y}):c)});var P1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(P1||(P1={}));var j1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(j1||(j1={}));function rP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=fn(),l=Si(),c=hv(t,{relative:o});return S.useCallback(d=>{if(GA(d,n)){d.preventDefault();let h=r!==void 0?r:ci(l)===ci(c);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function xi(t){let e=S.useRef(mm(t)),n=S.useRef(!1),r=Si(),s=S.useMemo(()=>QA(r.search,n.current?null:e.current),[r.search]),i=fn(),o=S.useCallback((a,l)=>{const c=mm(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ex={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_x(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new iP;const p=i<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oP=function(t){const e=_x(t);return Ex.encodeByteArray(e,!0)},Qc=function(t){return oP(t).replace(/\./g,"")},Sx=function(t){try{return Ex.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=()=>aP().__FIREBASE_DEFAULTS__,uP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sx(t[1]);return e&&JSON.parse(e)},ih=()=>{try{return lP()||uP()||cP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xx=t=>{var e,n;return(n=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kx=t=>{const e=xx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cx=()=>{var t;return(t=ih())===null||t===void 0?void 0:t.config},Ix=t=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Qc(JSON.stringify(n)),Qc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function fP(){var t;const e=(t=ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gP(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vP(){try{return typeof indexedDB=="object"}catch{return!1}}function yP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wP,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_P(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new lr(s,a,r)}}function _P(t,e){return t.replace(EP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const EP=/\{\$([^}]+)}/g;function SP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(D1(i)&&D1(o)){if(!Yc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function D1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xP(t,e){const n=new kP(t,e);return n.subscribe.bind(n)}class kP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Df),s.error===void 0&&(s.error=Df),s.complete===void 0&&(s.complete=Df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NP(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TP(t){return t===Hs?void 0:t}function NP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const bP={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},AP=me.INFO,PP={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},jP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=PP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mv{constructor(e){this.name=e,this._logLevel=AP,this._logHandler=jP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const DP=(t,e)=>e.some(n=>t instanceof n);let O1,$1;function OP(){return O1||(O1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $P(){return $1||($1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nx=new WeakMap,gm=new WeakMap,Rx=new WeakMap,Of=new WeakMap,gv=new WeakMap;function MP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ps(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nx.set(n,t)}).catch(()=>{}),gv.set(e,t),e}function LP(t){if(gm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});gm.set(t,e)}let vm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FP(t){vm=t(vm)}function UP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($f(this),e,...n);return Rx.set(r,e.sort?e.sort():[e]),ps(r)}:$P().includes(t)?function(...e){return t.apply($f(this),e),ps(Nx.get(this))}:function(...e){return ps(t.apply($f(this),e))}}function BP(t){return typeof t=="function"?UP(t):(t instanceof IDBTransaction&&LP(t),DP(t,OP())?new Proxy(t,vm):t)}function ps(t){if(t instanceof IDBRequest)return MP(t);if(Of.has(t))return Of.get(t);const e=BP(t);return e!==t&&(Of.set(t,e),gv.set(e,t)),e}const $f=t=>gv.get(t);function VP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ps(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ps(o.result),l.oldVersion,l.newVersion,ps(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const zP=["get","getKey","getAll","getAllKeys","count"],HP=["put","add","delete","clear"],Mf=new Map;function M1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=HP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zP.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Mf.set(e,i),i}FP(t=>({...t,get:(e,n,r)=>M1(e,n)||t.get(e,n,r),has:(e,n)=>!!M1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",L1="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new mv("@firebase/app"),KP="@firebase/app-compat",GP="@firebase/analytics-compat",QP="@firebase/analytics",YP="@firebase/app-check-compat",XP="@firebase/app-check",JP="@firebase/auth",ZP="@firebase/auth-compat",ej="@firebase/database",tj="@firebase/database-compat",nj="@firebase/functions",rj="@firebase/functions-compat",sj="@firebase/installations",ij="@firebase/installations-compat",oj="@firebase/messaging",aj="@firebase/messaging-compat",lj="@firebase/performance",uj="@firebase/performance-compat",cj="@firebase/remote-config",dj="@firebase/remote-config-compat",hj="@firebase/storage",fj="@firebase/storage-compat",pj="@firebase/firestore",mj="@firebase/firestore-compat",gj="firebase",vj="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",yj={[ym]:"fire-core",[KP]:"fire-core-compat",[QP]:"fire-analytics",[GP]:"fire-analytics-compat",[XP]:"fire-app-check",[YP]:"fire-app-check-compat",[JP]:"fire-auth",[ZP]:"fire-auth-compat",[ej]:"fire-rtdb",[tj]:"fire-rtdb-compat",[nj]:"fire-fn",[rj]:"fire-fn-compat",[sj]:"fire-iid",[ij]:"fire-iid-compat",[oj]:"fire-fcm",[aj]:"fire-fcm-compat",[lj]:"fire-perf",[uj]:"fire-perf-compat",[cj]:"fire-rc",[dj]:"fire-rc-compat",[hj]:"fire-gcs",[fj]:"fire-gcs-compat",[pj]:"fire-fst",[mj]:"fire-fst-compat","fire-js":"fire-js",[gj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,_m=new Map;function wj(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hi(t){const e=t.name;if(_m.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,t);for(const n of Xc.values())wj(n,t);return!0}function oh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ms=new ql("app","Firebase",_j);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=vj;function bx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ms.create("bad-app-name",{appName:String(s)});if(n||(n=Cx()),!n)throw ms.create("no-options");const i=Xc.get(s);if(i){if(Yc(n,i.options)&&Yc(r,i.config))return i;throw ms.create("duplicate-app",{appName:s})}const o=new RP(s);for(const l of _m.values())o.addComponent(l);const a=new Ej(n,r,o);return Xc.set(s,a),a}function vv(t=wm){const e=Xc.get(t);if(!e&&t===wm&&Cx())return bx();if(!e)throw ms.create("no-app",{appName:t});return e}function nr(t,e,n){var r;let s=(r=yj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(a.join(" "));return}hi(new xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="firebase-heartbeat-database",xj=1,El="firebase-heartbeat-store";let Lf=null;function Ax(){return Lf||(Lf=VP(Sj,xj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(El)}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),Lf}async function kj(t){try{return await(await Ax()).transaction(El).objectStore(El).get(Px(t))}catch(e){if(e instanceof lr)di.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function F1(t,e){try{const r=(await Ax()).transaction(El,"readwrite");await r.objectStore(El).put(e,Px(t)),await r.done}catch(n){if(n instanceof lr)di.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function Px(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=1024,Ij=30*24*60*60*1e3;class Tj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=U1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Ij}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=U1(),{heartbeatsToSend:n,unsentEntries:r}=Nj(this._heartbeatsCache.heartbeats),s=Qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function U1(){return new Date().toISOString().substring(0,10)}function Nj(t,e=Cj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),B1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),B1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vP()?yP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await kj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return F1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return F1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function B1(t){return Qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){hi(new xs("platform-logger",e=>new qP(e),"PRIVATE")),hi(new xs("heartbeat",e=>new Tj(e),"PRIVATE")),nr(ym,L1,t),nr(ym,L1,"esm2017"),nr("fire-js","")}bj("");var Aj="firebase",Pj="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(Aj,Pj,"app");function yv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function jx(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jj=jx,Dx=new ql("auth","Firebase",jx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new mv("@firebase/auth");function Dj(t,...e){Jc.logLevel<=me.WARN&&Jc.warn(`Auth (${ki}): ${t}`,...e)}function dc(t,...e){Jc.logLevel<=me.ERROR&&Jc.error(`Auth (${ki}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw wv(t,...e)}function rr(t,...e){return wv(t,...e)}function Ox(t,e,n){const r=Object.assign(Object.assign({},jj()),{[e]:n});return new ql("auth","Firebase",r).create(e,{appName:t.name})}function Oj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&In(t,"argument-error"),Ox(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Dx.create(t,...e)}function K(t,e,...n){if(!t)throw wv(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dc(e),new Error(e)}function jr(t,e){t||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $j(){return V1()==="http:"||V1()==="https:"}function V1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($j()||pP()||"connection"in navigator)?navigator.onLine:!0}function Lj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=hP()||mP()}get(){return Mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new Kl(3e4,6e4);function Ci(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ii(t,e,n,r,s={}){return Mx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Wl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),$x.fetch()(Lx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Mx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fj),e);try{const s=new Bj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $u(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $u(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ox(t,d,c);In(t,d)}}catch(s){if(s instanceof lr)throw s;In(t,"network-request-failed",{message:String(s)})}}async function Gl(t,e,n,r,s={}){const i=await Ii(t,e,n,r,s);return"mfaPendingCredential"in i&&In(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Lx(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?_v(t.config,s):`${t.config.apiScheme}://${s}`}class Bj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),Uj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){return Ii(t,"POST","/v1/accounts:delete",e)}async function zj(t,e){return Ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hj(t,e=!1){const n=Be(t),r=await n.getIdToken(e),s=Ev(r);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:qa(Ff(s.auth_time)),issuedAtTime:qa(Ff(s.iat)),expirationTime:qa(Ff(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ff(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Sx(n);return s?JSON.parse(s):(dc("Failed to decode base64 JWT payload"),null)}catch(s){return dc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qj(t){const e=Ev(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&Wj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Wj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Sl(t,zj(n,{idToken:r}));K(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Yj(i.providerUserInfo):[],a=Qj(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Fx(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Gj(t){const e=Be(t);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Yj(t){return t.map(e=>{var{providerId:n}=e,r=yv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e){const n=await Mx(t,{},async()=>{const r=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Lx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$x.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return K(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Xj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new xl;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(K(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(K(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=yv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Sl(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hj(this,e)}reload(){return Gj(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Sl(this,Vj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,f=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:E,isAnonymous:x,providerData:I,stsTokenManager:N}=n;K(y&&N,e,"internal-error");const P=xl.fromJSON(this.name,N);K(typeof y=="string",e,"internal-error"),zr(h,e.name),zr(p,e.name),K(typeof E=="boolean",e,"internal-error"),K(typeof x=="boolean",e,"internal-error"),zr(g,e.name),zr(v,e.name),zr(w,e.name),zr(_,e.name),zr(f,e.name),zr(m,e.name);const j=new ti({uid:y,auth:e,email:p,emailVerified:E,displayName:h,isAnonymous:x,photoURL:v,phoneNumber:g,tenantId:w,stsTokenManager:P,createdAt:f,lastLoginAt:m});return I&&Array.isArray(I)&&(j.providerData=I.map(L=>Object.assign({},L))),_&&(j._redirectEventId=_),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new xl;s.updateFromServerResponse(n);const i=new ti({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zc(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Map;function Sr(t){jr(t instanceof Function,"Expected a class definition");let e=z1.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ux.type="NONE";const H1=Ux;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=hc(this.userKey,s.apiKey,i),this.fullPersistenceKey=hc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(Sr(H1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Sr(H1);const o=hc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=ti._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new mo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new mo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qx(e))return"Blackberry";if(Wx(e))return"Webos";if(Sv(e))return"Safari";if((e.includes("chrome/")||Vx(e))&&!e.includes("edge/"))return"Chrome";if(Hx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Bx(t=jt()){return/firefox\//i.test(t)}function Sv(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vx(t=jt()){return/crios\//i.test(t)}function zx(t=jt()){return/iemobile/i.test(t)}function Hx(t=jt()){return/android/i.test(t)}function qx(t=jt()){return/blackberry/i.test(t)}function Wx(t=jt()){return/webos/i.test(t)}function ah(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jj(t=jt()){var e;return ah(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zj(){return gP()&&document.documentMode===10}function Kx(t=jt()){return ah(t)||Hx(t)||Wx(t)||qx(t)||/windows phone/i.test(t)||zx(t)}function eD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t,e=[]){let n;switch(t){case"Browser":n=q1(jt());break;case"Worker":n=`${q1(jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${r}`}async function Qx(t,e){return Ii(t,"GET","/v2/recaptchaConfig",Ci(t,e))}function W1(t){return t!==void 0&&t.enterprise!==void 0}class Yx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Xx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=rr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",tD().appendChild(r)})}function nD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rD="https://www.google.com/recaptcha/enterprise.js?render=",sD="recaptcha-enterprise",iD="NO_RECAPTCHA";class Jx{constructor(e){this.type=sD,this.auth=Ps(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Qx(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Yx(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;W1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(iD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&W1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Xx(rD+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function jo(t,e,n,r=!1){const s=new Jx(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K1(this),this.idTokenSubscription=new K1(this),this.beforeStateQueue=new oD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Be(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}async initializeRecaptchaConfig(){const e=await Qx(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Yx(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Jx(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sr(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return K(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Dj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ps(t){return Be(t)}class K1{constructor(e){this.auth=e,this.observer=null,this.addObserver=xP(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){const n=oh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Yc(i,e??{}))return s;In(s,"already-initialized")}return n.initialize({options:e})}function uD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cD(t,e,n){const r=Ps(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Zx(e),{host:o,port:a}=dD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||hD()}function Zx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dD(t){const e=Zx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:G1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:G1(o)}}}function G1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function fD(t,e){return Ii(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(t,e){return Gl(t,"POST","/v1/accounts:signInWithPassword",Ci(t,e))}async function pD(t,e){return Ii(t,"POST","/v1/accounts:sendOobCode",Ci(t,e))}async function Bf(t,e){return pD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",Ci(t,e))}async function gD(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",Ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends xv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await jo(e,r,"signInWithPassword");return Uf(e,s)}else return Uf(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await jo(e,r,"signInWithPassword");return Uf(e,i)}else return Promise.reject(s)});case"emailLink":return mD(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return fD(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gD(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return Gl(t,"POST","/v1/accounts:signInWithIdp",Ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="http://localhost";class fi extends xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=yv(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new fi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:vD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wD(t){const e=Ta(Na(t)).link,n=e?Ta(Na(e)).deep_link_id:null,r=Ta(Na(t)).deep_link_id;return(r?Ta(Na(r)).link:null)||r||n||e||t}class kv{constructor(e){var n,r,s,i,o,a;const l=Ta(Na(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=yD((s=l.mode)!==null&&s!==void 0?s:null);K(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wD(e);try{return new kv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kv.parseLink(n);return K(r,"argument-error"),kl._fromEmailAndCode(e,r.code,r.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Cv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ql{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yr.credential(n,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Ql{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ql{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xr.credential(n,r)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(t,e){return Gl(t,"POST","/v1/accounts:signUp",Ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ti._fromIdTokenResponse(e,r,s),o=Q1(r);return new pi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Q1(r);return new pi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Q1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends lr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ed(e,n,r,s)}}function ek(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,i,e,r):i})}async function _D(t,e,n=!1){const r=await Sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Sl(t,ek(r,s,e,t),n);K(i.idToken,r,"internal-error");const o=Ev(i.idToken);K(o,r,"internal-error");const{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),pi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&In(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(t,e,n=!1){const r="signIn",s=await ek(t,r,e),i=await pi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function SD(t,e){return tk(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e,n){var r;K(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e,n){var r;const s=Ps(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await jo(s,i,"getOobCode",!0);n&&zf(s,o,n),await Bf(s,o)}else n&&zf(s,i,n),await Bf(s,i).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await jo(s,i,"getOobCode",!0);n&&zf(s,a,n),await Bf(s,a)}else return Promise.reject(o)})}async function kD(t,e,n){var r;const s=Ps(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await jo(s,i,"signUpPassword");o=Vf(s,c)}else o=Vf(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await jo(s,i,"signUpPassword");return Vf(s,d)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await pi._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function CD(t,e,n){return SD(Be(t),Qo.credential(e,n))}function ID(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function TD(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function ND(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function RD(t){return Be(t).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(){const t=jt();return Sv(t)||ah(t)}const AD=1e3,PD=10;class rk extends nk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bD()&&eD(),this.fallbackToPolling=Kx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Zj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rk.type="LOCAL";const jD=rk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk extends nk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sk.type="SESSION";const ik=sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await DD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Iv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function $D(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function MD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FD(){return ok()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="firebaseLocalStorageDb",UD=1,nd="firebaseLocalStorage",lk="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function BD(){const t=indexedDB.deleteDatabase(ak);return new Yl(t).toPromise()}function Sm(){const t=indexedDB.open(ak,UD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nd,{keyPath:lk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),await BD(),e(await Sm()))})})}async function Y1(t,e,n){const r=uh(t,!0).put({[lk]:e,value:n});return new Yl(r).toPromise()}async function VD(t,e){const n=uh(t,!1).get(e),r=await new Yl(n).toPromise();return r===void 0?null:r.value}function X1(t,e){const n=uh(t,!0).delete(e);return new Yl(n).toPromise()}const zD=800,HD=3;class uk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(FD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new OD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await Y1(e,td,"1"),await X1(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=uh(s,!1).getAll();return new Yl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uk.type="LOCAL";const qD=uk;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e){return e?Sr(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends xv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WD(t){return tk(t.auth,new Tv(t),t.bypassAuthState)}function KD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),ED(n,new Tv(t),t.bypassAuthState)}async function GD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),_D(n,new Tv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:In(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Kl(2e3,1e4);async function YD(t,e,n){const r=Ps(t);Oj(t,e,Cv);const s=ck(r,n);return new Qs(r,"signInViaPopup",e,s).executeNotNull()}class Qs extends dk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QD.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="pendingRedirect",fc=new Map;class JD extends dk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fc.get(this.auth._key());if(!e){try{const r=await ZD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fc.set(this.auth._key(),e)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZD(t,e){const n=nO(e),r=tO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function eO(t,e){fc.set(t._key(),e)}function tO(t){return Sr(t._redirectPersistence)}function nO(t){return hc(XD,t.config.apiKey,t.name)}async function rO(t,e,n=!1){const r=Ps(t),s=ck(r,e),o=await new JD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=10*60*1e3;class iO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sO&&this.cachedEventUids.clear(),this.cachedEventUids.has(J1(e))}saveEventToCache(e){this.cachedEventUids.add(J1(e)),this.lastProcessedEventTime=Date.now()}}function J1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(t,e={}){return Ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uO=/^https?/;async function cO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aO(t);for(const n of e)try{if(dO(n))return}catch{}In(t,"unauthorized-domain")}function dO(t){const e=Em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uO.test(n))return!1;if(lO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Kl(3e4,6e4);function Z1(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fO(t){return new Promise((e,n)=>{var r,s,i;function o(){Z1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z1(),n(rr(t,"network-request-failed"))},timeout:hO.get()})}if(!((s=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=sr().gapi)===null||i===void 0)&&i.load)o();else{const a=nD("iframefcb");return sr()[a]=()=>{gapi.load?o():n(rr(t,"network-request-failed"))},Xx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw pc=null,e})}let pc=null;function pO(t){return pc=pc||fO(t),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new Kl(5e3,15e3),gO="__/auth/iframe",vO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _O(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_v(e,vO):`https://${t.config.authDomain}/${gO}`,r={apiKey:e.apiKey,appName:t.name,v:ki},s=wO.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Wl(r).slice(1)}`}async function EO(t){const e=await pO(t),n=sr().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:_O(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=rr(t,"network-request-failed"),a=sr().setTimeout(()=>{i(o)},mO.get());function l(){sr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xO=500,kO=600,CO="_blank",IO="http://localhost";class ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TO(t,e,n,r=xO,s=kO){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},SO),{width:r.toString(),height:s.toString(),top:i,left:o}),c=jt().toLowerCase();n&&(a=Vx(c)?CO:n),Bx(c)&&(e=e||IO,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,v])=>`${p}${g}=${v},`,"");if(Jj(c)&&a!=="_self")return NO(e||"",a),new ew(null);const h=window.open(e||"",a,d);K(h,t,"popup-blocked");try{h.focus()}catch{}return new ew(h)}function NO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="__/auth/handler",bO="emulator/auth/handler",AO=encodeURIComponent("fac");async function tw(t,e,n,r,s,i){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ki,eventId:s};if(e instanceof Cv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",SP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof Ql){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${AO}=${encodeURIComponent(l)}`:"";return`${PO(t)}?${Wl(a).slice(1)}${c}`}function PO({config:t}){return t.emulator?_v(t,bO):`https://${t.authDomain}/${RO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="webStorageSupport";class jO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ik,this._completeRedirectFn=rO,this._overrideRedirectResult=eO}async _openPopup(e,n,r,s){var i;jr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await tw(e,n,r,Em(),s);return TO(e,o,Iv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await tw(e,n,r,Em(),s);return $D(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(jr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EO(e),r=new iO(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hf,{type:Hf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Hf];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kx()||Sv()||ah()}}const DO=jO;var nw="@firebase/auth",rw="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function MO(t){hi(new xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gx(t)},c=new aD(r,s,i,l);return uD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hi(new xs("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(r=>new OO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(nw,rw,$O(t)),nr(nw,rw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=5*60,FO=Ix("authIdTokenMaxAge")||LO;let sw=null;const UO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FO)return;const s=n==null?void 0:n.token;sw!==s&&(sw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function BO(t=vv()){const e=oh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lD(t,{popupRedirectResolver:DO,persistence:[qD,jD,ik]}),r=Ix("authTokenSyncURL");if(r){const i=UO(r);TD(n,i,()=>i(n.currentUser)),ID(n,o=>i(o))}const s=xx("auth");return s&&cD(n,`http://${s}`),n}MO("Browser");var VO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Nv=Nv||{},X=VO||self;function ch(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zO(t){return Object.prototype.hasOwnProperty.call(t,qf)&&t[qf]||(t[qf]=++HO)}var qf="closure_uid_"+(1e9*Math.random()>>>0),HO=0;function qO(t,e,n){return t.call.apply(t.bind,arguments)}function WO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=qO:Nt=WO,Nt.apply(null,arguments)}function Mu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function js(){this.s=this.s,this.o=this.o}var KO=0;js.prototype.s=!1;js.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),KO!=0)&&zO(this)};js.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ch(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var GO=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return t}();function Cl(t){return/^[\s\xa0]*$/.test(t)}function dh(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function Qn(t){return dh().indexOf(t)!=-1}function bv(t){return bv[" "](t),t}bv[" "]=function(){};function QO(t,e){var n=B$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var YO=Qn("Opera"),Do=Qn("Trident")||Qn("MSIE"),pk=Qn("Edge"),xm=pk||Do,mk=Qn("Gecko")&&!(dh().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),XO=dh().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge");function gk(){var t=X.document;return t?t.documentMode:void 0}var km;e:{var Wf="",Kf=function(){var t=dh();if(mk)return/rv:([^\);]+)(\)|;)/.exec(t);if(pk)return/Edge\/([\d\.]+)/.exec(t);if(Do)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(XO)return/WebKit\/(\S+)/.exec(t);if(YO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Kf&&(Wf=Kf?Kf[1]:""),Do){var Gf=gk();if(Gf!=null&&Gf>parseFloat(Wf)){km=String(Gf);break e}}km=Wf}var Cm;if(X.document&&Do){var ow=gk();Cm=ow||parseInt(km,10)||void 0}else Cm=void 0;var JO=Cm;function Il(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mk){e:{try{bv(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ZO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Il.$.h.call(this)}}ct(Il,Rt);var ZO={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jl="closure_listenable_"+(1e6*Math.random()|0),e$=0;function t$(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++e$,this.fa=this.ia=!1}function hh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Av(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function n$(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function vk(t){const e={};for(const n in t)e[n]=t[n];return e}const aw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yk(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<aw.length;i++)n=aw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fh(t){this.src=t,this.g={},this.h=0}fh.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Tm(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new t$(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Im(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=fk(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(hh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Pv="closure_lm_"+(1e6*Math.random()|0),Qf={};function wk(t,e,n,r,s){if(r&&r.once)return Ek(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)wk(t,e[i],n,r,s);return null}return n=Ov(n),t&&t[Jl]?t.O(e,n,Xl(r)?!!r.capture:!!r,s):_k(t,e,n,!1,r,s)}function _k(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Xl(s)?!!s.capture:!!s,a=Dv(t);if(a||(t[Pv]=a=new fh(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=r$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)GO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(xk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r$(){function t(n){return e.call(t.src,t.listener,n)}const e=s$;return t}function Ek(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Ek(t,e[i],n,r,s);return null}return n=Ov(n),t&&t[Jl]?t.P(e,n,Xl(r)?!!r.capture:!!r,s):_k(t,e,n,!0,r,s)}function Sk(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Sk(t,e[i],n,r,s);else r=Xl(r)?!!r.capture:!!r,n=Ov(n),t&&t[Jl]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Tm(i,n,r,s),-1<n&&(hh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Dv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tm(e,n,r,s)),(n=-1<t?e[t]:null)&&jv(n))}function jv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jl])Im(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Dv(e))?(Im(n,t),n.h==0&&(n.src=null,e[Pv]=null)):hh(t)}}}function xk(t){return t in Qf?Qf[t]:Qf[t]="on"+t}function s$(t,e){if(t.fa)t=!0;else{e=new Il(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jv(t),t=n.call(r,e)}return t}function Dv(t){return t=t[Pv],t instanceof fh?t:null}var Yf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ov(t){return typeof t=="function"?t:(t[Yf]||(t[Yf]=function(e){return t.handleEvent(e)}),t[Yf])}function lt(){js.call(this),this.i=new fh(this),this.S=this,this.J=null}ct(lt,js);lt.prototype[Jl]=!0;lt.prototype.removeEventListener=function(t,e,n,r){Sk(this,t,e,n,r)};function gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var s=e;e=new Rt(r,t),yk(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Lu(o,r,!0,e)&&s}if(o=e.g=t,s=Lu(o,r,!0,e)&&s,s=Lu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Lu(o,r,!1,e)&&s}lt.prototype.N=function(){if(lt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hh(n[r]);delete t.g[e],t.h--}}this.J=null};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Lu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Im(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var $v=X.JSON.stringify;class i${constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function o$(){var t=Mv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class a${constructor(){this.h=this.g=null}add(e,n){const r=kk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var kk=new i$(()=>new l$,t=>t.reset());class l${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function u$(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function c$(t){X.setTimeout(()=>{throw t},0)}let Tl,Nl=!1,Mv=new a$,Ck=()=>{const t=X.Promise.resolve(void 0);Tl=()=>{t.then(d$)}};var d$=()=>{for(var t;t=o$();){try{t.h.call(t.g)}catch(n){c$(n)}var e=kk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Nl=!1};function ph(t,e){lt.call(this),this.h=t||1,this.g=e||X,this.j=Nt(this.qb,this),this.l=Date.now()}ct(ph,lt);O=ph.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gt(this,"tick"),this.ga&&(Lv(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){ph.$.N.call(this),Lv(this),delete this.g};function Fv(t,e,n){if(typeof t=="function")n&&(t=Nt(t,n));else if(t&&typeof t.handleEvent=="function")t=Nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function Ik(t){t.g=Fv(()=>{t.g=null,t.i&&(t.i=!1,Ik(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class h$ extends js{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ik(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rl(t){js.call(this),this.h=t,this.g={}}ct(Rl,js);var lw=[];function Tk(t,e,n,r){Array.isArray(n)||(n&&(lw[0]=n.toString()),n=lw);for(var s=0;s<n.length;s++){var i=wk(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Nk(t){Av(t.g,function(e,n){this.g.hasOwnProperty(n)&&jv(e)},t),t.g={}}Rl.prototype.N=function(){Rl.$.N.call(this),Nk(this)};Rl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function mh(){this.g=!0}mh.prototype.Ea=function(){this.g=!1};function f$(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function p$(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function so(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+g$(t,n)+(r?" "+r:"")})}function m$(t,e){t.info(function(){return"TIMEOUT: "+e})}mh.prototype.info=function(){};function g$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return $v(n)}catch{return e}}var Ti={},uw=null;function gh(){return uw=uw||new lt}Ti.Ta="serverreachability";function Rk(t){Rt.call(this,Ti.Ta,t)}ct(Rk,Rt);function bl(t){const e=gh();gt(e,new Rk(e))}Ti.STAT_EVENT="statevent";function bk(t,e){Rt.call(this,Ti.STAT_EVENT,t),this.stat=e}ct(bk,Rt);function Mt(t){const e=gh();gt(e,new bk(e,t))}Ti.Ua="timingevent";function Ak(t,e){Rt.call(this,Ti.Ua,t),this.size=e}ct(Ak,Rt);function Zl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}var vh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Uv(){}Uv.prototype.h=null;function cw(t){return t.h||(t.h=t.i())}function jk(){}var eu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bv(){Rt.call(this,"d")}ct(Bv,Rt);function Vv(){Rt.call(this,"c")}ct(Vv,Rt);var Nm;function yh(){}ct(yh,Uv);yh.prototype.g=function(){return new XMLHttpRequest};yh.prototype.i=function(){return{}};Nm=new yh;function tu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rl(this),this.P=v$,t=xm?125:void 0,this.V=new ph(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dk}function Dk(){this.i=null,this.g="",this.h=!1}var v$=45e3,Rm={},rd={};O=tu.prototype;O.setTimeout=function(t){this.P=t};function bm(t,e,n){t.L=1,t.v=_h(Dr(e)),t.s=n,t.S=!0,Ok(t,null)}function Ok(t,e){t.G=Date.now(),nu(t),t.A=Dr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),zk(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Dk,t.g=cC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new h$(Nt(t.Pa,t,t.g),t.O)),Tk(t.U,t.g,"readystatechange",t.nb),e=t.I?vk(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),bl(),f$(t.j,t.u,t.A,t.m,t.W,t.s)}O.nb=function(t){t=t.target;const e=this.M;e&&Yn(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const d=Yn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||xm||this.g&&(this.h.h||this.g.ja()||pw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?bl(3):bl(2)),wh(this);var n=this.g.da();this.ca=n;t:if($k(this)){var r=pw(this.g);t="";var s=r.length,i=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),Wa(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,p$(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cl(a)){var c=a;break t}}c=null}if(n=c)so(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Am(this,n);else{this.i=!1,this.o=3,Mt(12),Ys(this),Wa(this);break e}}this.S?(Mk(this,d,o),xm&&this.i&&d==3&&(Tk(this.U,this.V,"tick",this.mb),this.V.start())):(so(this.j,this.m,o,null),Am(this,o)),d==4&&Ys(this),this.i&&!this.J&&(d==4?oC(this.l,this):(this.i=!1,nu(this)))}else L$(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Mt(12)):(this.o=0,Mt(13)),Ys(this),Wa(this)}}}catch{}finally{}};function $k(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Mk(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=y$(t,n),s==rd){e==4&&(t.o=4,Mt(14),r=!1),so(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Rm){t.o=4,Mt(15),so(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else so(t.j,t.m,s,null),Am(t,s);$k(t)&&s!=rd&&s!=Rm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Mt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gv(e),e.M=!0,Mt(11))):(so(t.j,t.m,n,"[Invalid Chunked Response]"),Ys(t),Wa(t))}O.mb=function(){if(this.g){var t=Yn(this.g),e=this.g.ja();this.C<e.length&&(wh(this),Mk(this,t,e),this.i&&t!=4&&nu(this))}};function y$(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?rd:(n=Number(e.substring(n,r)),isNaN(n)?Rm:(r+=1,r+n>e.length?rd:(e=e.slice(r,r+n),t.C=r+n,e)))}O.cancel=function(){this.J=!0,Ys(this)};function nu(t){t.Y=Date.now()+t.P,Lk(t,t.P)}function Lk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Zl(Nt(t.lb,t),e)}function wh(t){t.B&&(X.clearTimeout(t.B),t.B=null)}O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(m$(this.j,this.A),this.L!=2&&(bl(),Mt(17)),Ys(this),this.o=2,Wa(this)):Lk(this,this.Y-t)};function Wa(t){t.l.H==0||t.J||oC(t.l,t)}function Ys(t){wh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lv(t.V),Nk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Am(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pm(n.i,t))){if(!t.K&&Pm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)od(n),xh(n);else break e;Kv(n),Mt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zl(Nt(n.ib,n),6e3));if(1>=Wk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xs(n,11)}else if((t.K||n.g==t)&&od(n),!Cl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const p=c[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;i.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(zv(i,i.h),i.h=null))}if(r.F){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Te(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=uC(r,r.J?r.pa:null,r.Y),o.K){Kk(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(wh(a),nu(a)),r.g=o}else sC(r);0<n.j.length&&kh(n)}else c[0]!="stop"&&c[0]!="close"||Xs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Xs(n,7):Wv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}bl(4)}catch{}}function w$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ch(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function _$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ch(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Fk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ch(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=_$(t),r=w$(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Uk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function E$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ni(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ni){this.h=t.h,sd(this,t.j),this.s=t.s,this.g=t.g,id(this,t.m),this.l=t.l;var e=t.i,n=new Al;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dw(this,n),this.o=t.o}else t&&(e=String(t).match(Uk))?(this.h=!1,sd(this,e[1]||"",!0),this.s=Ra(e[2]||""),this.g=Ra(e[3]||"",!0),id(this,e[4]),this.l=Ra(e[5]||"",!0),dw(this,e[6]||"",!0),this.o=Ra(e[7]||"")):(this.h=!1,this.i=new Al(null,this.h))}ni.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ba(e,hw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ba(e,hw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ba(n,n.charAt(0)=="/"?k$:x$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ba(n,I$)),t.join("")};function Dr(t){return new ni(t)}function sd(t,e,n){t.j=n?Ra(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function id(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dw(t,e,n){e instanceof Al?(t.i=e,T$(t.i,t.h)):(n||(e=ba(e,C$)),t.i=new Al(e,t.h))}function Te(t,e,n){t.i.set(e,n)}function _h(t){return Te(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ra(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ba(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,S$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function S$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hw=/[#\/\?@]/g,x$=/[#\?:]/g,k$=/[#\?]/g,C$=/[#\?@]/g,I$=/#/g;function Al(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ds(t){t.g||(t.g=new Map,t.h=0,t.i&&E$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Al.prototype;O.add=function(t,e){Ds(this),this.i=null,t=Yo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Bk(t,e){Ds(t),e=Yo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Vk(t,e){return Ds(t),e=Yo(t,e),t.g.has(e)}O.forEach=function(t,e){Ds(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};O.ta=function(){Ds(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};O.Z=function(t){Ds(this);let e=[];if(typeof t=="string")Vk(this,t)&&(e=e.concat(this.g.get(Yo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Ds(this),this.i=null,t=Yo(this,t),Vk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function zk(t,e,n){Bk(t,e),0<n.length&&(t.i=null,t.g.set(Yo(t,e),Rv(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Yo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function T$(t,e){e&&!t.j&&(Ds(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Bk(this,r),zk(this,s,n))},t)),t.j=e}var N$=class{constructor(t,e){this.g=t,this.map=e}};function Hk(t){this.l=t||R$,X.PerformanceNavigationTiming?(t=X.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var R$=10;function qk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Wk(t){return t.h?1:t.g?t.g.size:0}function Pm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zv(t,e){t.g?t.g.add(e):t.h=e}function Kk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Hk.prototype.cancel=function(){if(this.i=Gk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Gk(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Rv(t.i)}var b$=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function A$(){this.g=new b$}function P$(t,e,n){const r=n||"";try{Fk(t,function(s,i){let o=s;Xl(s)&&(o=$v(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function j$(t,e){const n=new mh;if(X.Image){const r=new Image;r.onload=Mu(Fu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mu(Fu,n,r,"TestLoadImage: error",!1,e),r.onabort=Mu(Fu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mu(Fu,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ru(t){this.l=t.fc||null,this.j=t.ob||!1}ct(ru,Uv);ru.prototype.g=function(){return new Eh(this.l,this.j)};ru.prototype.i=function(t){return function(){return t}}({});function Eh(t,e){lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Hv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(Eh,lt);var Hv=0;O=Eh.prototype;O.open=function(t,e){if(this.readyState!=Hv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pl(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,su(this)),this.readyState=Hv};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pl(this)),this.g&&(this.readyState=3,Pl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Qk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?su(this):Pl(this),this.readyState==3&&Qk(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,su(this))};O.Ya=function(t){this.g&&(this.response=t,su(this))};O.ka=function(){this.g&&su(this)};function su(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pl(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var D$=X.JSON.parse;function Ve(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yk,this.L=this.M=!1}ct(Ve,lt);var Yk="",O$=/^https?$/i,$$=["POST","PUT"];O=Ve.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nm.g(),this.C=this.u?cw(this.u):cw(Nm),this.g.onreadystatechange=Nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){fw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=X.FormData&&t instanceof X.FormData,!(0<=fk($$,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zk(this),0<this.B&&((this.L=M$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.ua,this)):this.A=Fv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){fw(this,i)}};function M$(t){return Do&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof Nv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))};function fw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Xk(t),Sh(t)}function Xk(t){t.F||(t.F=!0,gt(t,"complete"),gt(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gt(this,"complete"),gt(this,"abort"),Sh(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sh(this,!0)),Ve.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?Jk(this):this.kb())};O.kb=function(){Jk(this)};function Jk(t){if(t.h&&typeof Nv<"u"&&(!t.C[1]||Yn(t)!=4||t.da()!=2)){if(t.v&&Yn(t)==4)Fv(t.La,0,t);else if(gt(t,"readystatechange"),Yn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Uk)[1]||null;!s&&X.self&&X.self.location&&(s=X.self.location.protocol.slice(0,-1)),r=!O$.test(s?s.toLowerCase():"")}n=r}if(n)gt(t,"complete"),gt(t,"success");else{t.m=6;try{var i=2<Yn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Xk(t)}}finally{Sh(t)}}}}function Sh(t,e){if(t.g){Zk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Zk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function Yn(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),D$(e)}};function pw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Yk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function L$(t){const e={};t=(t.g&&2<=Yn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Cl(t[r]))continue;var n=u$(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}n$(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function eC(t){let e="";return Av(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function qv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=eC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Te(t,e,n))}function ma(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tC(t){this.Ga=0,this.j=[],this.l=new mh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ma("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ma("baseRetryDelayMs",5e3,t),this.hb=ma("retryDelaySeedMs",1e4,t),this.eb=ma("forwardChannelMaxRetries",2,t),this.xa=ma("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Hk(t&&t.concurrentRequestLimit),this.Ja=new A$,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=tC.prototype;O.ra=8;O.H=1;function Wv(t){if(nC(t),t.H==3){var e=t.W++,n=Dr(t.I);if(Te(n,"SID",t.K),Te(n,"RID",e),Te(n,"TYPE","terminate"),iu(t,n),e=new tu(t,t.l,e),e.L=2,e.v=_h(Dr(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&X.Image&&(new Image().src=e.v,n=!0),n||(e.g=cC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nu(e)}lC(t)}function xh(t){t.g&&(Gv(t),t.g.cancel(),t.g=null)}function nC(t){xh(t),t.u&&(X.clearTimeout(t.u),t.u=null),od(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&X.clearTimeout(t.m),t.m=null)}function kh(t){if(!qk(t.i)&&!t.m){t.m=!0;var e=t.Na;Tl||Ck(),Nl||(Tl(),Nl=!0),Mv.add(e,t),t.C=0}}function F$(t,e){return Wk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zl(Nt(t.Na,t,e),aC(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new tu(this,this.l,t);let i=this.s;if(this.U&&(i?(i=vk(i),yk(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rC(this,s,e),n=Dr(this.I),Te(n,"RID",t),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),iu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(eC(i)))+"&"+e:this.o&&qv(n,this.o,i)),zv(this.i,s),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",e),Te(n,"SID","null"),s.aa=!0,bm(s,n,null)):bm(s,n,e),this.H=2}}else this.H==3&&(t?mw(this,t):this.j.length==0||qk(this.i)||mw(this))};function mw(t,e){var n;e?n=e.m:n=t.W++;const r=Dr(t.I);Te(r,"SID",t.K),Te(r,"RID",n),Te(r,"AID",t.V),iu(t,r),t.o&&t.s&&qv(r,t.o,t.s),n=new tu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),zv(t.i,n),bm(n,r,e)}function iu(t,e){t.na&&Av(t.na,function(n,r){Te(e,r,n)}),t.h&&Fk({},function(n,r){Te(e,r,n)})}function rC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const d=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{P$(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function sC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Tl||Ck(),Nl||(Tl(),Nl=!0),Mv.add(e,t),t.A=0}}function Kv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zl(Nt(t.Ma,t),aC(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,iC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Zl(Nt(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mt(10),xh(this),iC(this))};function Gv(t){t.B!=null&&(X.clearTimeout(t.B),t.B=null)}function iC(t){t.g=new tu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Dr(t.wa);Te(e,"RID","rpc"),Te(e,"SID",t.K),Te(e,"AID",t.V),Te(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Te(e,"TO",t.qa),Te(e,"TYPE","xmlhttp"),iu(t,e),t.o&&t.s&&qv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=_h(Dr(e)),n.s=null,n.S=!0,Ok(n,t)}O.ib=function(){this.v!=null&&(this.v=null,xh(this),Kv(this),Mt(19))};function od(t){t.v!=null&&(X.clearTimeout(t.v),t.v=null)}function oC(t,e){var n=null;if(t.g==e){od(t),Gv(t),t.g=null;var r=2}else if(Pm(t.i,e))n=e.F,Kk(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=gh(),gt(r,new Ak(r,n)),kh(t)}else sC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&F$(t,e)||r==2&&Kv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Xs(t,5);break;case 4:Xs(t,10);break;case 3:Xs(t,6);break;default:Xs(t,2)}}}function aC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Nt(t.pb,t);n||(n=new ni("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||sd(n,"https"),_h(n)),j$(n.toString(),r)}else Mt(2);t.H=0,t.h&&t.h.za(e),lC(t),nC(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Mt(2)):(this.l.info("Failed to ping google.com"),Mt(1))};function lC(t){if(t.H=0,t.ma=[],t.h){const e=Gk(t.i);(e.length!=0||t.j.length!=0)&&(iw(t.ma,e),iw(t.ma,t.j),t.i.i.length=0,Rv(t.j),t.j.length=0),t.h.ya()}}function uC(t,e,n){var r=n instanceof ni?Dr(n):new ni(n);if(r.g!="")e&&(r.g=e+"."+r.g),id(r,r.m);else{var s=X.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new ni(null);r&&sd(i,r),e&&(i.g=e),s&&id(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Te(r,n,e),Te(r,"VER",t.ra),iu(t,r),r}function cC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ve(new ru({ob:!0})):new Ve(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function dC(){}O=dC.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function ad(){if(Do&&!(10<=Number(JO)))throw Error("Environmental error: no available transport.")}ad.prototype.g=function(t,e){return new un(t,e)};function un(t,e){lt.call(this),this.g=new tC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xo(this)}ct(un,lt);un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Mt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=uC(t,null,t.Y),kh(t)};un.prototype.close=function(){Wv(this.g)};un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$v(t),t=n);e.j.push(new N$(e.fb++,t)),e.H==3&&kh(e)};un.prototype.N=function(){this.g.h=null,delete this.j,Wv(this.g),delete this.g,un.$.N.call(this)};function hC(t){Bv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ct(hC,Bv);function fC(){Vv.call(this),this.status=1}ct(fC,Vv);function Xo(t){this.g=t}ct(Xo,dC);Xo.prototype.Ba=function(){gt(this.g,"a")};Xo.prototype.Aa=function(t){gt(this.g,new hC(t))};Xo.prototype.za=function(t){gt(this.g,new fC)};Xo.prototype.ya=function(){gt(this.g,"b")};function U$(){this.blockSize=-1}function Bn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ct(Bn,U$);Bn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Xf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Bn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Xf(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Xf(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Xf(this,r),s=0;break}}this.h=s,this.i+=e};Bn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var B$={};function Qv(t){return-128<=t&&128>t?QO(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function Xn(t){if(isNaN(t)||!isFinite(t))return vo;if(0>t)return pt(Xn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jm;return new we(e,0)}function pC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pt(pC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xn(Math.pow(e,8)),r=vo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Xn(Math.pow(e,i)),r=r.R(i).add(Xn(o))):(r=r.R(n),r=r.add(Xn(o)))}return r}var jm=4294967296,vo=Qv(0),Dm=Qv(1),gw=Qv(16777216);O=we.prototype;O.ea=function(){if(En(this))return-pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jm+r)*e,e*=jm}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(xr(this))return"0";if(En(this))return"-"+pt(this).toString(t);for(var e=Xn(Math.pow(t,6)),n=this,r="";;){var s=ud(n,e).g;n=ld(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,xr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function xr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function En(t){return t.h==-1}O.X=function(t){return t=ld(this,t),En(t)?-1:xr(t)?0:1};function pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(Dm)}O.abs=function(){return En(this)?pt(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new we(n,n[n.length-1]&-2147483648?-1:0)};function ld(t,e){return t.add(pt(e))}O.R=function(t){if(xr(this)||xr(t))return vo;if(En(this))return En(t)?pt(this).R(pt(t)):pt(pt(this).R(t));if(En(t))return pt(this.R(pt(t)));if(0>this.X(gw)&&0>t.X(gw))return Xn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Uu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Uu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Uu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Uu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function Uu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ga(t,e){this.g=t,this.h=e}function ud(t,e){if(xr(e))throw Error("division by zero");if(xr(t))return new ga(vo,vo);if(En(t))return e=ud(pt(t),e),new ga(pt(e.g),pt(e.h));if(En(e))return e=ud(t,pt(e)),new ga(pt(e.g),e.h);if(30<t.g.length){if(En(t)||En(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dm,r=e;0>=r.X(t);)n=vw(n),r=vw(r);var s=Di(n,1),i=Di(r,1);for(r=Di(r,2),n=Di(n,2);!xr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Di(r,1),n=Di(n,1)}return e=ld(t,s.R(e)),new ga(s,e)}for(s=vo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Xn(n),o=i.R(e);En(o)||0<o.X(t);)n-=r,i=Xn(n),o=i.R(e);xr(i)&&(i=Dm),s=s.add(i),t=ld(t,o)}return new ga(s,t)}O.gb=function(t){return ud(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function vw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function Di(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new we(s,t.h)}ad.prototype.createWebChannel=ad.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;vh.NO_ERROR=0;vh.TIMEOUT=8;vh.HTTP_ERROR=6;Pk.COMPLETE="complete";jk.EventType=eu;eu.OPEN="a";eu.CLOSE="b";eu.ERROR="c";eu.MESSAGE="d";lt.prototype.listen=lt.prototype.O;Ve.prototype.listenOnce=Ve.prototype.P;Ve.prototype.getLastError=Ve.prototype.Sa;Ve.prototype.getLastErrorCode=Ve.prototype.Ia;Ve.prototype.getStatus=Ve.prototype.da;Ve.prototype.getResponseJson=Ve.prototype.Wa;Ve.prototype.getResponseText=Ve.prototype.ja;Ve.prototype.send=Ve.prototype.ha;Ve.prototype.setWithCredentials=Ve.prototype.Oa;Bn.prototype.digest=Bn.prototype.l;Bn.prototype.reset=Bn.prototype.reset;Bn.prototype.update=Bn.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=Xn;we.fromString=pC;var V$=function(){return new ad},z$=function(){return gh()},Jf=vh,H$=Pk,q$=Ti,yw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},W$=ru,Bu=jk,K$=Ve,G$=Bn,yo=we;const ww="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new mv("@firebase/firestore");function _w(){return mi.logLevel}function H(t,...e){if(mi.logLevel<=me.DEBUG){const n=e.map(Yv);mi.debug(`Firestore (${Jo}): ${t}`,...n)}}function Or(t,...e){if(mi.logLevel<=me.ERROR){const n=e.map(Yv);mi.error(`Firestore (${Jo}): ${t}`,...n)}}function Oo(t,...e){if(mi.logLevel<=me.WARN){const n=e.map(Yv);mi.warn(`Firestore (${Jo}): ${t}`,...n)}}function Yv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function be(t,e){t||Q()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class Y${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X${constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Tr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new mC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new kt(e)}}class J${constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Z${constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new J$(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tM{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.T=n.token,new eM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=nM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function $o(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new et(0,0))}static max(){return new Z(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return jl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends jl{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const rM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends jl{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return rM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new M(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new M(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new M(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new M(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(Ne.fromString(e))}static fromName(e){return new W(Ne.fromString(e).popFirst(5))}static empty(){return new W(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Ne(e.slice()))}}function sM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new ks(s,W.empty(),e)}function iM(t){return new ks(t.readTime,t.key,-1)}class ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ks(Z.min(),W.empty(),-1)}static max(){return new ks(Z.max(),W.empty(),-1)}}function oM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==aM)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(s=>s?A.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new A((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new A((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Xv.ct=-1;function Ch(t){return t==null}function cd(t){return t===0&&1/t==-1/0}function uM(t){return typeof t=="number"&&Number.isInteger(t)&&!cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vu(this.root,e,this.comparator,!0)}}class Vu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,e,n,r,s){return this}insert(t,e,n){return new ht(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sw(this.data.getIterator())}getIteratorFrom(e){return new Sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class Sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new rn([])}unionWith(e){let n=new bt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yC("Invalid base64 string: "+s):s}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const cM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(be(!!t),typeof t=="string"){let e=0;const n=cM.exec(t);if(be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gi(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zv(t){const e=t.mapValue.fields.__previous_value__;return Jv(e)?Zv(e):e}function Dl(t){const e=Cs(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ol{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jv(t)?4:hM(t)?9007199254740991:10:Q()}function ar(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Cs(r.timestampValue),o=Cs(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return gi(r.bytesValue).isEqual(gi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ge(r.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ge(r.integerValue)===Ge(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=Ge(r.doubleValue),o=Ge(s.doubleValue);return i===o?cd(i)===cd(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return $o(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Ew(i)!==Ew(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!ar(i[a],o[a])))return!1;return!0}(t,e);default:return Q()}}function $l(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=Ge(s.integerValue||s.doubleValue),a=Ge(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return xw(t.timestampValue,e.timestampValue);case 4:return xw(Dl(t),Dl(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,i){const o=gi(s),a=gi(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ve(o[l],a[l]);if(c!==0)return c}return ve(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=ve(Ge(s.latitude),Ge(i.latitude));return o!==0?o:ve(Ge(s.longitude),Ge(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Mo(o[l],a[l]);if(c)return c}return ve(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===zu.mapValue&&i===zu.mapValue)return 0;if(s===zu.mapValue)return 1;if(i===zu.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const h=ve(a[d],c[d]);if(h!==0)return h;const p=Mo(o[a[d]],l[c[d]]);if(p!==0)return p}return ve(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Q()}}function xw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Cs(t),r=Cs(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function Lo(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Cs(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?gi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,W.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=Om(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${Om(r.fields[a])}`;return i+"}"}(t.mapValue):Q();var e,n}function kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $m(t){return!!t&&"integerValue"in t}function ey(t){return!!t&&"arrayValue"in t}function Cw(t){return!!t&&"nullValue"in t}function Iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mc(t){return!!t&&"mapValue"in t}function Ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ka(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ka(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];mc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new qt(Ka(this.value))}}function wC(t){const e=[];return Ni(t.fields,(n,r)=>{const s=new Tt([n]);if(mc(r)){const i=wC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,Z.min(),Z.min(),Z.min(),qt.empty(),0)}static newFoundDocument(e,n,r,s){return new It(e,1,n,Z.min(),r,s,0)}static newNoDocument(e,n){return new It(e,2,n,Z.min(),Z.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,Z.min(),Z.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.position=e,this.inclusive=n}}function Tw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=W.comparator(W.fromName(o.referenceValue),n.key):r=Mo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function fM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class Ye extends _C{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mM(e,n,r):n==="array-contains"?new yM(e,r):n==="in"?new wM(e,r):n==="not-in"?new _M(e,r):n==="array-contains-any"?new EM(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gM(e,r):new vM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mo(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends _C{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Vn(e,n)}matches(e){return EC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function EC(t){return t.op==="and"}function SC(t){return pM(t)&&EC(t)}function pM(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function Mm(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if(SC(t))return t.filters.map(e=>Mm(e)).join(",");{const e=t.filters.map(n=>Mm(n)).join(",");return`${t.op}(${e})`}}function xC(t,e){return t instanceof Ye?function(n,r){return r instanceof Ye&&n.op===r.op&&n.field.isEqual(r.field)&&ar(n.value,r.value)}(t,e):t instanceof Vn?function(n,r){return r instanceof Vn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&xC(i,r.filters[o]),!0):!1}(t,e):void Q()}function kC(t){return t instanceof Ye?function(e){return`${e.field.canonicalString()} ${e.op} ${Lo(e.value)}`}(t):t instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(kC).join(" ,")+"}"}(t):"Filter"}class mM extends Ye{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class gM extends Ye{constructor(e,n){super(e,"in",n),this.keys=CC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vM extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=CC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class yM extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ey(n)&&$l(n.arrayValue,this.value)}}class wM extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class _M extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$l(this.value.arrayValue,n)}}class EM extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Rw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new SM(t,e,n,r,s,i,o)}function ty(t){const e=ne(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),e.dt=n}return e.dt}function ny(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nw(t.startAt,e.startAt)&&Nw(t.endAt,e.endAt)}function Lm(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function xM(t,e,n,r,s,i,o,a){return new lu(t,e,n,r,s,i,o,a)}function ry(t){return new lu(t)}function bw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function sy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function TC(t){return t.collectionGroup!==null}function wo(t){const e=ne(t);if(e.wt===null){e.wt=[];const n=sy(e),r=IC(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ga(n)),e.wt.push(new Ga(Tt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ga(Tt.keyField(),i))}}}return e.wt}function $r(t){const e=ne(t);if(!e._t)if(e.limitType==="F")e._t=Rw(e.path,e.collectionGroup,wo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of wo(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Ga(i.field,o))}const r=e.endAt?new dd(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new dd(e.startAt.position,e.startAt.inclusive):null;e._t=Rw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function Fm(t,e){e.getFirstInequalityField(),sy(t);const n=t.filters.concat([e]);return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Um(t,e,n){return new lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return ny($r(t),$r(e))&&t.limitType===e.limitType}function NC(t){return`${ty($r(t))}|lt:${t.limitType}`}function Bm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>kC(r)).join(", ")}]`),Ch(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),`Target(${n})`}($r(t))}; limitType=${t.limitType})`}function Th(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):W.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of wo(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Tw(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,wo(n),r)||n.endAt&&!function(s,i,o){const a=Tw(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,wo(n),r))}(t,e)}function kM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RC(t){return(e,n)=>{let r=!1;for(const s of wo(t)){const i=CM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function CM(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Mo(a,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return vC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Le(W.comparator);function Mr(){return IM}const bC=new Le(W.comparator);function Aa(...t){let e=bC;for(const n of t)e=e.insert(n.key,n);return e}function AC(t){let e=bC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return Qa()}function PC(){return Qa()}function Qa(){return new Zo(t=>t.toString(),(t,e)=>t.isEqual(e))}const TM=new Le(W.comparator),NM=new bt(W.comparator);function le(...t){let e=NM;for(const n of t)e=e.add(n);return e}const RM=new bt(ve);function bM(){return RM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function DC(t){return{integerValue:""+t}}function AM(t,e){return uM(e)?DC(e):jC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function PM(t,e,n){return t instanceof hd?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Jv(s)&&(s=Zv(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Ml?$C(t,e):t instanceof Ll?MC(t,e):function(r,s){const i=OC(r,s),o=Aw(i)+Aw(r.gt);return $m(i)&&$m(r.gt)?DC(o):jC(r.serializer,o)}(t,e)}function jM(t,e,n){return t instanceof Ml?$C(t,e):t instanceof Ll?MC(t,e):n}function OC(t,e){return t instanceof fd?$m(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class hd extends Nh{}class Ml extends Nh{constructor(e){super(),this.elements=e}}function $C(t,e){const n=LC(e);for(const r of t.elements)n.some(s=>ar(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ll extends Nh{constructor(e){super(),this.elements=e}}function MC(t,e){let n=LC(e);for(const r of t.elements)n=n.filter(s=>!ar(s,r));return{arrayValue:{values:n}}}class fd extends Nh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Aw(t){return Ge(t.integerValue||t.doubleValue)}function LC(t){return ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DM(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ml&&r instanceof Ml||n instanceof Ll&&r instanceof Ll?$o(n.elements,r.elements,ar):n instanceof fd&&r instanceof fd?ar(n.gt,r.gt):n instanceof hd&&r instanceof hd}(t.transform,e.transform)}class OM{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function FC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BC(t.key,ir.none()):new uu(t.key,t.data,ir.none());{const n=t.data,r=qt.empty();let s=new bt(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Os(t.key,r,new rn(s.toArray()),ir.none())}}function $M(t,e,n){t instanceof uu?function(r,s,i){const o=r.value.clone(),a=jw(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(r,s,i){if(!gc(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=jw(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(UC(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,r){return t instanceof uu?function(s,i,o,a){if(!gc(s.precondition,i))return o;const l=s.value.clone(),c=Dw(s.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Os?function(s,i,o,a){if(!gc(s.precondition,i))return o;const l=Dw(s.fieldTransforms,a,i),c=i.data;return c.setAll(UC(s)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,o){return gc(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function MM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=OC(r.transform,s||null);i!=null&&(n===null&&(n=qt.empty()),n.set(r.field,i))}return n||null}function Pw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&$o(n,r,(s,i)=>DM(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uu extends Rh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Os extends Rh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function UC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jw(t,e,n){const r=new Map;be(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,jM(o,a,n[s]))}return r}function Dw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,PM(i,o,e))}return r}class BC extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LM extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&$M(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=FC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,(n,r)=>Pw(n,r))&&$o(this.baseMutations,e.baseMutations,(n,r)=>Pw(n,r))}}class iy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){be(e.mutations.length===r.length);let s=TM;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new iy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,ce;function VM(t){switch(t){default:return Q();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function VC(t){if(t===void 0)return Or("GRPC error has no .code"),T.UNKNOWN;switch(t){case We.OK:return T.OK;case We.CANCELLED:return T.CANCELLED;case We.UNKNOWN:return T.UNKNOWN;case We.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case We.INTERNAL:return T.INTERNAL;case We.UNAVAILABLE:return T.UNAVAILABLE;case We.UNAUTHENTICATED:return T.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case We.NOT_FOUND:return T.NOT_FOUND;case We.ALREADY_EXISTS:return T.ALREADY_EXISTS;case We.PERMISSION_DENIED:return T.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case We.ABORTED:return T.ABORTED;case We.OUT_OF_RANGE:return T.OUT_OF_RANGE;case We.UNIMPLEMENTED:return T.UNIMPLEMENTED;case We.DATA_LOSS:return T.DATA_LOSS;default:return Q()}}(ce=We||(We={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hu}static getOrCreateInstance(){return Hu===null&&(Hu=new oy),Hu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Hu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new yo([4294967295,4294967295],0);function Ow(t){const e=zM().encode(t),n=new G$;return n.update(e),new Uint8Array(n.digest())}function $w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new yo([n,r],0),new yo([s,i],0)]}class ay{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pa(`Invalid padding: ${n}`);if(r<0)throw new Pa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=yo.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(yo.fromNumber(r)));return s.compare(HM)===1&&(s=new yo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Ow(e),[r,s]=$w(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ay(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Ow(e),[r,s]=$w(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bh(Z.min(),s,new Le(ve),Mr(),le())}}class cu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cu(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class zC{constructor(e,n){this.targetId=e,this.Vt=n}}class HC{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Mw{constructor(){this.St=0,this.Dt=Fw(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=le(),n=le(),r=le();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Q()}}),new cu(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Fw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Mr(),this.zt=Lw(),this.Wt=new Le(ve)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(Lm(o))if(s===0){const a=new W(o.path);this.Yt(r,a,It.newNoDocument(a,Z.min()))}else be(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=oy.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,h){var p,g,v,w,_,f;const m={localCacheCount:d,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(m.bloomFilter={applied:c===0,hashCount:(p=y==null?void 0:y.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(w=(v=(g=y==null?void 0:y.bits)===null||g===void 0?void 0:g.bitmap)===null||v===void 0?void 0:v.length)!==null&&w!==void 0?w:0,padding:(f=(_=y==null?void 0:y.bits)===null||_===void 0?void 0:_.padding)!==null&&f!==void 0?f:0}),m}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=gi(i).toUint8Array()}catch(d){if(d instanceof yC)return Oo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new ay(l,o,a)}catch(d){return Oo(d instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:s!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Lm(a.target)){const l=new W(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,It.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=le();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new bh(e,n,this.Wt,this.jt,r);return this.jt=Mr(),this.zt=Lw(),this.Wt=new Le(ve),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Mw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new bt(ve),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Mw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Lw(){return new Le(W.comparator)}function Fw(){return new Le(W.comparator)}const WM=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),KM=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),GM=(()=>({and:"AND",or:"OR"}))();class QM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(t,e){return t.useProto3Json||Ch(e)?e:{value:e}}function pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YM(t,e){return pd(t,e.toTimestamp())}function or(t){return be(!!t),Z.fromTimestamp(function(e){const n=Cs(e);return new et(n.seconds,n.nanos)}(t))}function ly(t,e){return function(n){return new Ne(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function WC(t){const e=Ne.fromString(t);return be(YC(e)),e}function zm(t,e){return ly(t.databaseId,e.path)}function Zf(t,e){const n=WC(e);if(n.get(1)!==t.databaseId.projectId)throw new M(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(KC(n))}function Hm(t,e){return ly(t.databaseId,e)}function XM(t){const e=WC(t);return e.length===4?Ne.emptyPath():KC(e)}function qm(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KC(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Uw(t,e,n){return{name:zm(t,e),fields:n.value.mapValue.fields}}function JM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(be(c===void 0||typeof c=="string"),Dt.fromBase64String(c||"")):(be(c===void 0||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?T.UNKNOWN:VC(l.code);return new M(c,l.message||"")}(o);n=new HC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zf(t,r.document.name),i=or(r.document.updateTime),o=r.document.createTime?or(r.document.createTime):Z.min(),a=new qt({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new vc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zf(t,r.document),i=r.readTime?or(r.readTime):Z.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];n=new vc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zf(t,r.document),i=r.removedTargetIds||[];n=new vc([],i,s,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new BM(s,i),a=r.targetId;n=new zC(a,o)}}return n}function ZM(t,e){let n;if(e instanceof uu)n={update:Uw(t,e.key,e.value)};else if(e instanceof BC)n={delete:zm(t,e.key)};else if(e instanceof Os)n={update:Uw(t,e.key,e.data),updateMask:lL(e.fieldMask)};else{if(!(e instanceof LM))return Q();n={verify:zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof hd)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ml)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ll)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof fd)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:YM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function eL(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?or(r.updateTime):or(s);return i.isEqual(Z.min())&&(i=or(s)),new OM(i,r.transformResults||[])}(n,e))):[]}function tL(t,e){return{documents:[Hm(t,e.path)]}}function nL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Hm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return QC(Vn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:Bi(d.field),direction:iL(d.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Vm(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function rL(t){let e=XM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){be(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(d){const h=GC(d);return h instanceof Vn&&SC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(h){return new Ga(Vi(h.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ch(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new dd(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new dd(p,h)}(n.endAt)),xM(e,s,o,i,a,"F",l,c)}function sL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GC(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Vi(e.unaryFilter.field);return Ye.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Vi(e.unaryFilter.field);return Ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vi(e.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vi(e.unaryFilter.field);return Ye.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(e){return Ye.create(Vi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Vn.create(e.compositeFilter.filters.map(n=>GC(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Q()}}(e.compositeFilter.op))}(t):Q()}function iL(t){return WM[t]}function oL(t){return KM[t]}function aL(t){return GM[t]}function Bi(t){return{fieldPath:t.canonicalString()}}function Vi(t){return Tt.fromServerFormat(t.fieldPath)}function QC(t){return t instanceof Ye?function(e){if(e.op==="=="){if(Iw(e.value))return{unaryFilter:{field:Bi(e.field),op:"IS_NAN"}};if(Cw(e.value))return{unaryFilter:{field:Bi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Iw(e.value))return{unaryFilter:{field:Bi(e.field),op:"IS_NOT_NAN"}};if(Cw(e.value))return{unaryFilter:{field:Bi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(e.field),op:oL(e.op),value:e.value}}}(t):t instanceof Vn?function(e){const n=e.getFilters().map(r=>QC(r));return n.length===1?n[0]:{compositeFilter:{op:aL(e.op),filters:n}}}(t):Q()}function lL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,s,i=Z.min(),o=Z.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.fe=e}}function cL(t){const e=rL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.rn=new hL}addToCollectionParentIndex(e,n){return this.rn.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(ks.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class hL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bt(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Fo(0)}static Mn(){return new Fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.changes=new Zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ya(r.mutation,s,rn.empty(),et.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const s=Js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Aa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Mr();const o=Qa(),a=Qa();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Os)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ya(d.mutation,c,d.mutation.getFieldMask(),et.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new pL(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qa();let s=new Le((o,a)=>o-a),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||rn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||le()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=PC();d.forEach(p=>{if(!i.has(p)){const g=FC(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):A.resolve(Js());let a=-1,l=i;return o.next(c=>A.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?A.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,le())).next(d=>({batchId:a,changes:AC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let s=Aa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=Aa();return this.indexManager.getCollectionParents(e,s).next(o=>A.forEach(o,a=>{const l=function(c,d){return new lu(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,It.newInvalidDocument(c)))});let o=Aa();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Ya(c.mutation,l,rn.empty(),et.now()),Th(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return A.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:or(r.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:cL(r.bundledQuery),readTime:or(r.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.overlays=new Le(W.comparator),this.ls=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Js();return A.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const s=Js(),i=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return A.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Le((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Js(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Js(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return A.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UM(n,r));let i=this.ls.get(n);i===void 0&&(i=le(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.fs=new bt(rt.ds),this.ws=new bt(rt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new rt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new rt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new W(new Ne([])),r=new rt(n,e),s=new rt(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new W(new Ne([])),r=new rt(n,e),s=new rt(n,e+1);let i=le();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new rt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return W.comparator(e.key,n.key)||ve(e.As,n.As)}static _s(e,n){return ve(e.As,n.As)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new bt(rt.ds)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FM(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return A.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),s=new rt(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),A.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(ve);return n.forEach(s=>{const i=new rt(s,0),o=new rt(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),A.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;W.isDocumentKey(i)||(i=i.child(""));const o=new rt(new W(i),0);let a=new bt(ve);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.As)),!0)},o),A.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){be(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return A.forEach(n.mutations,s=>{const i=new rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new rt(n,0),s=this.Rs.firstAfterOrEqual(r);return A.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.Ds=e,this.docs=new Le(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Mr();const o=n.path,a=new W(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oM(iM(d),r)<=0||(s.has(d.key)||Th(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return A.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Q()}Cs(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _L(this)}getSize(e){return A.resolve(this.size)}}class _L extends fL{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.persistence=e,this.xs=new Zo(n=>ty(n),ny),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uy,this.targetCount=0,this.Ms=Fo.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),A.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Fn(n),A.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),A.waitFor(i).next(()=>s)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),A.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new EL(this),this.indexManager=new dL,this.remoteDocumentCache=function(r){return new wL(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new uL(n),this.qs=new gL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new yL(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new xL(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return A.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class xL extends lM{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.Qs=new uy,this.js=null}static zs(e){return new cy(e)}get Ws(){if(this.js)return this.js;throw Q()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),A.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Ws,r=>{const s=W.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,Z.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return A.or([()=>A.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=le(),s=le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new dy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(bw(n))return A.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Um(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=le(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Um(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,s){return bw(n)||s.isEqual(Z.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(_w()<=me.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bm(n)),this.Wi(e,o,n,sM(s,-1)))})}ji(e,n){let r=new bt(RC(e));return n.forEach((s,i)=>{Th(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return _w()<=me.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Bm(n)),this.Ui.getDocumentsMatchingQuery(e,n,ks.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Le(ve),this.Yi=new Zo(i=>ty(i),ny),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function IL(t,e,n,r){return new CL(t,e,n,r)}async function XC(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=le();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function TL(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const d=l.batch,h=d.keys();let p=A.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(a,g)).next(v=>{const w=l.docVersions.get(g);be(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function JC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function NL(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Bs.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,d.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(v,w,_){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,d)&&a.push(n.Bs.updateTargetData(i,g))});let l=Mr(),c=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(RL(i,o,e.documentUpdates).next(d=>{l=d.nr,c=d.sr})),!r.isEqual(Z.min())){const d=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return A.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=s,i))}function RL(t,e,n){let r=le(),s=le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Mr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:s}})}function bL(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AL(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,A.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Wm(t,e,n){const r=ne(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!au(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function Bw(t,e,n){const r=ne(t);let s=Z.min(),i=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const d=ne(a),h=d.Yi.get(c);return h!==void 0?A.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,c)}(r,o,$r(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:Z.min(),n?i:le())).next(a=>(PL(r,kM(e),a),{documents:a,ir:i})))}function PL(t,e,n){let r=t.Xi.get(e)||Z.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class Vw{constructor(){this.activeTargetIds=bM()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jL{constructor(){this.Hr=new Vw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Vw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function ep(){return qu===null?qu=268435456+Math.round(2147483648*Math.random()):qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class ML extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=ep(),a=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(c=>(H("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Oo("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=OL[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=ep();return new Promise((o,a)=>{const l=new K$;l.setWithCredentials(!0),l.listenOnce(H$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Jf.NO_ERROR:const d=l.getResponseJson();H(Et,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Jf.TIMEOUT:H(Et,`RPC '${e}' ${i} timed out`),a(new M(T.DEADLINE_EXCEEDED,"Request time out"));break;case Jf.HTTP_ERROR:const h=l.getStatus();if(H(Et,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(_)>=0?_:T.UNKNOWN}(g.status);a(new M(v,g.message))}else a(new M(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(T.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{H(Et,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);H(Et,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const s=ep(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=V$(),a=z$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new W$({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");H(Et,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,g=!1;const v=new $L({ro:_=>{g?H(Et,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(H(Et,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),H(Et,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},oo:()=>h.close()}),w=(_,f,m)=>{_.listen(f,y=>{try{m(y)}catch(E){setTimeout(()=>{throw E},0)}})};return w(h,Bu.EventType.OPEN,()=>{g||H(Et,`RPC '${e}' stream ${s} transport opened.`)}),w(h,Bu.EventType.CLOSE,()=>{g||(g=!0,H(Et,`RPC '${e}' stream ${s} transport closed`),v.wo())}),w(h,Bu.EventType.ERROR,_=>{g||(g=!0,Oo(Et,`RPC '${e}' stream ${s} transport errored:`,_),v.wo(new M(T.UNAVAILABLE,"The operation could not be completed")))}),w(h,Bu.EventType.MESSAGE,_=>{var f;if(!g){const m=_.data[0];be(!!m);const y=m,E=y.error||((f=y[0])===null||f===void 0?void 0:f.error);if(E){H(Et,`RPC '${e}' stream ${s} received error:`,E);const x=E.status;let I=function(P){const j=We[P];if(j!==void 0)return VC(j)}(x),N=E.message;I===void 0&&(I=T.INTERNAL,N="Unknown error status: "+x+" with message "+E.message),g=!0,v.wo(new M(I,N)),h.close()}else H(Et,`RPC '${e}' stream ${s} received:`,m),v._o(m)}}),w(a,q$.STAT_EVENT,_=>{_.stat===yw.PROXY?H(Et,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===yw.NOPROXY&&H(Et,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return new QM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ZC(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new M(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LL extends eI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=JM(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Z.min():i.readTime?or(i.readTime):Z.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=qm(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=Lm(a)?{documents:tL(s,a)}:{query:nL(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=qC(s,i.resumeToken);const l=Vm(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(Z.min())>0){o.readTime=pd(s,i.snapshotVersion.toTimestamp());const l=Vm(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=sL(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=qm(this.serializer),n.removeTarget=e,this.Wo(n)}}class FL extends eI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=eL(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.cu(r,n)}return be(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=qm(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ZM(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new M(T.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(T.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(T.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class BL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Or(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Ri(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ne(a);l.vu.add(4),await du(l),l.bu.set("Unknown"),l.vu.delete(4),await Ph(l)}(this))})}),this.bu=new BL(r,s)}}async function Ph(t){if(Ri(t))for(const e of t.Ru)await e(!0)}async function du(t){for(const e of t.Ru)await e(!1)}function tI(t,e){const n=ne(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),py(n)?fy(n):ea(n).Ko()&&hy(n,e))}function nI(t,e){const n=ne(t),r=ea(n);n.Au.delete(e),r.Ko()&&rI(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ri(n)&&n.bu.set("Unknown"))}function hy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ea(t).su(e)}function rI(t,e){t.Vu.qt(e),ea(t).iu(e)}function fy(t){t.Vu=new qM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ea(t).start(),t.bu.gu()}function py(t){return Ri(t)&&!ea(t).Uo()&&t.Au.size>0}function Ri(t){return ne(t).vu.size===0}function sI(t){t.Vu=void 0}async function zL(t){t.Au.forEach((e,n)=>{hy(t,e)})}async function HL(t,e){sI(t),py(t)?(t.bu.Iu(e),fy(t)):t.bu.set("Unknown")}async function qL(t,e,n){if(t.bu.set("Online"),e instanceof HC&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(t,r)}else if(e instanceof vc?t.Vu.Ht(e):e instanceof zC?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Z.min()))try{const r=await JC(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.Au.get(l);c&&s.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const c=s.Au.get(a);if(!c)return;s.Au.set(a,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),rI(s,a);const d=new ns(c.target,a,l,c.sequenceNumber);hy(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await md(t,r)}}async function md(t,e,n){if(!au(e))throw e;t.vu.add(1),await du(t),t.bu.set("Offline"),n||(n=()=>JC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Ph(t)})}function iI(t,e){return e().catch(n=>md(t,n,e))}async function jh(t){const e=ne(t),n=Is(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;WL(e);)try{const s=await bL(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,KL(e,s)}catch(s){await md(e,s)}oI(e)&&aI(e)}function WL(t){return Ri(t)&&t.Eu.length<10}function KL(t,e){t.Eu.push(e);const n=Is(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function oI(t){return Ri(t)&&!Is(t).Uo()&&t.Eu.length>0}function aI(t){Is(t).start()}async function GL(t){Is(t).hu()}async function QL(t){const e=Is(t);for(const n of t.Eu)e.uu(n.mutations)}async function YL(t,e,n){const r=t.Eu.shift(),s=iy.from(r,e,n);await iI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await jh(t)}async function XL(t,e){e&&Is(t).ou&&await async function(n,r){if(s=r.code,VM(s)&&s!==T.ABORTED){const i=n.Eu.shift();Is(n).Qo(),await iI(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await jh(n)}var s}(t,e),oI(t)&&aI(t)}async function Hw(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Ri(n);n.vu.add(3),await du(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Ph(n)}async function JL(t,e){const n=ne(t);e?(n.vu.delete(2),await Ph(n)):e||(n.vu.add(2),await du(n),n.bu.set("Unknown"))}function ea(t){return t.Su||(t.Su=function(e,n,r){const s=ne(e);return s.fu(),new LL(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:zL.bind(null,t),ao:HL.bind(null,t),nu:qL.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),py(t)?fy(t):t.bu.set("Unknown")):(await t.Su.stop(),sI(t))})),t.Su}function Is(t){return t.Du||(t.Du=function(e,n,r){const s=ne(e);return s.fu(),new FL(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:GL.bind(null,t),ao:XL.bind(null,t),au:QL.bind(null,t),cu:YL.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await jh(t)):(await t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new my(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(t,e){if(Or("AsyncQueue",`${e}: ${t}`),au(t))return new M(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Aa(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new _o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.Cu=new Le(W.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Q():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uo{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Uo(e,n,_o.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.Nu=void 0,this.listeners=[]}}class e4{constructor(){this.queries=new Zo(e=>NC(e),Ih),this.onlineState="Unknown",this.ku=new Set}}async function lI(t,e){const n=ne(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new ZL),s)try{i.Nu=await n.onListen(r)}catch(o){const a=gy(o,`Initialization of query '${Bm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&vy(n)}async function uI(t,e){const n=ne(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function t4(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&vy(n)}function n4(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function vy(t){t.ku.forEach(e=>{e.next()})}class cI{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.key=e}}class hI{constructor(e){this.key=e}}class r4{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=le(),this.mutatedKeys=le(),this.tc=RC(e),this.ec=new _o(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new qw,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=Th(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?v!==w&&(r.track({type:3,doc:g}),_=!0):this.rc(p,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.tc(g,l)>0||c&&this.tc(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,d)=>function(h,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return g(h)-g(p)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new Uo(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new qw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=le(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new hI(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new dI(r))}),n}hc(e){this.Yu=e.ir,this.Zu=le();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Uo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class s4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class i4{constructor(e){this.key=e,this.fc=!1}}class o4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Zo(a=>NC(a),Ih),this._c=new Map,this.mc=new Set,this.gc=new Le(W.comparator),this.yc=new Map,this.Ic=new uy,this.Tc={},this.Ec=new Map,this.Ac=Fo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function a4(t,e){const n=v4(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await AL(n.localStore,$r(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await l4(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&tI(n.remoteStore,o)}return s}async function l4(t,e,n,r,s){t.Rc=(h,p,g)=>async function(v,w,_,f){let m=w.view.sc(_);m.zi&&(m=await Bw(v.localStore,w.query,!1).then(({documents:x})=>w.view.sc(x,m)));const y=f&&f.targetChanges.get(w.targetId),E=w.view.applyChanges(m,v.isPrimaryClient,y);return Kw(v,w.targetId,E.cc),E.snapshot}(t,h,p,g);const i=await Bw(t.localStore,e,!0),o=new r4(e,i.ir),a=o.sc(i.documents),l=cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Kw(t,n,c.cc);const d=new s4(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function u4(t,e){const n=ne(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!Ih(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Wm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nI(n.remoteStore,r.targetId),Km(n,r.targetId)}).catch(ou)):(Km(n,r.targetId),await Wm(n.localStore,r.targetId,!0))}async function c4(t,e,n){const r=y4(t);try{const s=await function(i,o){const a=ne(i),l=et.now(),c=o.reduce((p,g)=>p.add(g.key),le());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Mr(),v=le();return a.Zi.getEntries(p,c).next(w=>{g=w,g.forEach((_,f)=>{f.isValidDocument()||(v=v.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,g)).next(w=>{d=w;const _=[];for(const f of o){const m=MM(f,d.get(f.key).overlayedDocument);m!=null&&_.push(new Os(f.key,m,wC(m.value.mapValue),ir.exists(!0)))}return a.mutationQueue.addMutationBatch(p,l,_,o)}).next(w=>{h=w;const _=w.applyToLocalDocumentSet(d,v);return a.documentOverlayCache.saveOverlays(p,w.batchId,_)})}).then(()=>({batchId:h.batchId,changes:AC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new Le(ve)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await hu(r,s.changes),await jh(r.remoteStore)}catch(s){const i=gy(s,"Failed to persist write");n.reject(i)}}async function fI(t,e){const n=ne(t);try{const r=await NL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?be(o.fc):s.removedDocuments.size>0&&(be(o.fc),o.fc=!1))}),await hu(n,r,e)}catch(r){await ou(r)}}function Ww(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=ne(i);a.onlineState=o;let l=!1;a.queries.forEach((c,d)=>{for(const h of d.listeners)h.Mu(o)&&(l=!0)}),l&&vy(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d4(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new Le(W.comparator);o=o.insert(i,It.newNoDocument(i,Z.min()));const a=le().add(i),l=new bh(Z.min(),new Map,new Le(ve),o,a);await fI(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),yy(r)}else await Wm(r.localStore,e,!1).then(()=>Km(r,e,n)).catch(ou)}async function h4(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await TL(n.localStore,e);mI(n,r,null),pI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,s)}catch(s){await ou(s)}}async function f4(t,e,n){const r=ne(t);try{const s=await function(i,o){const a=ne(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(be(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);mI(r,e,n),pI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hu(r,s)}catch(s){await ou(s)}}function pI(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function mI(t,e,n){const r=ne(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Km(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||gI(t,r)})}function gI(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(nI(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),yy(t))}function Kw(t,e,n){for(const r of n)r instanceof dI?(t.Ic.addReference(r.key,e),p4(t,r)):r instanceof hI?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||gI(t,r.key)):Q()}function p4(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),yy(t))}function yy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new W(Ne.fromString(e)),r=t.Ac.next();t.yc.set(r,new i4(n)),t.gc=t.gc.insert(n,r),tI(t.remoteStore,new ns($r(ry(n.path)),r,"TargetPurposeLimboResolution",Xv.ct))}}async function hu(t,e,n){const r=ne(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const d=dy.Li(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){const c=ne(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(l,h=>A.forEach(h.Fi,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>A.forEach(h.Bi,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!au(d))throw d;H("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const p=c.Ji.get(h),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);c.Ji=c.Ji.insert(h,v)}}}(r.localStore,i))}async function m4(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await XC(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new M(T.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(n,r.er)}}function g4(t,e){const n=ne(t),r=n.yc.get(e);if(r&&r.fc)return le().add(r.key);{let s=le();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function v4(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d4.bind(null,e),e.dc.nu=t4.bind(null,e.eventManager),e.dc.Pc=n4.bind(null,e.eventManager),e}function y4(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f4.bind(null,e),e}class Gw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return IL(this.persistence,new kL,e.initialUser,this.serializer)}createPersistence(e){return new SL(cy.zs,this.serializer)}createSharedClientState(e){return new jL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class w4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ww(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m4.bind(null,this.syncEngine),await JL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new e4}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new ML(s));var s;return function(i,o,a,l){return new UL(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>Ww(this.syncEngine,a,0),o=zw.D()?new zw:new DL,new VL(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,c){const d=new o4(r,s,i,o,a,l);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ne(e);H("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await du(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=gC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{H("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(H("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function np(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await XC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S4(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Hw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Hw(e.remoteStore,i)),t._onlineComponents=e}function E4(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function S4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!E4(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await np(t,new Gw)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await np(t,new Gw);return t._offlineComponents}async function yI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Qw(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Qw(t,new w4))),t._onlineComponents}function x4(t){return yI(t).then(e=>e.syncEngine)}async function wI(t){const e=await yI(t),n=e.eventManager;return n.onListen=a4.bind(null,e.syncEngine),n.onUnlisten=u4.bind(null,e.syncEngine),n}function k4(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const c=new vI({next:h=>{i.enqueueAndForget(()=>uI(s,d));const p=h.docs.has(o);!p&&h.fromCache?l.reject(new M(T.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&a&&a.source==="server"?l.reject(new M(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new cI(ry(o.path),c,{includeMetadataChanges:!0,Ku:!0});return lI(s,d)}(await wI(t),t.asyncQueue,e,n,r)),r.promise}function C4(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const c=new vI({next:h=>{i.enqueueAndForget(()=>uI(s,d)),h.fromCache&&a.source==="server"?l.reject(new M(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new cI(o,c,{includeMetadataChanges:!0,Ku:!0});return lI(s,d)}(await wI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e,n){if(!n)throw new M(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I4(t,e,n,r){if(e===!0&&r===!0)throw new M(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xw(t){if(!W.isDocumentKey(t))throw new M(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jw(t){if(W.isDocumentKey(t))throw new M(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new M(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new M(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new M(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new M(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new M(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new M(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Oh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Q$;switch(n.type){case"firstParty":return new Z$(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new M(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Yw.get(e);n&&(H("ComponentProvider","Removing Datastore"),Yw.delete(e),n.terminate())}(this),Promise.resolve()}}function T4(t,e,n,r={}){var s;const i=(t=Ts(t,Oh))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=kt.MOCK_USER;else{o=Tx(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new M(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kt(l)}t._authCredentials=new Y$(new mC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class ta{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class gs extends ta{constructor(e,n,r){super(e,n,ry(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new W(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Ue(t,e,...n){if(t=Be(t),EI("collection","path",e),t instanceof Oh){const r=Ne.fromString(e,...n);return Jw(r),new gs(t,null,r)}{if(!(t instanceof Yt||t instanceof gs))throw new M(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return Jw(r),new gs(t.firestore,null,r)}}function it(t,e,...n){if(t=Be(t),arguments.length===1&&(e=gC.A()),EI("doc","path",e),t instanceof Oh){const r=Ne.fromString(e,...n);return Xw(r),new Yt(t,null,new W(r))}{if(!(t instanceof Yt||t instanceof gs))throw new M(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return Xw(r),new Yt(t.firestore,t instanceof gs?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ZC(this,"async_queue_retry"),this.Xc=()=>{const n=tp();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Tr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!au(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Or("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=my.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&Q()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class fu extends Oh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new N4,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SI(this),this._firestoreClient.terminate()}}function R4(t,e){const n=typeof t=="object"?t:vv(),r=typeof t=="string"?t:e||"(default)",s=oh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kx("firestore");i&&T4(s,...i)}return s}function wy(t){return t._firestoreClient||SI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function SI(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,c){return new dM(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_I(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new _4(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bo(Dt.fromBase64String(e))}catch(n){throw new M(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new M(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=/^__.*__$/;class A4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class xI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class Sy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return gd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(kI(this.ca)&&b4.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class P4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}ya(e,n,r,s=!1){return new Sy({ca:e,methodName:n,ga:r,path:Tt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(t){const e=t._freezeSettings(),n=Ah(t._databaseId);return new P4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j4(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);ky("Data must be an object, but it was:",o,r);const a=CI(r,o);let l,c;if(i.merge)l=new rn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=Gm(e,h,n);if(!o.contains(p))throw new M(T.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);TI(d,p)||d.push(p)}l=new rn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new A4(new qt(a),l,c)}class Mh extends _y{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function D4(t,e,n,r){const s=t.ya(1,e,n);ky("Data must be an object, but it was:",s,r);const i=[],o=qt.empty();Ni(r,(l,c)=>{const d=Cy(e,l,n);c=Be(c);const h=s.da(d);if(c instanceof Mh)i.push(d);else{const p=pu(c,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new rn(i);return new xI(o,a,s.fieldTransforms)}function O4(t,e,n,r,s,i){const o=t.ya(1,e,n),a=[Gm(e,r,n)],l=[s];if(i.length%2!=0)throw new M(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Gm(e,i[p])),l.push(i[p+1]);const c=[],d=qt.empty();for(let p=a.length-1;p>=0;--p)if(!TI(c,a[p])){const g=a[p];let v=l[p];v=Be(v);const w=o.da(g);if(v instanceof Mh)c.push(g);else{const _=pu(v,w);_!=null&&(c.push(g),d.set(g,_))}}const h=new rn(c);return new xI(d,h,o.fieldTransforms)}function $4(t,e,n,r=!1){return pu(n,t.ya(r?4:3,e))}function pu(t,e){if(II(t=Be(t)))return ky("Unsupported field value:",e,t),CI(t,e);if(t instanceof _y)return function(n,r){if(!kI(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=pu(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Be(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AM(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=et.fromDate(n);return{timestampValue:pd(r.serializer,s)}}if(n instanceof et){const s=new et(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pd(r.serializer,s)}}if(n instanceof Ey)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Bo)return{bytesValue:qC(r.serializer,n._byteString)};if(n instanceof Yt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ly(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Dh(n)}`)}(t,e)}function CI(t,e){const n={};return vC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,s)=>{const i=pu(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function II(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Ey||t instanceof Bo||t instanceof Yt||t instanceof _y)}function ky(t,e,n){if(!II(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Dh(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Gm(t,e,n){if((e=Be(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Cy(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const M4=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(M4)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new M(T.INVALID_ARGUMENT,a+t+l)}function TI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L4 extends NI{data(){return super.data()}}function Iy(t,e){return typeof e=="string"?Cy(t,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new M(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ty{}class U4 extends Ty{}function Xt(t,e,...n){let r=[];e instanceof Ty&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof Ny).length,o=s.filter(a=>a instanceof Lh).length;if(i>1||i>0&&o>0)throw new M(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Lh extends U4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lh(e,n,r)}_apply(e){const n=this._parse(e);return RI(e._query,n),new ta(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=xy(e.firestore);return function(s,i,o,a,l,c,d){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new M(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){t_(d,c);const p=[];for(const g of d)p.push(e_(a,s,g));h={arrayValue:{values:p}}}else h=e_(a,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||t_(d,c),h=$4(o,i,d,c==="in"||c==="not-in");return Ye.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ke(t,e,n){const r=e,s=Iy("where",t);return Lh._create(s,r,n)}class Ny extends Ty{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ny(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)RI(i,a),i=Fm(i,a)}(e._query,n),new ta(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function e_(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new M(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TC(e)&&n.indexOf("/")!==-1)throw new M(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!W.isDocumentKey(r))throw new M(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kw(t,new W(r))}if(n instanceof Yt)return kw(t,n._key);throw new M(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function t_(t,e){if(!Array.isArray(t)||t.length===0)throw new M(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RI(t,e){if(e.isInequality()){const r=sy(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new M(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=IC(t);i!==null&&B4(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new M(T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new M(T.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function B4(t,e,n){if(!n.isEqual(e))throw new M(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class V4{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ni(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Ey(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);be(YC(r));const s=new Ol(r.get(1),r.get(3)),i=new W(r.popFirst(5));return s.isEqual(n)||Or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bI extends NI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yc extends bI{data(e={}){return super.data(e)}}class H4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ja(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yc(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new yc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ja(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new yc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ja(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:q4(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function q4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){t=Ts(t,Yt);const e=Ts(t.firestore,fu);return k4(wy(e),t._key).then(n=>W4(e,t,n))}class AI extends V4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function At(t){t=Ts(t,ta);const e=Ts(t.firestore,fu),n=wy(e),r=new AI(e);return F4(t._query),C4(n,t._query).then(s=>new H4(e,r,t,s))}function Mn(t,e,n,...r){t=Ts(t,Yt);const s=Ts(t.firestore,fu),i=xy(s);let o;return o=typeof(e=Be(e))=="string"||e instanceof $h?O4(i,"updateDoc",t._key,e,n,r):D4(i,"updateDoc",t._key,e),PI(s,[o.toMutation(t._key,ir.exists(!0))])}function Vo(t,e){const n=Ts(t.firestore,fu),r=it(t),s=z4(t.converter,e);return PI(n,[j4(xy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function PI(t,e){return function(n,r){const s=new Tr;return n.asyncQueue.enqueueAndForget(async()=>c4(await x4(n),r,s)),s.promise}(wy(t),e)}function W4(t,e,n){const r=n.docs.get(e._key),s=new AI(t);return new bI(t,s,e._key,r,new ja(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Jo=n})(ki),hi(new xs("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new fu(new X$(n.getProvider("auth-internal")),new tM(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new M(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),nr(ww,"3.12.1",t),nr(ww,"3.12.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebasestorage.googleapis.com",DI="storageBucket",K4=2*60*1e3,G4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He extends lr{constructor(e,n,r=0){super(rp(e),`Firebase Storage: ${n} (${rp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function rp(t){return"storage/"+t}function Ry(){const t="An unknown error occurred, please check the error payload for server response.";return new He(ze.UNKNOWN,t)}function Q4(t){return new He(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Y4(t){return new He(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function X4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new He(ze.UNAUTHENTICATED,t)}function J4(){return new He(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z4(t){return new He(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e3(){return new He(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t3(){return new He(ze.CANCELED,"User canceled the upload/download.")}function n3(t){return new He(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function r3(t){return new He(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s3(){return new He(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DI+"' property when initializing the app?")}function i3(){return new He(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o3(){return new He(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function a3(t){return new He(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qm(t){return new He(ze.INVALID_ARGUMENT,t)}function OI(){return new He(ze.APP_DELETED,"The Firebase app was deleted.")}function l3(t){return new He(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xa(t,e){return new He(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function va(t){throw new He(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=sn.makeFromUrl(e,n)}catch{return new sn(e,"")}if(r.path==="")return r;throw r3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),v={bucket:1,path:3},w=n===jI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",f=new RegExp(`^https?://${w}/${s}/${_}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:g,indices:v,postModify:c},{regex:f,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<y.length;E++){const x=y[E],I=x.regex.exec(e);if(I){const N=I[x.indices.bucket];let P=I[x.indices.path];P||(P=""),r=new sn(N,P),x.postModify(r);break}}if(r==null)throw n3(e);return r}}class u3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(..._){c||(c=!0,e.apply(null,_))}function h(_){s=setTimeout(()=>{s=null,t(g,l())},_)}function p(){i&&clearTimeout(i)}function g(_,...f){if(c){p();return}if(_){p(),d.call(null,_,...f);return}if(l()||o){p(),d.call(null,_,...f);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let v=!1;function w(_){v||(v=!0,p(),!c&&(s!==null?(_||(a=2),clearTimeout(s),h(0)):_||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function d3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){return t!==void 0}function f3(t){return typeof t=="object"&&!Array.isArray(t)}function by(t){return typeof t=="string"||t instanceof String}function n_(t){return Ay()&&t instanceof Blob}function Ay(){return typeof Blob<"u"&&!fP()}function r_(t,e,n,r){if(r<e)throw Qm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $I(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ri||(ri={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,s,i,o,a,l,c,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ri.NO_ERROR,l=i.getStatus();if(!a||p3(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ri.ABORT;r(!1,new Wu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Wu(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());h3(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Ry();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?OI():t3();o(l)}else{const l=e3();o(l)}};this.canceled_?n(!1,new Wu(!1,null,!0)):this.backoffId_=c3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function g3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function v3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _3(t,e,n,r,s,i,o=!0){const a=$I(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return y3(c,e),g3(c,n),v3(c,i),w3(c,r),new m3(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function S3(...t){const e=E3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ay())return new Blob(t);throw new He(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function x3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){if(typeof atob>"u")throw a3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sp{constructor(e,n){this.data=e,this.contentType=n||null}}function C3(t,e){switch(t){case Jn.RAW:return new sp(MI(e));case Jn.BASE64:case Jn.BASE64URL:return new sp(LI(t,e));case Jn.DATA_URL:return new sp(T3(e),N3(e))}throw Ry()}function MI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function I3(t){let e;try{e=decodeURIComponent(t)}catch{throw Xa(Jn.DATA_URL,"Malformed data URL.")}return MI(e)}function LI(t,e){switch(t){case Jn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Xa(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Jn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Xa(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=k3(e)}catch(s){throw s.message.includes("polyfill")?s:Xa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class FI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xa(Jn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=R3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function T3(t){const e=new FI(t);return e.base64?LI(Jn.BASE64,e.rest):I3(e.rest)}function N3(t){return new FI(t).contentType}function R3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){let r=0,s="";n_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(n_(this.data_)){const r=this.data_,s=x3(r,e,n);return s===null?null:new Jr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Jr(r,!0)}}static getBlob(...e){if(Ay()){const n=e.map(r=>r instanceof Jr?r.data_:r);return new Jr(S3.apply(null,n))}else{const n=e.map(o=>by(o)?C3(Jn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Jr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t){let e;try{e=JSON.parse(t)}catch{return null}return f3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function BI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e){return e}class Ot{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||P3}}let Ku=null;function j3(t){return!by(t)||t.length<2?t:BI(t)}function VI(){if(Ku)return Ku;const t=[];t.push(new Ot("bucket")),t.push(new Ot("generation")),t.push(new Ot("metageneration")),t.push(new Ot("name","fullPath",!0));function e(i,o){return j3(o)}const n=new Ot("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ot("size");return s.xform=r,t.push(s),t.push(new Ot("timeCreated")),t.push(new Ot("updated")),t.push(new Ot("md5Hash",null,!0)),t.push(new Ot("cacheControl",null,!0)),t.push(new Ot("contentDisposition",null,!0)),t.push(new Ot("contentEncoding",null,!0)),t.push(new Ot("contentLanguage",null,!0)),t.push(new Ot("contentType",null,!0)),t.push(new Ot("metadata","customMetadata",!0)),Ku=t,Ku}function D3(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new sn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function O3(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return D3(r,t),r}function zI(t,e,n){const r=UI(e);return r===null?null:O3(t,r,n)}function $3(t,e,n,r){const s=UI(e);if(s===null||!by(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),g=Py(p,n,r),v=$I({alt:"media",token:c});return g+v})[0]}function M3(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class HI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){if(!t)throw Ry()}function L3(t,e){function n(r,s){const i=zI(t,s,e);return qI(i!==null),i}return n}function F3(t,e){function n(r,s){const i=zI(t,s,e);return qI(i!==null),$3(i,s,t.host,t._protocol)}return n}function WI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=J4():s=X4():n.getStatus()===402?s=Y4(t.bucket):n.getStatus()===403?s=Z4(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function U3(t){const e=WI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Q4(t.path)),i.serverResponse=s.serverResponse,i}return n}function B3(t,e,n){const r=e.fullServerUrl(),s=Py(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new HI(s,i,F3(t,n),o);return a.errorHandler=U3(e),a}function V3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function z3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=V3(null,e)),r}function H3(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let E=0;E<2;E++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=z3(e,r,s),d=M3(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",g=Jr.getBlob(h,r,p);if(g===null)throw i3();const v={name:c.fullPath},w=Py(i,t.host,t._protocol),_="POST",f=t.maxUploadRetryTime,m=new HI(w,_,L3(t,n),f);return m.urlParams=v,m.headers=o,m.body=g.uploadData(),m.errorHandler=WI(e),m}class q3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ri.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ri.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ri.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw va("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class W3 extends q3{initXhr(){this.xhr_.responseType="text"}}function KI(){return new W3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this._service=e,n instanceof sn?this._location=n:this._location=sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yi(e,n)}get root(){const e=new sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BI(this._location.path)}get storage(){return this._service}get parent(){const e=b3(this._location.path);if(e===null)return null;const n=new sn(this._location.bucket,e);return new yi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l3(e)}}function K3(t,e,n){t._throwIfRoot("uploadBytes");const r=H3(t.storage,t._location,VI(),new Jr(e,!0),n);return t.storage.makeRequestWithTokens(r,KI).then(s=>({metadata:s,ref:t}))}function G3(t){t._throwIfRoot("getDownloadURL");const e=B3(t.storage,t._location,VI());return t.storage.makeRequestWithTokens(e,KI).then(n=>{if(n===null)throw o3();return n})}function Q3(t,e){const n=A3(t._location.path,e),r=new sn(t._location.bucket,n);return new yi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){return/^[A-Za-z]+:\/\//.test(t)}function X3(t,e){return new yi(t,e)}function GI(t,e){if(t instanceof jy){const n=t;if(n._bucket==null)throw s3();const r=new yi(n,n._bucket);return e!=null?GI(r,e):r}else return e!==void 0?Q3(t,e):t}function J3(t,e){if(e&&Y3(e)){if(t instanceof jy)return X3(t,e);throw Qm("To use ref(service, url), the first argument must be a Storage instance.")}else return GI(t,e)}function s_(t,e){const n=e==null?void 0:e[DI];return n==null?null:sn.makeFromBucketSpec(n,t)}function Z3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Tx(s,t.app.options.projectId))}class jy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=jI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K4,this._maxUploadRetryTime=G4,this._requests=new Set,s!=null?this._bucket=sn.makeFromBucketSpec(s,this._host):this._bucket=s_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sn.makeFromBucketSpec(this._url,e):this._bucket=s_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){r_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){r_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new u3(OI());{const o=_3(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const i_="@firebase/storage",o_="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="storage";function YI(t,e,n){return t=Be(t),K3(t,e,n)}function XI(t){return t=Be(t),G3(t)}function JI(t,e){return t=Be(t),J3(t,e)}function eF(t=vv(),e){t=Be(t);const r=oh(t,QI).getImmediate({identifier:e}),s=kx("storage");return s&&tF(r,...s),r}function tF(t,e,n,r={}){Z3(t,e,n,r)}function nF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new jy(n,r,s,e,ki)}function rF(){hi(new xs(QI,nF,"PUBLIC").setMultipleInstances(!0)),nr(i_,o_,""),nr(i_,o_,"esm2017")}rF();const sF={apiKey:{}.VITE_FIREBASE_apikey,authDomain:{}.VITE_FIREBASE_authDomain,projectId:{}.VITE_FIREBASE_projectId,storageBucket:{}.VITE_FIREBASE_storageBucket,messagingSenderId:{}.VITE_FIREBASE_messagingSenderId,appId:{}.VITE_FIREBASE_appId,measurementId:{}.VITE_FIREBASE_measurementId},Dy=bx(sF),Oi=BO(Dy),ae=R4(Dy),ZI=eF(Dy),eT=sg.createContext(),iF=({children:t})=>{const e=As(),[n,r]=S.useState(),[s,i]=S.useState(!0),o=async(p,g)=>kD(Oi,p,g),a=(p,g)=>CD(Oi,p,g),l=async(p,g)=>{try{if(p){g("/user");const v=it(ae,"users",p);await Mn(v,{isLoggedIn:!1}),e(S2())}}catch(v){console.error(v)}return RD(Oi)},c=p=>xD(Oi,p),d=()=>{const p=new yr;return YD(Oi,p)};S.useEffect(()=>{const p=ND(Oi,async g=>{try{if(g){const v=Ue(ae,"users"),w=Xt(v,ke("uid","==",g.uid)),_=await At(w);if(_.docs.length!=0){const E=_.docs.map(x=>({...x.data(),id:x.id}));e(um(E[0]))}const f=Ue(ae,"enrollments"),m=Xt(f,ke("uid","==",g.uid)),y=await At(m);if(y.docs.length!=0){const E=y.docs.map(x=>({...x.data(),id:x.id}));e(nx(E))}}}catch(v){console.error(v)}r(g)});return i(!1),p},[]);const h={currentUser:n,signUp:o,signIn:a,logout:l,sendPasswordReset:c,signInWithGoogle:d};return u.jsx(eT.Provider,{value:h,children:!s&&t})},zn=()=>S.useContext(eT),Gu=({children:t})=>{const{currentUser:e}=zn();return e?t:u.jsx(vx,{to:"/login"})},oF="_navbar_10b9j_1",aF="_homeBar_10b9j_12",lF="_navLogo_10b9j_18",uF="_toggleBar_10b9j_23",cF="_appLogo_10b9j_50",dF="_navContent_10b9j_54",hF="_dropdownIcon_10b9j_79",fF="_backdrop_10b9j_88",pF="_dropdown_10b9j_79",zt={navbar:oF,homeBar:aF,navLogo:lF,toggleBar:uF,appLogo:cF,navContent:dF,dropdownIcon:hF,backdrop:fF,dropdown:pF},mF=t=>{const e=fn(),[n,r]=S.useState(!1),s=()=>{t.toggleSidebar(i=>!i)};return u.jsxs("nav",{className:zt.navbar,children:[u.jsx("div",{className:zt.toggleBar,onClick:s,children:u.jsx("i",{className:"fa-solid fa-bars"})}),u.jsx("div",{className:zt.navLogo,children:u.jsx(fs,{to:"/",children:u.jsx("img",{src:"/assets/AppLogo.png"})})}),n&&u.jsx("div",{className:zt.backdrop,onClick:()=>{r(!1)}}),u.jsxs("div",{className:zt.navContent+` ${n?zt.dropdown:""}`,children:[u.jsx("div",{className:zt.dropdownIcon,onClick:()=>{r(i=>!i)},children:n?u.jsx("i",{className:"fa-solid fa-x"}):u.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})}),u.jsxs("ul",{children:[u.jsxs("li",{onClick:()=>{e("/")},children:[u.jsx("i",{className:"fa-solid fa-house"})," ",u.jsx("span",{children:n&&"Home"})]}),u.jsxs("li",{children:[u.jsx("i",{className:"fa-solid fa-bell"})," ",u.jsx("span",{children:n&&"Notifications"})]}),u.jsxs("li",{onClick:()=>{e("/profile")},children:[u.jsx("i",{className:"fa-solid fa-user"})," ",u.jsx("span",{children:n&&"Profile"})]})]})]})]})},gF=t=>{const[e,n]=S.useState(!1),r=()=>{n(s=>!s)};return u.jsxs("div",{className:t.classes.courseContent,children:[u.jsxs("button",{onClick:r,style:{justifyContent:"flex-end",gap:"4rem"},children:[t.title,u.jsx("div",{className:e?t.classes.clicked:"",children:u.jsx("i",{className:"fa-solid fa-angle-down"})})]}),u.jsx("div",{className:e?t.classes.dropdown:t.classes.displayNone,children:t.tests.map(s=>u.jsxs(Ha,{to:`/user/test?id=${s.id}&courseId=${t.courseId}&user=${t.status}&role=${t.role}`,children:[u.jsx("i",{className:"fa-solid fa-circle"})," ",s.title]},s.id))})]})},vF=t=>{const[e,n]=S.useState(!1),r=()=>{n(i=>!i)};let s;return t.course.phases?s=t.course.phases.map((i,o)=>u.jsx(gF,{title:i.title,tests:i.tests,classes:t.classes,courseId:t.course.id,status:t.course.status,role:t.role},o)):s=t.course.tests.map(i=>{var o;return u.jsxs(Ha,{to:`/user/test?id=${i.id}&courseId=${t.course.id}&user=${(o=t.course)==null?void 0:o.status}&role=${t.role}`,children:[u.jsx("i",{className:"fa-solid fa-circle"})," ",i.title]},i.id)}),u.jsxs("li",{className:t.classes.course,children:[u.jsx("div",{className:t.classes.courseName,children:t.course.title}),u.jsxs("div",{className:t.classes.courseContent,children:[u.jsxs("button",{onClick:r,children:[u.jsx("i",{className:"fa-solid fa-tv"})," Online Exams",u.jsx("div",{className:e?t.classes.clicked:"",children:u.jsx("i",{className:"fa-solid fa-angle-down"})})]}),u.jsx("div",{className:e?t.classes.dropdown:t.classes.displayNone,children:s})]})]})},yF="_navigation_ln785_1",wF="_util_ln785_17",_F="_courseContent_ln785_17",EF="_emptyHeight_ln785_37",SF="_course_ln785_17",xF="_courseName_ln785_50",kF="_clicked_ln785_69",CF="_displayNone_ln785_74",IF="_dropdown_ln785_78",TF="_fadeIn_ln785_1",Ls={navigation:yF,util:wF,courseContent:_F,emptyHeight:EF,course:SF,courseName:xF,clicked:kF,displayNone:CF,dropdown:IF,fadeIn:TF},NF=()=>{const t=at(s=>s.user.myCourses),[e,n]=S.useState(),r=As();return S.useEffect(()=>{const s=[],i=a=>{const l=new Date(a.limit).getTime();return new Date().getTime()-l};(async()=>{for(let a in t){const l=it(ae,"courses",t[a].courseId);try{const c=await vs(l);if(c.exists()){const d=!(i(t[a])>0);s.push({...c.data(),id:c.id,status:d})}}catch(c){console.log(c)}}n([...s]),r(x2([...s]))})()},[]),[e,n]},RF=()=>{const[t,e]=NF(),n=fn(),r=at(i=>i.user.data),{logout:s}=zn();return u.jsxs("ul",{className:Ls.navigation,children:[u.jsx("li",{className:Ls.util,children:u.jsxs(Ha,{to:"/user",end:!0,style:({isActive:i})=>({backgroundColor:i?"white":"",color:i?"black":""}),children:[u.jsx("i",{className:"fa-solid fa-house"}),"Dashboard"]})}),u.jsx("li",{className:Ls.util,children:u.jsxs(Ha,{to:"/user/live",end:!0,style:({isActive:i})=>({backgroundColor:i?"white":"",color:i?"black":""}),children:[u.jsx("i",{className:"fa-solid fa-wifi"})," Live"]})}),t==null?void 0:t.map((i,o)=>u.jsx(vF,{course:i,classes:Ls,role:r.role},o)),u.jsx("li",{className:Ls.util,children:u.jsxs(Ha,{to:"/user/feedback",end:!0,style:({isActive:i})=>({backgroundColor:i?"white":"",color:i?"black":""}),children:[u.jsx("i",{className:"fa-solid fa-comment"})," Feedback"]})}),u.jsx("li",{style:{cursor:"pointer"},className:Ls.util,onClick:()=>{s(r==null?void 0:r.id,n)},children:u.jsxs("a",{children:[u.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket"})," Logout"]})}),u.jsx("div",{className:Ls.emptyHeight})]})},bF="_header_x8z0p_1",AF="_content_x8z0p_7",PF="_sidebar_x8z0p_11",jF="_noSidebar_x8z0p_11",DF="_contentDefault_x8z0p_15",OF="_contentPage_x8z0p_19",$F="_contentPageNosidebar_x8z0p_19",MF="_footer_x8z0p_23",hr={header:bF,content:AF,sidebar:PF,noSidebar:jF,contentDefault:DF,contentPage:OF,contentPageNosidebar:$F,footer:MF},LF=()=>{const{currentUser:t,logout:e}=zn(),[n,r]=S.useState(!1),s=hr.sidebarDefault+" "+(n?hr.noSidebar:hr.sidebar),i=hr.contentDefault+" "+(n?hr.contentPageNosidebar:hr.contentPage);return S.useEffect(()=>{t.uid||e()},[t]),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:hr.header,children:u.jsx(mF,{toggleSidebar:r})}),u.jsxs("div",{className:hr.content,children:[u.jsx("div",{className:s,children:u.jsx(RF,{})}),u.jsxs("div",{className:i,children:[u.jsx(yx,{}),u.jsx("div",{className:hr.footer,children:"@RedMoon Solutions | Contact: redmoon.sol18@gmail.com"})]})]})]})},FF="_container_gk9sk_1",UF="_header_gk9sk_11",BF="_card_gk9sk_16",VF="_body_gk9sk_31",zF="_options_gk9sk_35",HF="_create_gk9sk_43",qF="_backButton_gk9sk_58",WF="_validation_gk9sk_70",KF="_inputs_gk9sk_76",GF="_group_gk9sk_83",QF="_groupLabel_gk9sk_104",YF="_forgot_gk9sk_114",XF="_signIn_gk9sk_127",JF="_googleSignIn_gk9sk_177",ZF="_loginContent_gk9sk_197",J={container:FF,header:UF,card:BF,body:VF,options:zF,create:HF,backButton:qF,validation:WF,inputs:KF,group:GF,groupLabel:QF,forgot:YF,signIn:XF,googleSignIn:JF,loginContent:ZF},e9=({setState:t})=>u.jsxs("div",{className:J.container,children:[u.jsx("div",{className:J.header,children:"Welcome Back!"}),u.jsxs("div",{className:J.options,children:[u.jsxs("div",{className:J.card,onClick:()=>{t({isClassroom:!0})},children:[u.jsx("div",{className:J.header,children:u.jsx("img",{src:"./assets/classroom.webp"})}),u.jsx("div",{className:J.body,children:"Classroom Student"})]}),u.jsxs("div",{className:J.card,onClick:()=>{t({isOnline:!0})},children:[u.jsx("div",{className:J.header,children:u.jsx("img",{src:"./assets/online.png"})}),u.jsx("div",{className:J.body,children:"Online Student"})]})]}),u.jsxs("div",{className:J.create,children:["Don't have an account? ",u.jsx(fs,{to:"/signup",children:"Sign Up"})]})]});var Oy={},Fh={},tT={exports:{}},t9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n9=t9,r9=n9;function nT(){}function rT(){}rT.resetWarningCache=nT;var s9=function(){function t(r,s,i,o,a,l){if(l!==r9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rT,resetWarningCache:nT};return n.PropTypes=n,n};tT.exports=s9();var sT=tT.exports,Uh={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.disabledIconStyle=ft.disabledStyle=ft.hoverStyle=ft.svgStyle=ft.iconStyle=ft.lightStyle=ft.darkStyle=void 0;function a_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(n),!0).forEach(function(r){i9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oT={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"},o9=iT({backgroundColor:"#4285f4",color:"#fff"},oT);ft.darkStyle=o9;var a9=iT({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},oT);ft.lightStyle=a9;var l9={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"};ft.iconStyle=l9;var u9={width:"48px",height:"48px",display:"block"};ft.svgStyle=u9;var c9={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"};ft.hoverStyle=c9;var d9={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"};ft.disabledStyle=d9;var h9={backgroundColor:"transparent"};ft.disabledIconStyle=h9;Object.defineProperty(Uh,"__esModule",{value:!0});Uh.GoogleIcon=void 0;var D=aT(S),l_=aT(sT),Eo=ft;function aT(t){return t&&t.__esModule?t:{default:t}}function u_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function f9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u_(Object(n),!0).forEach(function(r){p9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m9=D.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:Eo.svgStyle},D.default.createElement("defs",null,D.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},D.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),D.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),D.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),D.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),D.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),D.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),D.default.createElement("feMerge",null,D.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),D.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),D.default.createElement("feMergeNode",{in:"SourceGraphic"}))),D.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),D.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),D.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},D.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),D.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},D.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},D.default.createElement("g",{id:"button-bg"},D.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}))),D.default.createElement("g",{id:"button-bg-copy"},D.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"})),D.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},D.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),D.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),D.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),D.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),D.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),D.default.createElement("g",{id:"handles_square"})))),g9=D.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:Eo.svgStyle},D.default.createElement("defs",null,D.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},D.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),D.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),D.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),D.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),D.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),D.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),D.default.createElement("feMerge",null,D.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),D.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),D.default.createElement("feMergeNode",{in:"SourceGraphic"}))),D.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),D.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},D.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),D.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},D.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},D.default.createElement("g",{id:"button-bg"},D.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}))),D.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},D.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),D.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),D.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),D.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),D.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),D.default.createElement("g",{id:"handles_square"})))),v9=D.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:Eo.svgStyle},D.default.createElement("defs",null,D.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),D.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},D.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),D.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},D.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},D.default.createElement("g",{id:"button-bg"},D.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}))),D.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),D.default.createElement("g",{id:"handles_square"})))),$y=function(e){var n=e.disabled,r=e.type;return D.default.createElement("div",{style:n?f9({},Eo.iconStyle,{},Eo.disabledIconStyle):Eo.iconStyle},n?v9:r==="dark"?m9:g9)};Uh.GoogleIcon=$y;$y.propTypes={disabled:l_.default.bool,type:l_.default.oneOf(["light","dark"])};$y.defaultProps={type:"dark"};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.default=void 0;var Qu=_9(S),$i=w9(sT),y9=Uh,Yu=ft;function w9(t){return t&&t.__esModule?t:{default:t}}function lT(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return lT=function(){return t},t}function _9(t){if(t&&t.__esModule)return t;if(t===null||Ja(t)!=="object"&&typeof t!="function")return{default:t};var e=lT();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var i=r?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}function Ja(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(n){return typeof n}:Ja=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ja(t)}function Ym(){return Ym=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)}function E9(t,e){if(t==null)return{};var n=S9(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S9(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(n),!0).forEach(function(r){Zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k9(t,e,n){return e&&d_(t.prototype,e),n&&d_(t,n),t}function C9(t){return function(){var e=vd(t),n;if(T9()){var r=vd(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return I9(this,n)}}function I9(t,e){return e&&(Ja(e)==="object"||typeof e=="function")?e:zi(t)}function zi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(t)}function N9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xm(t,e)}function Xm(t,e){return Xm=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Xm(t,e)}function Zr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var My=function(t){N9(n,t);var e=C9(n);function n(){var r;x9(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),Zr(zi(r),"state",{hovered:!1}),Zr(zi(r),"getStyle",function(a){var l=r.props.type==="dark"?Yu.darkStyle:Yu.lightStyle;return r.state.hovered?ip({},l,{},Yu.hoverStyle,{},a):r.props.disabled?ip({},l,{},Yu.disabledStyle,{},a):ip({},l,{},a)}),Zr(zi(r),"mouseOver",function(){r.props.disabled||r.setState({hovered:!0})}),Zr(zi(r),"mouseOut",function(){r.props.disabled||r.setState({hovered:!1})}),Zr(zi(r),"click",function(a){r.props.disabled||r.props.onClick(a)}),r}return k9(n,[{key:"render",value:function(){var s=this.props,i=s.label,o=s.style,a=E9(s,["label","style"]);return Qu.default.createElement("div",Ym({},a,{role:"button",onClick:this.click,style:this.getStyle(o),onMouseOver:this.mouseOver,onMouseOut:this.mouseOut}),Qu.default.createElement(y9.GoogleIcon,this.props),Qu.default.createElement("span",null,i))}}]),n}(Qu.PureComponent);Fh.default=My;Zr(My,"propTypes",{label:$i.default.string,disabled:$i.default.bool,tabIndex:$i.default.number,onClick:$i.default.func,type:$i.default.oneOf(["light","dark"]),style:$i.default.object});Zr(My,"defaultProps",{label:"Sign in with Google",disabled:!1,type:"dark",tabIndex:0,onClick:function(){}});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GoogleButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}});var e=n(Fh);function n(r){return r&&r.__esModule?r:{default:r}}})(Oy);const R9=({setState:t,signIn:e,signInWithGoogle:n,logout:r})=>{const[s,i]=S.useState([!1,{}]),[o,a]=S.useState(!1),l=Ue(ae,"users"),c=S.useRef(),d=S.useRef(),h=async()=>{const g=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,v=c.current.value.trim();if(v===""){i([!0,"Please enter Email"]);return}else if(g.test(v)){if(d.current.value===""){i([!0,"Please enter password!"]);return}}else{i([!0,"Please enter a valid Email!"]);return}i([!1,{}]),a(!0);try{const w=await e(v,d.current.value),_=Xt(l,ke("uid","==",w.user.uid)),f=await At(_);if(f.docs.length!=0){const m=f.docs.map(y=>({...y.data(),id:y.id}));if(m[0].role=="online"||m[0].isLoggedIn)r(),m[0].role=="online"?alert("Please select the correct Login Method!"):alert("Already logged in through another device! Make sure to logout of other devices.");else{const y=it(ae,"users",m[0].id);await Mn(y,{isLoggedIn:!0})}}a(!1)}catch{i([!0,"Please check your Email and Password credentials again!"]),a(!1);try{r()}catch{}}},p=async()=>{a(!0);try{const g=await n(),v=Xt(l,ke("uid","==",g.user.uid)),w=await At(v);if(w.docs.length!=0){const _=w.docs.map(f=>({...f.data(),id:f.id}));if(_[0].role=="online"||_[0].isLoggedIn)r(),_[0].role=="online"?alert("Please select the correct Login Method!"):alert("Already logged in through another device! Make sure to logout of other devices.");else{const f=it(ae,"users",_[0].id);await Mn(f,{isLoggedIn:!0})}}else alert("You are not registered With CLassroom Students Program!"),r();a(!1)}catch(g){a(!1),console.error(g)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:J.backButton,onClick:()=>{t({isMain:!0})},children:[u.jsx("i",{className:"fa-solid fa-chevron-left"})," Back"]}),u.jsxs("div",{className:`${J.container} ${J.loginContent}`,children:[u.jsx("div",{className:J.header,children:"Classroom Login"}),u.jsx("div",{className:J.validation,children:s[0]?s[1]:u.jsx(u.Fragment,{children:""})}),u.jsxs("div",{className:J.inputs,children:[u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"text",placeholder:" ",ref:c}),u.jsx("label",{className:J.groupLabel,children:"Email"})]}),u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"password",placeholder:" ",ref:d}),u.jsx("label",{className:J.groupLabel,children:"Password"})]}),u.jsx("div",{className:J.forgot,children:u.jsx("span",{onClick:()=>{t({isForgot:!0})},children:"Forgot Password?"})}),u.jsx("div",{className:J.signIn,children:u.jsx("button",{onClick:h,disabled:o,children:"Sign In"})}),u.jsxs("div",{className:J.googleSignIn,children:["Other Login",u.jsx(Oy.GoogleButton,{disabled:o,label:"Sign In",onClick:()=>{p()}})]})]})]})]})},b9=({setState:t,signIn:e,nav:n,logout:r,signInWithGoogle:s})=>{const[i,o]=S.useState([!1,{}]),[a,l]=S.useState(!1),c=Ue(ae,"users"),d=S.useRef(),h=S.useRef(),p=async()=>{const v=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,w=d.current.value.trim();if(w===""){o([!0,"Please enter Email"]);return}else if(v.test(w)){if(h.current.value===""){o([!0,"Please enter password!"]);return}}else{o([!0,"Please enter a valid Email!"]);return}o([!1,{}]),l(!0);try{const _=await e(w,h.current.value),f=Xt(c,ke("uid","==",_.user.uid)),m=await At(f);if(m.docs.length!=0){const y=m.docs.map(E=>({...E.data(),id:E.id}));if(y[0].role=="classroom"||y[0].isLoggedIn)r(),y[0].role=="classroom"?alert("Please select the correct Login Method!"):alert("Already logged in through another device! Make sure to logout of other devices.");else{const E=it(ae,"users",y[0].id);await Mn(E,{isLoggedIn:!0})}}l(!1)}catch{o([!0,"Please check your Email and Password credentials again!"]),l(!1);try{r()}catch{}}},g=async()=>{l(!0);try{const v=await s(),w=Xt(c,ke("uid","==",v.user.uid)),_=await At(w);if(_.docs.length!=0){const f=_.docs.map(m=>({...m.data(),id:m.id}));if(f[0].role=="classroom"||f[0].isLoggedIn)r(),f[0].role=="classroom"?alert("Please select the correct Login Method!"):alert("Already logged in through another device! Make sure to logout of other devices.");else{const m=it(ae,"users",f[0].id);await Mn(m,{isLoggedIn:!0})}}else{const f=v.user;await Vo(c,{uid:f.uid,email:f.email,name:f.displayName,photo:f.photoURL,mobile:f.phoneNumber,role:"online",isLoggedIn:!1})}l(!1)}catch(v){l(!1),console.error(v)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:J.backButton,onClick:()=>{t({isMain:!0})},children:[u.jsx("i",{className:"fa-solid fa-chevron-left"})," Back"]}),u.jsxs("div",{className:`${J.container} ${J.loginContent}`,children:[u.jsx("div",{className:J.header,children:"Online Student Login"}),u.jsx("div",{className:J.validation,children:i[0]?i[1]:u.jsx(u.Fragment,{children:""})}),u.jsxs("div",{className:J.inputs,children:[u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"text",placeholder:" ",ref:d}),u.jsx("label",{className:J.groupLabel,children:"Email"})]}),u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"password",placeholder:" ",ref:h}),u.jsx("label",{className:J.groupLabel,children:"Password"})]}),u.jsx("div",{className:J.forgot,children:u.jsx("span",{onClick:()=>{t({isForgot:!0})},children:"Forgot Password?"})}),u.jsxs("div",{className:J.signIn,children:[u.jsx("button",{onClick:p,disabled:a,children:"Sign In"}),"Or",u.jsx("span",{onClick:()=>{n("/signup")},children:"create new account"})]}),u.jsxs("div",{className:J.googleSignIn,children:["Other Login",u.jsx(Oy.GoogleButton,{disabled:a,label:"Sign In / Sign Up",onClick:()=>{g()}})]})]})]})]})},A9=({change:t,setState:e})=>{const n=S.useRef(),[r,s]=S.useState([!1,{}]),[i,o]=S.useState(!1),a=()=>{const l=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,c=n.current.value.trim();if(c===""){s([!0,"Please enter Email"]);return}else if(!l.test(c)){s([!0,"Please enter a valid Email!"]);return}o(!0);try{t(c),o(!1),s([!1,{}]),alert("Email sent!")}catch(d){s([!0,"Please enter a valid email or Try again!"]),console.error(d)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:J.backButton,onClick:()=>{e({isMain:!0})},children:[u.jsx("i",{className:"fa-solid fa-chevron-left"})," Back"]}),u.jsxs("div",{className:J.container,children:[u.jsx("div",{className:J.header,children:u.jsx("span",{children:"Send password change link to your Mail!"})}),u.jsxs("div",{className:J.inputs,children:[u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"text",placeholder:" ",ref:n}),u.jsx("label",{className:J.groupLabel,children:"Email"})]}),u.jsx("div",{className:J.signIn,children:u.jsx("button",{disabled:i,onClick:a,children:"Send"})}),u.jsx("div",{className:J.validation,children:r[0]?r[1]:u.jsx(u.Fragment,{children:""})})]})]})]})},P9="_page_yojmr_1",j9="_container_yojmr_11",D9="_svg_yojmr_26",O9="_login_yojmr_30",Xu={page:P9,container:j9,svg:D9,login:O9},$9=()=>{const t=fn(),{currentUser:e,signIn:n,sendPasswordReset:r,logout:s,signInWithGoogle:i}=zn();S.useEffect(()=>{e&&t("/user")},[e]);const[o,a]=S.useState({isMain:!0});let l;return o.isMain?l=u.jsx(e9,{setState:a}):o.isClassroom?l=u.jsx(R9,{setState:a,signIn:n,logout:s,signInWithGoogle:i}):o.isOnline?l=u.jsx(b9,{setState:a,signIn:n,nav:t,logout:s,signInWithGoogle:i}):o.isForgot&&(l=u.jsx(A9,{setState:a,change:r})),u.jsx(u.Fragment,{children:u.jsx("div",{className:Xu.page,children:u.jsxs("div",{className:Xu.container,children:[u.jsx("div",{className:Xu.svg,children:u.jsx("img",{src:"./assets/content-team-animate.svg"})}),u.jsx("div",{className:Xu.login,children:l})]})})})},M9="_page_a54m7_1",L9="_svg_a54m7_17",F9="_container_a54m7_21",U9="_inputFields_a54m7_39",B9="_inputs_a54m7_44",V9="_row_a54m7_63",z9="_group_a54m7_71",H9="_groupLabel_a54m7_84",q9="_inputFile_a54m7_108",W9="_linkLabel_a54m7_130",K9="_image_a54m7_150",G9="_pass_a54m7_174",Q9="_validation_a54m7_180",Y9="_invalid_a54m7_184",he={page:M9,svg:L9,container:F9,inputFields:U9,inputs:B9,row:V9,group:z9,groupLabel:H9,inputFile:q9,linkLabel:W9,image:K9,pass:G9,validation:Q9,invalid:Y9},X9=()=>{const{signUp:t,logout:e}=zn(),n=fn(),[r,s]=S.useState([!1,{}]),[i,o]=S.useState(!1),a=S.useRef(),l=S.useRef(),c=S.useRef(),d=S.useRef(),h=S.useRef(),[p,g]=S.useState(),v=async w=>{w.preventDefault();const _=/^[a-zA-Z\s]+$/,f=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,m=/^\d{10}$/,y=/^[1-9][0-9]{9}$/,E=/^(?=.*\d).{8,}$/,x=a.current.value.trim(),I=l.current.value.trim(),N=c.current.value,P=d.current.value,j=h.current.value;if(x===""){s([!0,{message:"Please enter Email",isEmail:!0}]);return}else if(f.test(x))if(I==""){s([!0,{message:"Please enter your Full Name",isName:!0}]);return}else if(_.test(I))if(N==""){s([!0,{message:"Please enter Mobile Number",isMobile:!0}]);return}else if(!m.test(N)||!y.test(N)){s([!0,{message:"Please enter a valid Mobile Number",isMobile:!0}]);return}else if(p)if(p.size/1024>100){s([!0,{message:"Please Upload an image less than 100Kb!"}]);return}else if(P==""||j==""){s([!0,{message:"Please enter password and confirm password",isPass:!0}]);return}else if(E.test(P)){if(P!=j){s([!0,{message:"Both Password and Confirm Password should match.",isPass:!0}]);return}}else{s([!0,{message:"Password should be atleast of length 8 and contain atleast 1 number",isPass:!0}]);return}else{s([!0,{message:"Please Upload an image",isImage:!0}]);return}else{s([!0,{message:"Please enter a Valid Name",isName:!0}]);return}else{s([!0,{message:"Please enter a valid Email!",isEmail:!0}]);return}s([!1,{}]),o(!0);try{const L=await t(x,P),$=Ue(ae,"users"),Ee=JI(ZI,`/users/${L.user.uid}`),Bt=await YI(Ee,p),Nn=await XI(Bt.ref);await Vo($,{email:x,name:I,mobile:N,photo:Nn,isLoggedIn:!1,role:"online",uid:L.user.uid}),await e(),alert("Account Created Succesfully !"),n("/login")}catch(L){L.code=="auth/email-already-in-use"?alert("The email address is already in use"):L.code=="auth/invalid-email"?alert("The email address is not valid."):L.code=="auth/operation-not-allowed"?alert("Operation not allowed."):L.code=="auth/weak-password"&&alert("The password is too weak."),console.error(L)}o(!1)};return u.jsx("div",{className:he.page,children:u.jsxs("div",{className:he.container,children:[u.jsx("div",{className:he.svg,children:u.jsx("img",{src:"./assets/signup.png"})}),u.jsxs("div",{className:he.inputFields,children:[u.jsxs("h1",{style:{textAlign:"center"},children:["Welcome to ",u.jsx("span",{style:{whiteSpace:"nowrap"},children:"YesWeCan !"})]}),u.jsxs("form",{className:he.inputs,children:[u.jsx("h3",{children:"Enter your details to register"}),u.jsx("div",{className:he.row+" "+he.validation,children:r[0]?r[1].message:u.jsx(u.Fragment,{children:""})}),u.jsxs("fieldset",{children:[u.jsx("legend",{style:{textAlign:"left"},children:"Aspirant's Details"}),u.jsxs("div",{className:he.row,children:[u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"email",placeholder:" ",className:r[1].isEmail&&he.invalid,ref:a}),u.jsx("label",{className:he.groupLabel,children:"Email*"})]}),u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"text",placeholder:" ",className:r[1].isName&&he.invalid,ref:l}),u.jsx("label",{className:he.groupLabel,children:"Full Name*"})]}),u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"number",placeholder:" ",className:r[1].isMobile&&he.invalid,ref:c}),u.jsx("label",{className:he.groupLabel,children:"Mobile Number*"})]})]}),u.jsx("div",{className:he.row,children:u.jsxs("div",{className:he.group+" "+he.inputFile,children:[u.jsx("h3",{children:"Upload Photo: "}),u.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:w=>{w.target.files[0].size/1024<100?g(w.target.files[0]):alert("Please Select image less than 100Kb!")}}),u.jsxs("label",{className:he.linkLabel+" "+(r[1].isImage&&he.invalid),htmlFor:"file-upload",children:[u.jsx("img",{src:"./assets/upload.png",alt:"img"}),u.jsx("span",{children:"choose"})]})]})}),p&&u.jsxs("div",{className:he.image,children:["Your Photo :",u.jsx("img",{src:URL.createObjectURL(p),alt:"Upload"})]}),u.jsx("div",{className:he.pass+" "+(r[0]&&he.validation),children:r[1].isPass?r[1].message:"Password should be of atleast length 8 and contain atleast 1 number"}),u.jsxs("div",{className:he.row,children:[u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"password",placeholder:" ",className:r[1].isPass&&he.invalid,ref:d}),u.jsx("label",{className:he.groupLabel,children:"Password*"})]}),u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"password",placeholder:" ",className:r[1].isPass&&he.invalid,ref:h}),u.jsx("label",{className:he.groupLabel,children:"Confirm Password*"})]})]})]}),u.jsx("div",{className:he.row,children:u.jsx("button",{type:"submit",disabled:i,onClick:w=>{v(w)},children:"Register"})})]})]})]})})},J9=()=>{const t=fn(),[e,n]=S.useState(!1);return u.jsxs("nav",{className:zt.navbar+" "+zt.homeBar,children:[u.jsx("div",{className:zt.navLogo,children:u.jsx(fs,{to:"/",children:u.jsx("img",{src:"/assets/AppLogo.png"})})}),e&&u.jsx("div",{className:zt.backdrop,onClick:()=>{n(!1)}}),u.jsxs("div",{className:zt.navContent+` ${e?zt.dropdown:""}`,children:[u.jsx("div",{className:zt.dropdownIcon,onClick:()=>{n(r=>!r)},children:e?u.jsx("i",{className:"fa-solid fa-x"}):u.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"#courses",children:"Courses"})}),u.jsx("li",{children:u.jsx("a",{href:"#aboutUs",children:"About Us"})}),u.jsx("li",{children:u.jsx("a",{href:"#contactUs",children:"Contact Us"})}),u.jsx("li",{onClick:()=>{t("/login")},children:"Login"})]})]})]})},Z9="_view_1ef2i_1",eU="_body_1ef2i_9",h_={view:Z9,body:eU},tU="_carousel_1qvfz_1",nU="_carouselInner_1qvfz_20",rU="_carouselItem_1qvfz_25",sU="_carouselControl_1qvfz_30",iU="_left_1qvfz_43",oU="_right_1qvfz_46",aU="_carouselIndicators_1qvfz_50",lU="_carouselIndicatorItem_1qvfz_57",uU="_active_1qvfz_67",bn={carousel:tU,carouselInner:nU,carouselItem:rU,carouselControl:sU,left:iU,right:oU,carouselIndicators:aU,carouselIndicatorItem:lU,active:uU},cU=({slides:t})=>{const[e,n]=S.useState(0),r=S.useRef(),s=()=>{r.current&&clearInterval(r.current)},i=()=>{s(),r.current=setInterval(()=>{n(c=>c<t.length-1?c+1:0)},3e3)};S.useEffect(()=>(i(),()=>s()),[]);const o=()=>{i();const c=e>0?e-1:t.length-1;n(c)},a=()=>{i();const c=e<t.length-1?e+1:0;n(c)},l=c=>{i(),n(c)};return u.jsx("div",{className:bn.container,children:u.jsxs("div",{className:bn.carousel,children:[u.jsx("div",{className:bn.carouselInner,style:{transform:`translateX(${-e*100}%)`},children:t.map((c,d)=>u.jsx("div",{className:bn.carouselItem,onMouseEnter:s,onMouseOut:i,children:u.jsx("img",{src:c})},d))}),u.jsx("div",{className:bn.carouselIndicators,children:t.map((c,d)=>u.jsx("button",{className:`${bn.carouselIndicatorItem} ${e===d?bn.active:""}`,onClick:()=>l(d)},d))}),u.jsxs("div",{children:[u.jsx("button",{className:bn.carouselControl+" "+bn.left,onClick:o,children:"<"}),u.jsx("button",{className:bn.carouselControl+" "+bn.right,onClick:a,children:">"})]})]})})},dU="_container_1ovg2_1",hU="_courses_1ovg2_16",fU="_card_1ovg2_24",pU="_courseDesc_1ovg2_39",mU="_desDiv_1ovg2_45",gU="_courseDuration_1ovg2_49",vU="_coursePrice_1ovg2_49",yU="_courseTitle_1ovg2_54",wU="_buy_1ovg2_64",gr={container:dU,courses:hU,card:fU,courseDesc:pU,desDiv:mU,courseDuration:gU,coursePrice:vU,courseTitle:yU,buy:wU},kr=({mathml:t,className:e})=>(S.useEffect(()=>{window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},[t]),u.jsx("div",{className:e,dangerouslySetInnerHTML:{__html:t}})),_U=({title:t,duration:e,price:n,description:r})=>u.jsxs("div",{className:gr.card,children:[u.jsx("div",{className:gr.courseTitle,children:t}),u.jsxs("div",{className:gr.desDiv,children:[u.jsx("div",{className:gr.courseDesc,children:u.jsx(kr,{mathml:r})}),"..."]}),u.jsxs("div",{className:gr.courseDuration,children:[u.jsx("strong",{children:"Duration:"})," ",e," months"]}),u.jsxs("div",{className:gr.coursePrice,children:[u.jsx("strong",{children:"Price"})," : Rs. ",n]}),u.jsx("div",{className:gr.buy,children:u.jsx("button",{children:"Buy"})})]}),EU=()=>{const t=sh();return u.jsxs("div",{className:gr.container,id:"courses",children:[u.jsx("h2",{children:"Courses Offered :"}),u.jsx("div",{className:gr.courses,children:t==null?void 0:t.courses.map((e,n)=>u.jsx(_U,{title:e.title,description:e.description,price:e.price,duration:e.duration},n))})]})},SU=()=>{const t=sh();return u.jsxs("div",{className:h_.view,children:[u.jsx(J9,{}),u.jsx(cU,{slides:t.images}),u.jsx("div",{className:h_.body,children:u.jsx(EU,{})})]})},xU=({myCourses:t,allCourses:e})=>{const n=s=>{const i=new Date(s.limit).getTime();return new Date().getTime()-i},r=s=>e.filter(i=>i.id==s)[0];return u.jsx(u.Fragment,{children:t.length!=0?t==null?void 0:t.map((s,i)=>{const o=r(s.courseId);return u.jsxs("tr",{children:[u.jsx("td",{children:i+1}),u.jsx("td",{children:o==null?void 0:o.title}),u.jsx("td",{children:s.enrolledAt}),u.jsx("td",{children:s.limit}),u.jsx("td",{children:o==null?void 0:o.price}),u.jsx("td",{children:n(s)>0?"Expired":"Valid"})]},i)}):u.jsx(u.Fragment,{children:u.jsx("tr",{children:u.jsx("td",{colSpan:6,children:"Empty"})})})})},kU="_container_1bes0_1",CU="_header_1bes0_6",IU="_nav_1bes0_13",TU="_isNotActive_1bes0_49",NU="_isActive_1bes0_55",RU="_displayContent_1bes0_61",bU="_tableDiv_1bes0_70",AU="_coursesTable_1bes0_76",PU="_heading_1bes0_102",jU="_instructions_1bes0_106",DU="_emptyHeight_1bes0_120",Zt={container:kU,header:CU,nav:IU,isNotActive:TU,isActive:NU,displayContent:RU,tableDiv:bU,coursesTable:AU,heading:PU,instructions:jU,emptyHeight:DU},OU=()=>{const t=at(l=>l.user.myCourses),e=at(l=>l.user.allCourses),[n,r]=S.useState({isMycourse:!0,isInstruction:!1}),s={isMycourse:!1,isInstruction:!1},i=()=>{r(()=>{let l=s;return l.isMycourse=!0,l})},o=()=>{r(()=>{let l=s;return l.isInstruction=!0,l})};let a;return n.isMycourse?a=u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:"List of Courses Purchased"}),u.jsx("div",{className:Zt.tableDiv,children:t?u.jsx("table",{className:Zt.coursesTable,children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("th",{children:"S.NO"}),u.jsx("th",{children:"Course Name"}),u.jsx("th",{children:"Purchased On"}),u.jsx("th",{children:"Expires On"}),u.jsx("th",{children:"Amount"}),u.jsx("th",{children:"Status"})]}),t?u.jsx(xU,{myCourses:t,allCourses:e}):u.jsx("tr",{children:u.jsx("td",{colSpan:6,children:"Empty"})})]})}):"No purchases yet! Purchase courses through Courses Page from Home Page!"})]}):a=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:Zt.heading,children:"Online Exam Instructions"}),u.jsx("div",{className:Zt.instructions,children:u.jsxs("ol",{children:[u.jsx("li",{children:"It is recomended to write online exams in desktop to get familiar with actual exam interface."}),u.jsx("li",{children:"Ensure that you are using the latest version of browser installed, if not upgrade your browser to support latest scripts."}),u.jsx("li",{children:"Don't press refresh button / back button while writing online exams"})]})})]}),u.jsx(u.Fragment,{children:u.jsxs("div",{className:Zt.container,children:[u.jsx("div",{className:Zt.header,children:"Dashboard"}),u.jsxs("div",{className:Zt.nav,children:[u.jsx("button",{onClick:i,className:n.isMycourse?Zt.isActive:Zt.isNotActive,children:u.jsx("span",{children:"My Courses"})}),u.jsx("button",{onClick:o,className:n.isInstruction?Zt.isActive:Zt.isNotActive,children:u.jsx("span",{children:"Instructions"})})]}),u.jsxs("div",{className:Zt.displayContent,children:[a,u.jsx("div",{className:Zt.emptyHeight})]})]})})},$U="_cardContainer_1okpc_1",MU="_img_1okpc_12",LU="_liveClassName_1okpc_17",op={cardContainer:$U,img:MU,liveClassName:LU},FU=({title:t,address:e})=>u.jsxs("a",{className:op.cardContainer,href:e,target:"_blank",children:[u.jsx("div",{className:op.img,children:u.jsx("img",{src:"/assets/LiveClass.jpg",alt:""})}),u.jsx("div",{className:op.liveClassName,children:t})]}),UU="_container_1nn2o_1",BU="_header_1nn2o_6",VU="_liveClasses_1nn2o_21",zU="_emptyHeight_1nn2o_29",Ju={container:UU,header:BU,liveClasses:VU,emptyHeight:zU},HU=()=>{const[t,e]=S.useState();return S.useEffect(()=>{const n=(s,i)=>{const o=new Date(s.timestamp).getTime();return new Date(i.timestamp).getTime()-o};(async()=>{try{const s=Ue(ae,"live_classes"),o=(await At(s)).docs.map(a=>({...a.data(),id:a.id}));o.sort(n),e(o)}catch(s){console.log(s)}})()},[]),u.jsx(u.Fragment,{children:u.jsxs("div",{className:Ju.container,children:[u.jsxs("div",{className:Ju.header,children:[u.jsx("i",{className:"fa-regular fa-circle-dot"})," Live Classes"]}),u.jsx("div",{className:Ju.liveClasses,children:t==null?void 0:t.map((n,r)=>u.jsx(FU,{title:n.title,address:n.address},r))}),u.jsx("div",{className:Ju.emptyHeight})]})})},qU="_header_6ittw_1",WU="_feedback_6ittw_7",KU="_emptyHeight_6ittw_37",ap={header:qU,feedback:WU,emptyHeight:KU},GU=()=>{const{currentUser:t}=zn(),e=fn(),n=S.useRef(),r=async s=>{if(s.preventDefault(),n.current.value.trim()!="")try{const i=Ue(ae,"feedback"),o=await Vo(i,{uid:t.uid,userEmail:t.email,feedback:n.current.value,date:new Date().toLocaleString()});alert("Feedback Submited succesfully!"),e("/user")}catch(i){alert("Something went wrong please try again after sometime!"),console.log(i)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:ap.header,children:[u.jsx("h2",{children:" Feedback"}),u.jsx("br",{}),u.jsx("p",{children:"Please Give us your feedback."})]}),u.jsxs("form",{className:ap.feedback,children:[u.jsx("textarea",{name:"feedback",id:"",cols:"30",rows:"10",placeholder:"Please type your feedback here.",ref:n}),u.jsx("button",{type:"submit",onClick:s=>{r(s)},children:"Submit"})]}),u.jsx("div",{className:ap.emptyHeight})]})},QU="_header_3j7ol_1",YU="_testContainer_3j7ol_7",XU="_emptyHeight_3j7ol_16",lp={header:QU,testContainer:YU,emptyHeight:XU},JU="_testCard_kufa4_1",ZU="_cardHeader_kufa4_11",e5="_testTitle_kufa4_27",t5="_cardFooter_kufa4_31",n5="_start_kufa4_40",r5="_locked_kufa4_64",Fs={testCard:JU,cardHeader:ZU,testTitle:e5,cardFooter:t5,start:n5,locked:r5},s5=({title:t,id:e,status:n,idx:r,courseId:s,valid:i,testId:o,uid:a})=>{const l=n?n[0]:null;return u.jsxs("div",{className:Fs.testCard,children:[u.jsxs("div",{className:Fs.cardHeader,children:[u.jsx("div",{className:Fs.testTitle,children:t}),u.jsx("div",{children:"Model Test "+(r+1)})]}),u.jsx("hr",{}),u.jsxs("div",{className:Fs.cardFooter,children:[i=="false"?u.jsx("a",{className:Fs.locked,children:"Locked"}):"",l!="A"&&i=="true"?u.jsx(fs,{to:`/online-exam?id=${e}&courseId=${s}&courseName=${t+" (Model Test "+(r+1)+")"}&testId=${o}`,className:Fs.start,children:"Start Exam"}):"",l=="A"&&u.jsx(fs,{to:`/user/viewResult?id=${e}&courseId=${s}&courseName=${t+" (Model Test "+(r+1)+")"}&testId=${o}&user=${a}&attempts=${n[1]}`,children:"View Result"}),l=="A"&&i=="true"?u.jsx(fs,{to:`/online-exam?id=${e}&courseId=${s}&courseName=${t+" (Model Test "+(r+1)+")"}&testId=${o}`,className:Fs.start,children:"Re-Exam"}):""]})]})},i5=()=>{const{currentUser:t}=zn(),e=sh(),[n,r]=xi(),s=n.get("courseId"),i=n.get("id"),o=n.get("user"),a=at(l=>l.user.myCourses.filter(c=>c.courseId==s)[0].status);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:lp.header,children:u.jsx("h2",{children:" Online Exams"})}),u.jsx("div",{className:lp.testContainer,children:e==null?void 0:e.exams.map((l,c)=>u.jsx(s5,{uid:t.uid,testId:i,courseId:s,title:e.title,id:l.id,status:a[l.id],idx:c,valid:o},c))}),u.jsx("div",{className:lp.emptyHeight})]})},o5="_header_vqi1p_1",a5="_backButton_vqi1p_11",l5="_nav_vqi1p_22",u5="_isActive_vqi1p_58",c5="_displayContent_vqi1p_67",qn={header:o5,backButton:a5,nav:l5,isActive:u5,displayContent:c5},uT=({result:t,classes:e,setScoreCardDetails:n})=>{var h;const[r,s]=S.useState();let i=0,o=0,a=0,l=[0,0];const c=p=>`${String(p[0]).padStart(2,"0")} : ${String(p[1]).padStart(2,"0")} : ${String(p[2]).padStart(2,"0")}`,d=(p,g)=>[p[0]+g[0]+Math.floor((p[1]+g[1]+Math.floor((p[2]+g[2])/60))/60),(p[1]+g[1]+Math.floor((p[2]+g[2])/60))%60,(p[2]+g[2])%60];return S.useEffect(()=>{if(t){let p=[0,0,0],g=0;const v=[];for(let w in t.response.sectionDetails){v.push({title:t.response.sectionDetails[w].title,components:[]});for(let _ in t.response.sectionDetails[w].components)g+=t.response.sectionDetails[w].components[_].numQues,v[w].components.push({title:t.response.sectionDetails[w].components[_].title,numQues:t.response.sectionDetails[w].components[_].numQues,isA:0,isMandS:0,isM:0,isNA:0,timeSpent:[0,0,0]})}for(let w in t.response.resObj){const[_,f,m]=w.split(" ");t.response.resObj[w].isA?v[_].components[f].isA++:t.response.resObj[w].isNA?v[_].components[f].isNA++:t.response.resObj[w].isM?v[_].components[f].isM++:t.response.resObj[w].isMandS&&v[_].components[f].isMandS++,p=d([...p],[...t.response.resObj[w].timeSpent]),v[_].components[f].timeSpent=d([...v[_].components[f].timeSpent],[...t.response.resObj[w].timeSpent])}n&&n({timeSpent:p,totalQuestions:g}),s(v)}},[t]),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:e.examSummary,children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsx("tr",{children:u.jsx("th",{colSpan:9,children:"Exam Summary"})})}),u.jsx("tbody",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Section Name"}),u.jsx("th",{children:"Module Name"}),u.jsx("th",{children:"# Questions"}),u.jsx("th",{children:"# Answered"}),u.jsx("th",{children:"# Marked and Answered"}),u.jsx("th",{children:"# Marked for Review"}),u.jsx("th",{children:"# Not Answered"}),u.jsx("th",{children:"# Not Visited"}),u.jsx("th",{children:"Time Spent"})]})}),r==null?void 0:r.map((p,g)=>u.jsx("tbody",{children:p.components.map((v,w)=>u.jsxs("tr",{children:[w==0?u.jsx("td",{rowSpan:p.components.length,children:p.title}):"",u.jsx("td",{children:v.title}),u.jsx("td",{children:v.numQues}),u.jsx("td",{children:v.isA}),u.jsx("td",{children:v.isMandS}),u.jsx("td",{children:v.isM}),u.jsx("td",{children:v.isNA}),u.jsx("td",{children:v.numQues-(v.isA+v.isMandS+v.isM+v.isNA)}),u.jsx("td",{children:u.jsx("span",{children:c([...v.timeSpent])})})]},`${g} ${w}`))},g))]})}),u.jsx("div",{className:e.resultTable,children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsx("tr",{children:u.jsx("th",{colSpan:9,children:"Result"})})}),u.jsx("tbody",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Section Name"}),u.jsx("th",{children:"Module Name"}),u.jsx("th",{children:"No of Question"}),u.jsx("th",{children:"No of Correct"}),u.jsx("th",{children:"No of Wrong"}),u.jsx("th",{children:"Correct Marks"}),u.jsx("th",{children:"Wrong Marks"}),u.jsx("th",{children:"Total Marks"}),u.jsx("th",{children:"Accuracy Percentage"})]})}),(h=t==null?void 0:t.result.secDet)==null?void 0:h.map((p,g)=>u.jsx("tbody",{children:p.components.map((v,w)=>(i+=v.numQues,o+=v.correct,a+=v.wrong,l[0]+=v.marks[0],l[1]+=v.marks[1],u.jsxs("tr",{children:[w==0?u.jsx("td",{rowSpan:p.components.length,children:p.title}):"",u.jsx("td",{children:v.title}),u.jsx("td",{children:v.numQues}),u.jsx("td",{children:v.correct}),u.jsx("td",{children:v.wrong}),u.jsx("td",{children:v.marks[0]}),u.jsx("td",{children:v.marks[1]}),u.jsx("td",{children:v.marks[0]-v.marks[1]}),v.correct+v.wrong==0?u.jsx("td",{children:"0.00"}):u.jsx("td",{children:(v.correct/(v.correct+v.wrong)*100).toFixed(2)})]},`${g} ${w}`)))},g)),u.jsx("tbody",{children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:2,children:"Total: "}),u.jsxs("td",{children:[" ",i]}),u.jsx("td",{children:o}),u.jsx("td",{children:a}),u.jsx("td",{children:l[0]}),u.jsx("td",{children:l[1]}),u.jsx("td",{children:l[0]-l[1]}),o+a==0?u.jsx("td",{children:"0.00"}):u.jsx("td",{children:(o/(o+a)*100).toFixed(2)})]})})]})})]})},d5="_questionDiv_tvwdy_1",h5="_options_tvwdy_7",f5="_cardDiv_tvwdy_19",p5="_card_tvwdy_19",m5="_ans_tvwdy_31",g5="_valid_tvwdy_35",v5="_invalid_tvwdy_39",y5="_notAnswered_tvwdy_43",w5="_marked_tvwdy_47",_5="_directionDiv_tvwdy_52",E5="_direction_tvwdy_52",S5="_question_tvwdy_1",te={questionDiv:d5,options:h5,cardDiv:f5,card:p5,ans:m5,valid:g5,invalid:v5,notAnswered:y5,marked:w5,directionDiv:_5,direction:E5,question:S5},x5=({ques:t,ans:e,direction:n,idx:r,format:s,response:i,solution:o})=>{let a="content";return t.isInt?a=u.jsxs(u.Fragment,{children:["Question : ",r+1,u.jsxs("div",{className:te.question,children:[t!=null&&t.question.equ?u.jsx(kr,{mathml:t==null?void 0:t.question.equ}):"",t!=null&&t.question.img?u.jsx("img",{src:t==null?void 0:t.question.img,className:te.image,alt:"image"}):""]}),u.jsxs("div",{className:te.solution,children:["Solution:",o&&u.jsx("img",{src:o}),u.jsxs("div",{className:te.cardDiv,children:[u.jsx("div",{className:te.card+" "+te.ans,children:"Answer : "+e.ans}),i==null?u.jsx("div",{className:te.card,children:" Not Visited"}):"",(i==null?void 0:i.isNA)&&u.jsxs("div",{className:te.card+" "+te.notAnswered,children:[" ","Not Answered"]}),(i==null?void 0:i.isM)&&u.jsxs("div",{className:te.card+" "+te.marked,children:[" ","Marked For Review"]}),(i==null?void 0:i.isMandS)&&u.jsxs("div",{className:te.card+" "+((i==null?void 0:i.ans)==e.ans?te.valid:te.invalid),children:[" ","Marked and Saved For Review : ",i==null?void 0:i.ans," "]}),(i==null?void 0:i.isA)&&u.jsxs("div",{className:te.card+" "+((i==null?void 0:i.ans)==e.ans?te.valid:te.invalid),children:[" ","Answered : ",i==null?void 0:i.ans," "]}),i!=null?u.jsxs("div",{className:te.card,children:["Time Spent: ",s(i.timeSpent)]}):""]})]})]}):a=u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:te.directionDiv,children:[t.direction!=null?u.jsxs("div",{className:te.direction,children:[u.jsx("h4",{style:{fontWeight:600},children:"Direction :"}),n[t.direction].equ?u.jsx(kr,{mathml:n[t.direction].equ}):"",n[t.direction].img?u.jsx("img",{src:n[t.direction].img,className:te.image,alt:"image"}):""]}):"",u.jsxs("div",{className:te.question,children:[u.jsxs("h4",{style:{fontWeight:600},children:["Question : ",r+1]}),t!=null&&t.question.equ?u.jsx(kr,{mathml:t==null?void 0:t.question.equ}):"",t!=null&&t.question.img?u.jsx("img",{src:t==null?void 0:t.question.img,className:te.image,alt:"image"}):""]})]}),u.jsxs("div",{className:te.options,children:["Options:",u.jsx("ol",{children:t==null?void 0:t.options.map((l,c)=>u.jsxs("li",{children:[l.equ?u.jsx(kr,{mathml:l.equ}):"",l.img?u.jsx("img",{src:l.img,alt:"image"}):""]},c))}),u.jsx("div",{className:te.optionCard})]}),u.jsxs("div",{className:te.solution,children:["Solution:",o&&u.jsx("img",{src:o}),u.jsxs("div",{className:te.cardDiv,children:[t==null?void 0:t.options.map((l,c)=>u.jsx("div",{className:te.card+" "+(e.ans==c&&te.ans),children:c+1},c)),i==null?u.jsx("div",{className:te.card,children:" Not Visited"}):"",(i==null?void 0:i.isNA)&&u.jsxs("div",{className:te.card+" "+te.notAnswered,children:[" ","Not Answered"]}),(i==null?void 0:i.isM)&&u.jsxs("div",{className:te.card+" "+te.marked,children:[" ","Marked For Review"]}),(i==null?void 0:i.isMandS)&&u.jsxs("div",{className:te.card+" "+((i==null?void 0:i.ans)==e.ans?te.valid:te.invalid),children:[" ","Marked and Saved For Review : ",(i==null?void 0:i.ans)+1," "]}),(i==null?void 0:i.isA)&&u.jsxs("div",{className:te.card+" "+((i==null?void 0:i.ans)==e.ans?te.valid:te.invalid),children:[" ","Answered : ",(i==null?void 0:i.ans)+1," "]}),i!=null?u.jsxs("div",{className:te.card,children:["Time Spent: ",s(i.timeSpent)]}):""]})]})]}),u.jsx("div",{className:te.questionDiv,children:a})};const k5="_downloadPaper_1kfck_1",C5="_ansKey_1kfck_14",I5="_questionDisplay_1kfck_20",T5="_sectionDiv_1kfck_24",N5="_componentDiv_1kfck_37",Mi={downloadPaper:k5,ansKey:C5,questionDisplay:I5,sectionDiv:T5,componentDiv:N5},R5=({response:t,examData:e,format:n})=>u.jsxs("div",{className:Mi.display+" effect",children:[u.jsx("div",{className:Mi.downloadPaper,children:u.jsx("a",{href:e==null?void 0:e.questionPaper,download:"Question Paper",target:"_blank",children:"Download Paper"})}),u.jsxs("div",{className:Mi.ansKey,children:[u.jsx("h3",{children:"Answer Key"}),u.jsx("img",{src:e==null?void 0:e.ansKey,alt:"Answer Key"})]}),u.jsxs("div",{className:Mi.questionDisplay,children:[u.jsx("h2",{children:"Questions:"}),e==null?void 0:e.questions.map((r,s)=>u.jsxs("div",{className:Mi.sectionDiv,children:[u.jsxs("h3",{children:["Section Title: ",r.sectionTitle]}),r.components.map((i,o)=>u.jsxs("div",{className:Mi.componentDiv,children:[u.jsx("h3",{children:i.componentTitle}),i.questions.map((a,l)=>{const c=`${s} ${o} ${l}`;return u.jsx(x5,{direction:i.directions,solution:e.solutions&&(e==null?void 0:e.solutions[c]),ques:a,ans:e==null?void 0:e.answeres.answers[c],idx:l,format:n,response:t.resObj[c]},c)})]},`${s} ${o}`))]},s))]})]}),b5=({courseName:t,marks:e,maxMarks:n,rank:r,idx:s,attempts:i})=>u.jsx(u.Fragment,{children:u.jsxs("tr",{children:[u.jsx("td",{children:s+1}),u.jsx("td",{children:t}),u.jsx("td",{children:e}),u.jsx("td",{children:n}),u.jsx("td",{children:i}),u.jsx("td",{children:r})]})}),A5=t=>{const e=As(),[n,r]=S.useState({result:{},response:{}}),[s,i]=S.useState(),o=at(c=>c.results.result),a=at(c=>c.results.status),l=at(c=>c.results.timer);return S.useEffect(()=>{(async()=>{try{const d=it(ae,"exams",t.examId),h=await vs(d);h.exists&&i(h.data().answeres)}catch(d){alert("Server Error"),console.log(d)}})()},[]),S.useEffect(()=>{if(s){const c={};for(let _ in l)a[_].isMarked&&a[_].isAnswered?c[_]={isMandS:!0,timeSpent:l[_],ans:o[_]}:a[_].isMarked?c[_]={isM:!0,timeSpent:l[_]}:a[_].isAnswered?c[_]={isA:!0,timeSpent:l[_],ans:o[_]}:a[_].isVisited&&(c[_]={isNA:!0,timeSpent:l[_]});const d={sectionDetails:s.sections,resObj:c},h={maxMarks:s.maxMarks,maxTime:s.maxTime,secDet:[]},p=[];for(let _ in s.sections){p.push({title:s.sections[_].title,components:[]});for(let f in s.sections[_].components)p[_].components.push({title:s.sections[_].components[f].title,numQues:s.sections[_].components[f].numQues,correct:0,wrong:0,marks:[0,0]})}let g=0;for(let _ in c){const[f,m,y]=_.split(" ");(c[_].isA||c[_].isMandS)&&(s.answers[_].marks?c[_].ans==s.answers[_].ans?(p[f].components[m].correct++,p[f].components[m].marks[0]+=s.answers[_].marks[0],g+=s.answers[_].marks[0]):(p[f].components[m].wrong++,p[f].components[m].marks[1]+=s.answers[_].marks[1],g-=s.answers[_].marks[1]):s.sections[f].components[m].compMarks?c[_].ans==s.answers[_].ans?(p[f].components[m].correct++,p[f].components[m].marks[0]+=s.sections[f].components[m].compMarks[0],g+=s.sections[f].components[m].compMarks[0]):(p[f].components[m].wrong++,p[f].components[m].marks[1]+=s.sections[f].components[m].compMarks[1],g-=s.sections[f].components[m].compMarks[1]):s.sections[f].sectionMarks&&(c[_].ans==s.answers[_].ans?(p[f].components[m].correct++,p[f].components[m].marks[0]+=s.sections[f].sectionMarks[0],g+=s.sections[f].sectionMarks[0]):(p[f].components[m].wrong++,p[f].components[m].marks[1]+=s.sections[f].sectionMarks[1],g-=s.sections[f].sectionMarks[1])))}h.secDet=p;const v=new Date;(async()=>{try{const _=Xt(Ue(ae,"exam_results"),ke("uid","==",t.uid),ke("examId","==",t.examId),ke("courseName","==",t.courseName)),f=await At(_);if(f.empty){const m=Ue(ae,"exam_results"),y=Ue(ae,"results_simple");if(n.result){const E=await Vo(m,{uid:t.uid,examId:t.examId,courseId:t.courseId,testSeriesId:t.testSeriesId,courseName:t.courseName,result:h,response:d,marks:g}),x=await Vo(y,{uid:t.uid,examId:t.examId,testSeriesId:t.testSeriesId,courseId:t.courseId,courseName:t.courseName,marks:g,maxMarks:h.maxMarks,date:v.toLocaleString()}),I=t.courses.filter(j=>j.courseId==t.courseId)[0].id,N=it(ae,"enrollments",I),P=await vs(N);await Mn(N,{status:{...P.data().status,[t.examId]:["A",1]}})}}else{const m={...f.docs[0].data(),id:f.docs[0].id},y=t.courses.filter(N=>N.courseId==t.courseId)[0].id,E=it(ae,"enrollments",y),I={...(await vs(E)).data().status};if(I[t.examId][1]++,await Mn(E,{status:{...I}}),g>m.marks){const N=it(ae,"exam_results",m.id);await Mn(N,{result:h,response:d,marks:g});const P=Xt(Ue(ae,"results_simple"),ke("uid","==",t.uid),ke("examId","==",t.examId),ke("courseId","==",t.courseId)),j=await At(P),L=it(ae,"results_simple",j.docs[0].id);await Mn(L,{marks:g,maxMarks:h.maxMarks,date:new Date().toLocaleString()})}else return}}catch(_){console.log(_)}})(),r({result:h,response:d}),e(M2()),e(R2())}},[s]),[n,r]},P5=({examId:t,courseId:e,userId:n})=>{const[r,s]=S.useState(0);return S.useEffect(()=>{(async()=>{try{const o=Xt(Ue(ae,"results_simple"),ke("examId","==",t),ke("courseId","==",e)),a=await At(o),l=a.docs.filter(h=>h.data().uid===n);if(l.length===0){console.log("User data not found");return}const c=l[0].data().marks,d=a.docs.reduce((h,p)=>p.data().marks>c?h+1:h,1);s(d)}catch(o){console.log("Error getting documents:",o)}})()},[]),[r,s]},j5="_scoreCard_156xu_1",D5="_emptyHeight_156xu_26",O5="_result_156xu_30",$5="_examSummary_156xu_36",M5="_resultTable_156xu_36",ya={scoreCard:j5,emptyHeight:D5,result:O5,examSummary:$5,resultTable:M5},L5=({clicked:t,courseId:e})=>{const n=sh(),[r,s]=S.useState(),[i,o]=S.useState(),{currentUser:a}=zn(),[l,c]=xi(),d=l.get("id"),[h,p]=P5({courseId:e,examId:d,userId:a.uid}),[g,v]=S.useState(),[w,_]=S.useState(),f=y=>`${String(y[0]).padStart(2,"0")} : ${String(y[1]).padStart(2,"0")} : ${String(y[2]).padStart(2,"0")} `;S.useEffect(()=>{const y=async()=>{try{const x=Xt(Ue(ae,"exam_results"),ke("uid","==",a.uid),ke("examId","==",d),ke("courseId","==",e)),I=await At(x);if(!I.empty){const{result:N,response:P,marks:j}=I.docs[0].data();v({result:N,response:P}),_(j)}}catch(x){console.log(x)}},E=async()=>{try{const x=it(ae,"exams",d),I=await vs(x);if(I.exists()){const N={...I.data(),id:I.id};o(N)}}catch(x){console.log(x)}};y(),E()},[]);let m;return t.isScoreCard?m=u.jsx(u.Fragment,{children:u.jsx("table",{className:ya.scoreCard,children:u.jsxs("tbody",{children:[u.jsx("tr",{children:u.jsx("th",{colSpan:2,children:"Score Card"})}),u.jsxs("tr",{children:[u.jsx("th",{children:"Total No. Of Questions"}),u.jsx("td",{children:r==null?void 0:r.totalQuestions})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Total Marks"}),u.jsx("td",{children:g==null?void 0:g.result.maxMarks})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Total Duration"}),u.jsx("td",{children:g&&f(g==null?void 0:g.result.maxTime)})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Total Marks Scored"}),u.jsxs("td",{children:[w,"/",g==null?void 0:g.result.maxMarks]})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Time Taken to complete Test"}),u.jsx("td",{children:r&&`${f(r==null?void 0:r.timeSpent)}/ ${f(g==null?void 0:g.result.maxTime)}`})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Your Rank"}),u.jsx("td",{children:h})]})]})})}):t.isResult?m=u.jsx(u.Fragment,{children:u.jsx("div",{className:ya.result,children:u.jsx(uT,{classes:ya,result:g,setScoreCardDetails:s})})}):t.isPaper?m=u.jsx(R5,{response:g.response,examData:i,format:f}):t.isTest?m=u.jsxs("table",{className:ya.scoreCard,children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("td",{children:"S.NO"}),u.jsx("td",{children:"Test Name"}),u.jsx("td",{children:"Marks"}),u.jsx("td",{children:"Total"}),u.jsx("td",{children:"Test Attempts"}),u.jsx("td",{children:"Rank"})]})}),u.jsx("tbody",{children:n.map((y,E)=>u.jsx(b5,{attempts:y.attempts,idx:E,courseName:y.courseName,marks:y.marks,maxMarks:y.maxMarks,rank:y.rank},E))})]}):m=u.jsx("p",{children:"Please watch explanation videos in YesWeCan App."}),u.jsxs(u.Fragment,{children:[m,u.jsx("div",{className:ya.emptyHeight})]})},F5=()=>{const t=fn(),[e,n]=xi(),r=e.get("courseId"),s=e.get("courseName"),[i,o]=S.useState({isResult:!0});return u.jsx(u.Fragment,{children:u.jsxs("div",{className:qn.container,children:[u.jsxs("div",{className:qn.header,children:[u.jsxs("span",{children:["Results of ",s]})," ",u.jsx("div",{className:qn.backButton,onClick:()=>{t(-1)},children:"X"})]}),u.jsx("div",{className:qn.nav,children:u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isScoreCard:!0})},className:i.isScoreCard?qn.isActive:"",children:"Score Card"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isResult:!0})},className:i.isResult?qn.isActive:"",children:"Result"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isPaper:!0})},className:i.isPaper?qn.isActive:"",children:"Question Paper"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isTest:!0})},className:i.isTest?qn.isActive:"",children:"Attempted Tests"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isVideo:!0})},className:i.isVideo?qn.isActive:"",children:"Explanation Video"})})]})}),u.jsx("div",{className:qn.displayContent,children:u.jsx(L5,{clicked:i,courseId:r})})]})})},U5=t=>{const[e,n]=S.useState({status:"loading"}),r=As();return S.useEffect(()=>{(async()=>{try{const i=it(ae,"exams",t),o=await vs(i);o.exists&&(r(C2(o.data().questions)),n({status:"yes"}))}catch(i){n({status:"server"}),console.log(i)}})()},[]),[e,n]},Jm=t=>async e=>{try{e(I2(t))}catch(n){console.log(n)}},Zm=t=>async e=>{try{e(T2(t))}catch(n){console.log(n)}},Za=t=>async e=>{try{e(N2(t))}catch(n){console.log(n)}},B5=(t,e)=>{switch(e.type){case"SetTimer":return{hour:e.payload[0],minute:e.payload[1],second:e.payload[2]};case"RunTimer":{if(t.second<59)return{...t,second:t.second+1};if(t.second==59){if(t.minute<59)return{...t,minute:t.minute+1,second:0};if(t.minute==59)return{hour:t.hour+1,minute:0,second:0}}}}},V5=(t,e)=>{switch(e.type){case"SetCountdown":return{hour:e.payload[0],minute:e.payload[1],second:e.payload[2]};case"RunCountdown":{if(t.second>0)return{...t,second:t.second-1};if(t.minute>0)return{...t,minute:t.minute-1,second:59};if(t.hour>0)return{hour:t.hour-1,minute:59,second:59};if(t.hour==0)return t}}},z5=(t,e)=>{switch(e.type){case"UpdateStatus":{const n=[...e.payload.trace];let r=0,s=0,i=0,o=0;for(let l in e.payload.status){const c=e.payload.status[l],[d,h,p]=l.split(" ");n[0]==d&&n[1]==h&&(c!=null&&c.isMarked&&(c!=null&&c.isAnswered)?o++:c!=null&&c.isMarked?i++:c!=null&&c.isAnswered?r++:c!=null&&c.isVisited&&s++)}const a=e.payload.len-(r+s+i+o);return{ans:r,nAns:s,mark:i,markS:o,nVisit:a}}}},H5=(t,e)=>{switch(e.type){case"SetTotal":return{isTotal:!0,isSection:[!1,0],isComponent:[!1,0]};case"SetSection":return{isTotal:!1,isSection:[!0,e.index],isComponent:[!1,0,0]};case"SetComp":return{isTotal:!1,isSection:[!1,0],isComponent:[!0,...e.arr]}}},q5=(t,e)=>{switch(e.type){case"SetMarks":return[...e.payload]}},W5=(t,e)=>{switch(e.type){case"Reset":return[!1,{}];case"Set":return[!0,{...e.payload}]}};var en={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},f_=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],p_=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],m_=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Vt=typeof window<"u"&&typeof window.document<"u"?window.document:{},yn="fullscreenEnabled"in Vt&&Object.keys(en)||f_[0]in Vt&&f_||p_[0]in Vt&&p_||m_[0]in Vt&&m_||[],K5={requestFullscreen:function(t){return t[yn[en.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[yn[en.requestFullscreen]]},get exitFullscreen(){return Vt[yn[en.exitFullscreen]].bind(Vt)},get fullscreenPseudoClass(){return":"+yn[en.fullscreen]},addEventListener:function(t,e,n){return Vt.addEventListener(yn[en[t]],e,n)},removeEventListener:function(t,e,n){return Vt.removeEventListener(yn[en[t]],e,n)},get fullscreenEnabled(){return!!Vt[yn[en.fullscreenEnabled]]},set fullscreenEnabled(t){},get fullscreenElement(){return Vt[yn[en.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return Vt[("on"+yn[en.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return Vt[("on"+yn[en.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return Vt[("on"+yn[en.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return Vt[("on"+yn[en.fullscreenerror]).toLowerCase()]=t}};const fr=K5;function G5(){var t=S.useState(!1),e=t[0],n=t[1],r=S.useRef(null);S.useEffect(function(){var o=function(){n(fr.fullscreenElement===r.current)};return fr.addEventListener("fullscreenchange",o),function(){return fr.removeEventListener("fullscreenchange",o)}},[]);var s=S.useCallback(function(){if(fr.fullscreenElement)return fr.exitFullscreen().then(function(){return fr.requestFullscreen(r.current)});if(r.current)return fr.requestFullscreen(r.current)},[]),i=S.useCallback(function(){return fr.fullscreenElement===r.current?fr.exitFullscreen():Promise.resolve()},[]);return S.useMemo(function(){return{active:e,enter:s,exit:i,node:r}},[e,s,i])}var Q5=function(e){var n=e.handle,r=e.onChange,s=e.children,i=e.className,o=[];return i&&o.push(i),o.push("fullscreen"),n.active&&o.push("fullscreen-enabled"),S.useEffect(function(){r&&r(n.active,n)},[n.active]),sg.createElement("div",{className:o.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},s)};const Y5="_view_greua_1",X5="_heading_greua_7",J5="_container_greua_15",Z5="_instructions_greua_20",e6="_instructionsContent_greua_25",t6="_moreInstructions_greua_31",n6="_contentBody_greua_35",r6="_padding_greua_43",s6="_effect_greua_55",i6="_buttonNavigate_greua_59",o6="_contentHeader_greua_79",a6="_userDetails_greua_87",l6="_confirm_greua_99",u6="_paddingPalatte_greua_121",c6="_card_greua_138",d6="_normal_greua_148",h6="_answered_greua_152",f6="_notAnswered_greua_176",p6="_marked_greua_200",m6="_markedS_greua_206",de={view:Y5,heading:X5,container:J5,instructions:Z5,instructionsContent:e6,moreInstructions:t6,contentBody:n6,padding:r6,effect:s6,buttonNavigate:i6,contentHeader:o6,userDetails:a6,confirm:l6,paddingPalatte:u6,card:c6,normal:d6,answered:h6,notAnswered:f6,marked:p6,markedS:m6},cT=()=>u.jsxs("div",{className:de.instructionsContent,children:[u.jsx("div",{className:de.contentHeader,children:u.jsx("h4",{children:"Please read the following instructions carefully."})}),u.jsxs("div",{className:de.contentBody,children:[u.jsx("h4",{children:"General Instructions:"}),u.jsxs("ol",{children:[u.jsx("li",{children:"Total of hrs duration will be given to attempt all the questions"}),u.jsx("li",{children:"The clock has been set at the server and the countdown timer at the top right corner of your screen will display the time remaining for you to complete the exam. When the clock runs out ,the exam ends by default - you are not required to end or submit your exam."}),u.jsxs("li",{children:["The question palatte at the right of screen shows one of the following statuses of each of the questions numbered.",u.jsxs("ul",{className:de.paddingPalatte,children:[u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.normal,children:"0"})," You have not visited the question yet."]}),u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.answered,children:"1"})," ","You have answered the question."]}),u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.notAnswered,children:"2"})," ","You have not answered the question."]}),u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.marked,children:"3"})," You have NOT answered the question but have marked the question for review."]}),u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.markedS,children:"4"})," ","You have answered the question but marked it for review."]}),u.jsxs("li",{children:["The Marked for review status simply acts as a reminder that you have set to look at the question again."," ",u.jsx("i",{className:de.effect,children:"If an answer is selected for a question that is Marked for Review, the answer will be considered in the final evaluation."})]})]})]})]})]}),u.jsxs("div",{className:de.contentBody,children:[u.jsx("h4",{children:"Navigating to a question"}),u.jsxs("ol",{start:4,children:[u.jsxs("li",{children:["To select a question to answer, you can do one of the following:",u.jsxs("ol",{className:de.padding,type:"a",children:[u.jsx("li",{children:"CLick on the question number on the question palatte at the right of your screen to go to that numbered question directly. Note that using his option does NOT save your answer to the current question"}),u.jsx("li",{children:"Click on Save and Next to save answer to current question to go to the next question in sequence."}),u.jsx("li",{children:"Click on Mark for Review and Next to save answer to current question, mark it for review, and to go to the next question in the sequence."})]})]}),u.jsxs("li",{children:["You can view the entire paper by clicking on the"," ",u.jsx("span",{children:"Question Paper"})," button."]})]})]}),u.jsxs("div",{className:de.contentBody,children:[u.jsx("h4",{children:"Answering Question:"}),u.jsxs("ol",{start:6,children:[u.jsxs("li",{children:["For multiple choice type question:",u.jsxs("ol",{className:de.padding,type:"a",children:[u.jsx("li",{children:"To select your answer, click on one of the option buttons."}),u.jsx("li",{children:"To change your answer, click the another desired option buttons."}),u.jsxs("li",{children:["To save your answer, you MUST click on ",u.jsx("span",{children:"Save & Next"})]}),u.jsxs("li",{children:["To deselect a chosen answer, click on the chosen option again or click on the ",u.jsx("span",{children:"Clear Response"})," button."]}),u.jsxs("li",{children:["To mark a question for review click on"," ",u.jsx("span",{children:"Mark for Review & Next"}),"."," ",u.jsxs("i",{className:de.effect,children:["If an answer is selected for a question that is Marked for Review, the answer will be considered in the final evaluation"," "]})]})]})]}),u.jsxs("li",{children:["For a numerical answer type question",u.jsxs("ol",{className:de.padding,type:"a",children:[u.jsx("li",{children:"To enter a number as your answer, use the virtual numerical keypad"}),u.jsx("li",{children:"A fraction (eg. 0.3 or -0.3) can be entered as answer ONLY with '0' before the decimal point"}),u.jsxs("li",{children:["To save your answer, you MUST click on ",u.jsx("span",{children:"Save & Next"})]}),u.jsxs("li",{children:["To clear your answer, click on the ",u.jsx("span",{children:"Clear Response"})," ","button"]})]})]}),u.jsxs("li",{children:["To change an answer to a question, first select the question and then click on the new answer option followed by a click on the"," ",u.jsx("span",{children:"Save & Next"})," button."]}),u.jsx("li",{children:"Questions that are saved or marked for review after asnwering will ONLY be considered for evaluation"})]})]}),u.jsxs("div",{className:de.contentBody,children:[u.jsx("h4",{children:"Navigating throught sections :"}),u.jsxs("ol",{start:10,children:[u.jsx("li",{children:"Sections in this question paper are displayed on the top bar of the screen Questions in a section can be viewed by clicking on the section name. The section you are currently viewing is highlighted."}),u.jsxs("li",{children:["After clicking the ",u.jsx("span",{children:"Save & Next"})," button on the last question for a section, you will automatically be taken to the first question of the next section."]}),u.jsx("li",{children:"You can move the mouse cursor over the section names to view the status of the questions for that section."}),u.jsx("li",{children:"You can shuffle between sections and questions anytime during the examination as per your convenience."})]})]})]}),dT=()=>u.jsxs("div",{className:de.instructionsContent+" "+de.moreInstructions,children:[u.jsx("div",{className:de.contentHeader,children:u.jsx("h4",{children:"Other Important Instructions / Warnings"})}),u.jsx("div",{className:de.contentBody,children:u.jsxs("ol",{children:[u.jsx("li",{children:"The Question paper displayed is for practice purposes only. Under no circumstances should this be presumed as a main paper."}),u.jsx("li",{children:`While writing the exam don't move the mouse to outside of the window. If so a 30 seconds countdown will appear with a request to "Click here to cancel". If you failed to click within the time your exam will be submitted automatically.`}),u.jsx("li",{children:"While writing exam, if you close the exam window intentionally, your exam will be submitted without any further confirmation"})]})})]}),g6="_overlay_fr7p5_1",v6="_container_fr7p5_11",y6="_close_fr7p5_22",up={overlay:g6,container:v6,close:y6},w6=({onCloseHandler:t})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:up.overlay,onClick:t}),u.jsxs("div",{className:up.container,children:[u.jsx("div",{className:up.close,onClick:t,children:u.jsx("button",{children:"X"})}),u.jsx(cT,{}),u.jsx(dT,{})]})]}),_6="_overlay_ty1dv_1",E6="_modal_ty1dv_9",S6="_title_ty1dv_22",x6="_body_ty1dv_32",k6="_footer_ty1dv_37",wa={overlay:_6,modal:E6,title:S6,body:x6,footer:k6},hT=({isAlert:t,closeHandler:e,address:n})=>t[0]?bS.createPortal(u.jsxs(u.Fragment,{children:[u.jsx("div",{className:wa.overlay,onClick:e}),u.jsxs("div",{className:wa.modal,children:[u.jsx("div",{className:wa.title,children:t[1].title}),u.jsx("div",{className:wa.body,children:t[1].content}),u.jsx("div",{className:wa.footer,children:u.jsx("button",{onClick:e,children:t[1].closeContent})})]})]}),document.getElementsByClassName(n)[0]):null,C6=t=>async e=>{try{e(A2(t))}catch(n){console.log(n)}},I6=t=>e=>{try{e(P2(t))}catch(n){console.log(n)}},T6=t=>async e=>{try{e(j2(t))}catch(n){console.log(n)}},N6=t=>async e=>{try{e(D2(t))}catch(n){console.log(n)}},R6=t=>async e=>{try{e(O2(t))}catch(n){console.log(n)}},b6=t=>async e=>{try{e($2(t))}catch(n){console.log(n)}},A6="_view_10nhb_1",P6="_nav_10nhb_8",j6="_navEle_10nhb_18",D6="_addition_10nhb_44",O6="_addBut_10nhb_54",$6="_examPanel_10nhb_58",M6="_examHeader_10nhb_63",L6="_sections_10nhb_69",F6="_section_10nhb_69",U6="_sectionActive_10nhb_101",B6="_components_10nhb_112",V6="_componentActive_10nhb_112",z6="_buttonClass_10nhb_126",H6="_componentClass_10nhb_136",q6="_user_10nhb_165",W6="_image_10nhb_172",K6="_details_10nhb_181",G6="_mainExam_10nhb_187",Q6="_minMax_10nhb_192",Y6="_minMaxRight_10nhb_199",X6="_container_10nhb_216",J6="_questionDisplay_10nhb_222",Z6="_beforeCollapse_10nhb_229",eB="_afterCollapse_10nhb_233",tB="_questionType_10nhb_237",nB="_questionHeader_10nhb_243",rB="_headerElements_10nhb_249",sB="_element1_10nhb_256",iB="_element2_10nhb_261",oB="_positive_10nhb_268",aB="_negative_10nhb_279",lB="_report_10nhb_290",uB="_examNavPanel_10nhb_296",cB="_collapse_10nhb_302",dB="_status_10nhb_306",hB="_card_10nhb_324",fB="_navPanelHeading_10nhb_343",pB="_title_10nhb_352",mB="_questionButtons_10nhb_358",gB="_markOptions_10nhb_369",vB="_basic_10nhb_377",yB="_submit_10nhb_385",wB="_options1_10nhb_403",_B="_options2_10nhb_410",EB="_normal_10nhb_454",SB="_answered_10nhb_458",xB="_notAnswered_10nhb_482",kB="_marked_10nhb_506",CB="_markedS_10nhb_512",IB="_info_10nhb_686",V={view:A6,nav:P6,navEle:j6,addition:D6,addBut:O6,examPanel:$6,examHeader:M6,sections:L6,section:F6,sectionActive:U6,components:B6,componentActive:V6,buttonClass:z6,componentClass:H6,user:q6,image:W6,details:K6,mainExam:G6,minMax:Q6,minMaxRight:Y6,container:X6,questionDisplay:J6,beforeCollapse:Z6,afterCollapse:eB,questionType:tB,questionHeader:nB,headerElements:rB,element1:sB,element2:iB,positive:oB,negative:aB,report:lB,examNavPanel:uB,collapse:cB,status:dB,card:hB,navPanelHeading:fB,title:pB,questionButtons:mB,markOptions:gB,basic:vB,submit:yB,options1:wB,options2:_B,normal:EB,answered:SB,notAnswered:xB,marked:kB,markedS:CB,info:IB},TB=({isRunning:t,countdown:e,dispatchCountdown:n,dispatchTimer:r,timeStateHandler:s})=>{const{hour:i,minute:o,second:a}=e;return S.useEffect(()=>{if(i==0&&o==0&&a==0){s();return}let l;return t?l=setInterval(()=>{n({type:"RunCountdown"}),r({type:"RunTimer"})},1e3):alert("Lamao"),()=>{clearInterval(l)}},[a,o,i]),u.jsx("span",{children:` ${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}:${String(a).padStart(2,"0")}`})},NB=({disabled:t,questions:e,trace:n,onCompClickHandler:r,activeClass:s,buttonClass:i,componentClass:o})=>{const[a,l]=S.useState(null);S.useEffect(()=>{var g;e&&l((g=e[n[0]])==null?void 0:g.components)});const c=S.useRef(null),d=()=>{c.current.scrollLeft-=100},h=()=>{c.current.scrollLeft+=100},p=g=>{r(g)};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"scrollable-container",style:{display:"flex"},children:[u.jsx("button",{className:i,onClick:d,children:"<"}),u.jsx("div",{className:o,ref:c,style:{overflowX:"hidden",display:"flex"},children:a==null?void 0:a.map((g,v)=>u.jsx("button",{disabled:t,className:n[1]==v?s:"",onClick:()=>{p(v)},children:g.componentTitle},v))}),u.jsx("button",{className:i,onClick:h,children:">"})]})})},RB="_overlay_okxa8_1",bB="_container_okxa8_11",AB="_title_okxa8_25",PB="_content_okxa8_35",jB="_close_okxa8_53",_a={overlay:RB,container:bB,title:AB,content:PB,close:jB},DB=({address:t,onCloseHandler:e})=>{const[n,r]=xi(),s=n.get("id");n.get("courseId");const i=S.useRef(),{currentUser:o}=zn(),a=async l=>{if(l.preventDefault(),i.current.value.trim()!=""){const c=Ue(ae,"feedback");try{await Vo(c,{uid:o.uid,userEmail:o.email,feedback:i.current.value,date:new Date().toLocaleString(),id:s,courseId:s}),e()}catch(d){console.log(d),alert("Unexpected Error!")}}};return bS.createPortal(u.jsxs(u.Fragment,{children:[u.jsx("div",{className:_a.overlay,onClick:e}),u.jsxs("div",{className:_a.container,children:[u.jsxs("div",{className:_a.title,children:[u.jsx("span",{children:"Report this Question!"}),u.jsx("div",{className:_a.close,onClick:e,children:"X"})]}),u.jsxs("form",{className:_a.content,children:[u.jsx("textarea",{name:"feedback",id:"",rows:"10",placeholder:"Please type your feedback here. Specify the Specific details like questions number, test Name and course Name.",ref:i}),u.jsx("button",{type:"submit",onClick:l=>{a(l)},children:"Report"})]})]})]}),document.getElementsByClassName(t)[0])},OB=({timer:t})=>{const{hour:e,minute:n,second:r}=t;return u.jsx("span",{children:`${String(e).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`})},$B=({statusComp:t})=>{const{ans:e,nAns:n,mark:r,markS:s,nVisit:i}=t;return u.jsxs("div",{className:V.status,children:[u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.answered,children:e}),u.jsx("div",{className:V.info,children:"Answered"})]}),u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.notAnswered,children:n}),u.jsx("div",{className:V.info,children:"Not Answered"})]}),u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.normal,children:`${i}`}),u.jsx("div",{className:V.info,children:"Not Visited"})]}),u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.marked,children:r}),u.jsx("div",{className:V.info,children:"Marked for review"})]}),u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.markedS,children:s}),u.jsx("div",{className:V.info,children:"Answered & Marked for Review"})]})]})},MB="_questionDiv_hbsts_1",LB="_questionNum_hbsts_11",FB="_question_hbsts_1",UB="_image_hbsts_21",Ea={questionDiv:MB,questionNum:LB,question:FB,image:UB},BB="_options_10weu_5",VB="_check_10weu_29",zB="_checked_10weu_75",cp={options:BB,check:VB,"text-primary":"_text-primary_10weu_65",checked:zB},fT=({question:t,trace:e,onSelect:n,check:r})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:Ea.questionDiv,children:[u.jsxs("div",{className:Ea.questionNum,children:["Question Number: ",e[2]+1]}),u.jsxs("div",{className:Ea.question,children:[t!=null&&t.question.equ?u.jsx(kr,{mathml:t==null?void 0:t.question.equ,className:Ea.question}):"",t!=null&&t.question.img?u.jsx("img",{src:t==null?void 0:t.question.img,className:Ea.image,alt:"image"}):""]})]}),u.jsx("div",{className:cp.options,children:u.jsx("ul",{children:t==null?void 0:t.options.map((s,i)=>u.jsxs("li",{onClick:()=>n(i),children:[u.jsx("div",{className:`${cp.check} ${r==i?cp.checked:"."}`}),u.jsx("input",{type:"radio",value:!1,name:"options",id:i}),u.jsxs("label",{htmlFor:"equation",children:[s.equ?u.jsx(kr,{mathml:s.equ}):"",s.img?u.jsx("img",{src:s.img,alt:"image"}):""]})]},`${e[0]} ${e[1]} ${i}`))})})]}),HB="_integerDiv_1osj5_1",qB="_questionNum_1osj5_6",WB="_question_1osj5_6",KB="_inputBox_1osj5_23",Li={integerDiv:HB,questionNum:qB,question:WB,inputBox:KB},GB=({question:t,trace:e,setCheck:n,check:r})=>u.jsxs("div",{className:Li.integerDiv,children:[u.jsxs("div",{className:Li.questionNum,children:["Question Number: ",e[2]+1]}),u.jsxs("div",{className:Li.question,children:[t!=null&&t.question.equ?u.jsx(kr,{mathml:t==null?void 0:t.question.equ,className:Li.question}):"",t!=null&&t.question.img?u.jsx("img",{src:t==null?void 0:t.question.img,className:Li.image,alt:"image"}):""]}),u.jsx("div",{className:Li.inputBox,children:u.jsx("input",{type:"number",step:"0.01",onChange:s=>n(parseInt(s.target.value)),placeholder:r||r==0?r:"enter integer"})})]}),QB="_directionDiv_1yljw_1",YB="_direction_1yljw_1",XB="_directionHeading_1yljw_16",JB="_content_1yljw_23",ZB="_question_1yljw_29",Us={directionDiv:QB,direction:YB,directionHeading:XB,content:JB,question:ZB},e8=({question:t,trace:e,onSelect:n,check:r,direction:s})=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:Us.directionDiv,children:[u.jsxs("div",{className:Us.direction,children:[u.jsx("div",{className:Us.directionHeading,children:"Direction"}),u.jsxs("div",{className:Us.content,children:[s[t==null?void 0:t.direction].equ?u.jsx(kr,{mathml:s[t==null?void 0:t.direction].equ,className:Us.directionQuestion}):"",s[t==null?void 0:t.direction].img?u.jsx("img",{src:s[t==null?void 0:t.direction].img,className:Us.image,alt:"image"}):""]})]}),u.jsx("div",{className:Us.question,children:u.jsx(fT,{trace:e,question:t,onSelect:n,check:r})})]})}),t8=({question:t,trace:e,check:n,setCheck:r,direction:s})=>{const i=at(a=>a.results.result),o=a=>{r(a)};return S.useEffect(()=>{if(i){const a=`${e[0]} ${e[1]} ${e[2]}`;i[a]||i[a]===0?r(i[a]):r(void 0)}},[e]),u.jsx(u.Fragment,{children:t!=null&&t.direction||(t==null?void 0:t.direction)==0?u.jsx(e8,{question:t,trace:e,onSelect:o,check:n,direction:s}):t!=null&&t.isInt?u.jsx(GB,{question:t,trace:e,setCheck:r,check:n}):u.jsx(fT,{question:t,trace:e,onSelect:o,check:n})})},n8="_buttonCard_1eglz_1",r8="_normal_1eglz_13",s8="_answered_1eglz_17",i8="_notAnswered_1eglz_41",o8="_marked_1eglz_65",a8="_markedS_1eglz_71",Wn={buttonCard:n8,normal:r8,answered:s8,notAnswered:i8,marked:o8,markedS:a8},l8=({effects:t,clickHandler:e,children:n})=>{const[r,s]=S.useState(Wn.buttonCard+" "+Wn.normal);S.useEffect(()=>{t!=null&&t.isMarked&&(t!=null&&t.isAnswered)?s(Wn.buttonCard+" "+Wn.markedS):t!=null&&t.isMarked?s(Wn.buttonCard+" "+Wn.marked):t!=null&&t.isAnswered?s(Wn.buttonCard+" "+Wn.answered):t!=null&&t.isVisited&&s(Wn.buttonCard+" "+Wn.notAnswered)},[t]);const i=()=>{e()};return u.jsx("button",{className:r,onClick:i,children:n})},u8=({component:t,trace:e,status:n,onClickHandler:r})=>u.jsx(u.Fragment,{children:t==null?void 0:t.questions.map((s,i)=>u.jsx(l8,{effects:n[`${e[0]} ${e[1]} ${i}`],clickHandler:()=>{r(i)},children:i+1},`${e[0]} ${e[1]} ${i}`))}),c8=t=>{const e=As(),n=at(j=>j.results.status),[r,s]=S.useReducer(z5,{ans:0,nAns:0,mark:0,markS:0,nVisit:0}),[i,o]=S.useReducer(q5,[0,0]),[a,l]=S.useState(null),[c,d]=S.useState(null),[h,p]=S.useState(null),[g,v]=S.useState(!1);S.useEffect(()=>{t.questions&&t.questions.length>0&&(l(t.questions[t.trace[0]].components[t.trace[1]]),d(t.questions[t.trace[0]].components[t.trace[1]].questions[t.trace[2]]),t.questions[t.trace[0]].components[t.trace[1]].directions&&p(t.questions[t.trace[0]].components[t.trace[1]].directions)),t.questions&&t.questions.length>0&&(t.questions[t.trace[0]].sectionMark?o({type:"SetMarks",payload:[...t.questions[t.trace[0]].sectionMark]}):t.questions[t.trace[0]].components[t.trace[1]].componentMark?o({type:"SetMarks",payload:[...t.questions[t.trace[0]].components[t.trace[1]].componentMark]}):t.questions[t.trace[0]].components[t.trace[1]].questions[t.trace[2]].mark&&o({type:"SetMarks",payload:[...t.questions[t.trace[0]].components[t.trace[1]].questions[t.trace[2]].mark]}))},[t.questions,t.trace]),S.useEffect(()=>{e(C6(t.trace))},[t.trace]),S.useEffect(()=>{const j=a==null?void 0:a.questions.length;s({type:"UpdateStatus",payload:{len:j,status:n,trace:t.trace}})},[n,a]);const w=j=>{t.onQuesClickHandler(j)},_=()=>{t.timeHandlers.quesHandler(t.trace[2]-1),e(Jm(t.trace[2]-1))},f=()=>{if(t.questions[t.trace[0]].components[t.trace[1]].questions[t.trace[2]+1]){const j=t.trace[2]+1;t.timeHandlers.quesHandler(j),e(Jm(j))}else if(t.questions[t.trace[0]].components[t.trace[1]+1]&&!t.timeState.isComponent[0])t.timeHandlers.compHandler(t.trace[1]+1),e(Zm(t.trace[1]+1));else if(t.questions[t.trace[0]+1]&&!t.timeState.isComponent[0]&&!t.timeState.isSection[0])t.timeHandlers.sectionHandler(t.trace[0]+1),e(Za(t.trace[0]+1));else{if(t.timeState.isComponent[0]||t.timeState.isSection[0]){t.dispatchAlert({type:"Set",payload:{title:"Alert!",content:"Wait for current time to end to move forward to the next section!",closeContent:"close"}});return}t.dispatchAlert({type:"Set",payload:{title:"Alert!",content:"You have come to the end of the test",closeContent:"close"}}),e(Za(0))}},m=()=>{t.setCheck(void 0),e(I6(t.trace))},y=()=>{if(t.check||t.check===0){const j=[...t.trace,t.check];e(R6(j)),f()}else e(N6(t.trace)),f()},E=()=>{if(t.check||t.check===0){const j=[...t.trace,t.check];e(T6(j)),f()}else t.dispatchAlert({type:"Set",payload:{title:"Alert!",content:"Please select an option",closeContent:"close"}})},[x,I]=S.useState(!1),N=V.questionDisplay+" "+(x?V.afterCollapse:V.beforeCollapse),P=V.examNavPanel+" "+(x?V.collapse:"");return u.jsxs(u.Fragment,{children:[g&&u.jsx(DB,{address:"fullscreen",onCloseHandler:()=>{v(!1)}}),u.jsxs("div",{className:V.container,children:[u.jsxs("div",{className:N,children:[u.jsxs("div",{className:V.questionType,children:["Question Type:"," ",c!=null&&c.isInt?"Integer Type":"Multiple Choice Question"]}),u.jsx("div",{className:V.questionHeader,children:u.jsxs("div",{className:V.headerElements,children:[u.jsxs("div",{className:V.element1,children:[u.jsx("label",{htmlFor:"lang",children:"View : "}),u.jsx("select",{name:"lang",defaultValue:0,children:u.jsx("option",{value:"0",children:"English"})})]}),u.jsxs("div",{className:V.element2,children:[u.jsxs("div",{className:V.positive,children:[u.jsx("i",{className:"fa-solid fa-thumbs-up"})," ",u.jsxs("div",{children:["+",i[0]]})]}),u.jsxs("div",{className:V.negative,children:[u.jsx("i",{className:"fa-solid fa-thumbs-down"})," ",u.jsxs("div",{children:["-",i[1]]})]}),u.jsxs("div",{children:[u.jsx("i",{className:"fa-regular fa-clock"})," ",u.jsx(OB,{timer:t.timer})]}),u.jsxs("div",{className:V.report,onClick:()=>{v(!0)},children:[u.jsx("i",{className:"fa-solid fa-bug"})," Report"]})]})]})}),u.jsx(t8,{question:c,trace:t.trace,check:t.check,setCheck:t.setCheck,direction:h})]}),u.jsx("div",{className:x?V.minMaxRight:V.minMax,children:u.jsx("button",{onClick:()=>{I(j=>!j)},children:x?u.jsx("span",{children:"<"}):u.jsx("span",{children:">"})})}),u.jsxs("div",{className:P,children:[u.jsx($B,{statusComp:r}),u.jsx("div",{className:V.navPanelHeading,children:a==null?void 0:a.componentTitle}),u.jsx("div",{className:V.title,children:"Choose a question"}),u.jsx("div",{className:V.questionButtons,children:u.jsx(u8,{component:a,trace:t.trace,status:n,onClickHandler:w})})]})]}),u.jsxs("div",{className:V.markOptions,children:[u.jsxs("div",{className:V.basic,children:[u.jsxs("div",{className:V.options1,children:[u.jsx("button",{onClick:y,children:"Mark for Review & Next"}),u.jsx("button",{onClick:m,children:"Clear Response"})]}),u.jsxs("div",{className:V.options2,children:[t.trace&&t.trace[2]!=0?u.jsx("button",{onClick:_,children:"Previous"}):u.jsx("span",{}),u.jsx("button",{onClick:E,children:"Save & Next"})]})]}),u.jsx("div",{className:V.submit,children:u.jsx("button",{children:"Submit"})})]})]})},d8=t=>{var L;const e=at($=>$.user.data),[n,r]=xi(),s=n.get("id"),i=n.get("courseId"),o=n.get("testId"),a=As(),l=fn(),[c,d]=S.useState(void 0),h=at($=>$.questions.trace),[p,g]=S.useState(!0),[v,w]=S.useReducer(B5,{hour:0,minute:0,second:0}),[_,f]=S.useReducer(V5,{hour:3,minute:0,second:0}),[m,y]=S.useReducer(H5,{isTotal:!0,isSection:[!1,0],isComponent:[!1,0,0]}),E=()=>{const $=[v.hour,v.minute,v.second],Ee=`${h[0]} ${h[1]} ${h[2]}`;a(b6({arr:$,index:Ee}))},x=at($=>$.results.timer),I={sectionHandler:$=>{if(E(),x){const Ee=`${$} 0 0`;x[Ee]?w({type:"SetTimer",payload:[...x[Ee]]}):w({type:"SetTimer",payload:[0,0,0]})}},compHandler:$=>{if(E(),x){const Ee=`${h[0]} ${$} 0`;x[Ee]?w({type:"SetTimer",payload:[...x[Ee]]}):w({type:"SetTimer",payload:[0,0,0]})}},quesHandler:$=>{if(E(),x){const Ee=`${h[0]} ${h[1]} ${$}`;x[Ee]?w({type:"SetTimer",payload:[...x[Ee]]}):w({type:"SetTimer",payload:[0,0,0]})}},timeStateHandler:()=>{if(m.isTotal){l("/result?id="+s+"&courseId="+i+"&courseName="+t.courseName+"&testId="+o);return}else if(m.isSection[0]){const $=m.isSection[1];t.questions[$+1]?(y({type:"SetSection",index:$+1}),I.sectionHandler($+1),a(Za($+1))):(E(),l("/result?id="+s+"&courseId="+i+"&courseName="+t.courseName+"&testId="+o))}else if(m.isComponent[0]){const $=[m.isComponent[1],m.isComponent[2]];t.questions[$[0]].components[$[1]+1]?(y({type:"SetComp",arr:[$[0],$[1]+1]}),I.compHandler($[1]+1),a(Zm($[1]+1))):t.questions[$[0]+1]?(y({type:"SetComp",arr:[$[0]+1,0]}),I.sectionHandler($[0]+1),a(Za($[0]+1))):(E(),l("/result?id="+s+"&courseId="+i+"&courseName="+t.courseName+"&testId="+o))}}};S.useEffect(()=>{t.questions&&t.questions.length>0&&(t.questions[0].totalTime?y({type:"SetTotal"}):t.questions[0].sectionTime?y({type:"SetSection",index:0}):t.questions[0].components[0].componentTime&&y({type:"SetComp",arr:[0,0]}))},[t.questions]),S.useEffect(()=>{t.questions&&t.questions.length>0&&(m.isTotal?f({type:"SetCountdown",payload:[...t.questions[0].totalTime]}):m.isSection[0]?f({type:"SetCountdown",payload:[...t.questions[m.isSection[1]].sectionTime]}):m.isComponent[0]&&f({type:"SetCountdown",payload:[...t.questions[m.isComponent[1]].components[m.isComponent[2]].componentTime]}))},[m]);const N=$=>{I.sectionHandler($),a(Za($))},P=$=>{I.compHandler($),a(Zm($))},j=$=>{I.quesHandler($),a(Jm($))};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:V.examHeader,children:[u.jsxs("div",{className:V.sections,children:[u.jsxs("div",{className:V.section,children:[u.jsx("div",{className:V.sectionElements,children:(L=t.questions)==null?void 0:L.map(($,Ee)=>u.jsx("button",{disabled:m.isSection[0]||m.isComponent[0],className:h[0]==Ee?V.sectionActive:"",onClick:()=>{N(Ee)},children:$.sectionTitle},Ee))}),u.jsxs("div",{className:V.timer,style:{display:"flex",alignItems:"center"},children:[m.isTotal?"Total Time left : ":m.isSection[0]?`${t.questions[m.isSection[1]].sectionTitle} Time left : `:`${t.questions[m.isComponent[1]].components[m.isComponent[2]].componentTitle} Time left : `,u.jsx(TB,{isRunning:p,countdown:_,dispatchCountdown:f,dispatchTimer:w,timeStateHandler:I.timeStateHandler})]})]}),u.jsx("div",{className:V.components,children:u.jsx(NB,{disabled:m.isComponent[0],questions:t.questions,trace:h,activeClass:V.componentActive,onCompClickHandler:P,buttonClass:V.buttonClass,componentClass:V.componentClass})})]}),u.jsxs("div",{className:V.user,children:[u.jsx("div",{className:V.image,children:u.jsx("img",{src:e.photo,onError:$=>{$.target.onerror=null,$.target.src="/assets/user.jpeg"}})}),u.jsxs("div",{className:V.details,children:[u.jsx("p",{children:e.name}),u.jsx("p",{children:e!=null&&e.mobile?e.mobile:"MobileNumber"})]})]})]}),u.jsx("div",{className:V.mainExam,children:u.jsx(c8,{timeHandlers:I,questions:t.questions,trace:h,check:c,setCheck:d,onQuesClickHandler:j,timer:v,timeState:m,dispatchAlert:t.dispatchAlert})})]})},h8=()=>{const[t,e]=xi(),n=t.get("id"),r=t.get("courseName"),s=fn(),[i,o]=S.useState(!1),[{status:a}]=U5(n),[l,c]=S.useReducer(W5,[!1,{}]);if(a=="server")return alert("Server Error"),s("/user"),u.jsx(u.Fragment,{children:"Server Error"});const d=at(w=>w.questions.queue),[h,p]=S.useState(!0),g=G5(),v=()=>{h?g.enter():g.exit()};return S.useEffect(()=>{v()},[h]),u.jsx(u.Fragment,{children:u.jsxs(Q5,{handle:g,className:V.view,children:[u.jsx(hT,{isAlert:l,closeHandler:()=>c({type:"Reset"}),address:"fullscreen"}),i&&u.jsx(w6,{onCloseHandler:()=>{o(!1)}}),u.jsxs("div",{className:V.nav,children:[u.jsxs("div",{className:V.navEle,children:[u.jsx("span",{children:u.jsx("img",{style:{paddingTop:"0.2rem"},src:"/assets/AppLogo.png",alt:""})})," ",u.jsx("span",{children:r})]}),u.jsx("div",{className:V.navEle,children:u.jsx("button",{onClick:()=>{p(w=>!w)},children:u.jsx("i",{className:"fa-solid fa-expand"})})})]}),u.jsx("div",{className:V.addition,children:u.jsx("div",{className:V.addBut,onClick:()=>{o(!0)},children:"Instructions"})}),u.jsx("div",{className:V.examPanel,children:u.jsx(d8,{questions:d,dispatchAlert:c,courseName:r})})]})})},f8=t=>{const e=at(d=>d.user.data),[n,r]=S.useState([!1,{}]),s=S.useRef(),i=S.useRef(),[o,a]=S.useState(!1),l=()=>{if(i.current.value==0){r([!0,{title:"Alert",content:"Please select a default language",closeContent:"okay"}]);return}if(!s.current.checked){r([!0,{title:"Alert",content:"Please accept the conditions",closeContent:"okay"}]);return}t.onAcceptHandler()};let c;return o?c=u.jsxs(u.Fragment,{children:[u.jsx(hT,{isAlert:n,closeHandler:()=>{r([!1,{}])},address:"float"}),u.jsx(dT,{}),u.jsx("div",{className:de.buttonNavigate,children:u.jsx("button",{onClick:()=>{a(!1)},children:"<< Previous"})}),u.jsxs("div",{className:de.confirm,children:[u.jsxs("p",{children:["Choose your default language ",u.jsxs("select",{ref:i,defaultValue:0,children:[u.jsx("option",{value:"0",children:"--Select--"}),u.jsx("option",{value:"1",children:"English"})]})," "]}),u.jsx("p",{style:{color:"red"},children:"Please note that all questions will appear in your default language. This language can be changed for a particular question later on."}),u.jsx("br",{}),u.jsx("input",{type:"checkbox",ref:s}),u.jsxs("label",{children:[" ","I have read and understood the instructions. All Computer Hardwares alloted to me are in proper working condition. I agree that in case of not adhering to the instructions, I will be disqualified from giving the exam."]}),u.jsx("br",{}),u.jsx("br",{}),u.jsx("div",{children:u.jsx("button",{onClick:l,children:"I am ready to begin"})})]})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(cT,{}),u.jsx("div",{className:de.buttonNavigate,children:u.jsx("button",{onClick:()=>{a(!0)},children:"Next >>"})})]}),u.jsxs("div",{className:de.view,children:[u.jsx("div",{className:de.heading,children:"Instructions"}),u.jsxs("div",{className:de.container,children:[u.jsx("div",{className:de.instructions,children:c}),u.jsxs("div",{className:de.userDetails,children:[u.jsx("img",{src:e==null?void 0:e.photo,onError:d=>{d.target.onerror=null,d.target.src="/assets/user.jpeg"}}),u.jsx("p",{children:e!=null&&e.mobile?e.mobile:"MobileNumber"})]})]})]})},p8=()=>{const t=()=>{n(u.jsx(h8,{}))},[e,n]=S.useState(u.jsx(f8,{onAcceptHandler:t}));return u.jsx(u.Fragment,{children:e})},m8="_view_j2th3_1",g8="_details_j2th3_9",v8="_userDetails_j2th3_14",y8="_result_j2th3_30",w8="_resultTable_j2th3_78",_8="_examSummary_j2th3_93",E8="_navigation_j2th3_97",Fi={view:m8,details:g8,userDetails:v8,result:y8,resultTable:w8,examSummary:_8,navigation:E8},S8=t=>{const e=As();S.useEffect(()=>{(async()=>{try{if(t){const r=Ue(ae,"enrollments"),s=Xt(r,ke("uid","==",t)),i=await At(s);if(i.docs.length!=0){const o=i.docs.map(a=>({...a.data(),id:a.id}));e(nx(o))}}}catch(r){console.log(r)}})()})},x8=async()=>{const t={};try{const e=Ue(ae,"courses"),n=it(Ue(ae,"homepage"),"EHUwKuyIsRPKzEY7fcXy"),r=await At(e);if(!r.empty){const i=r.docs.map(o=>({...o.data(),id:o.id}));t.courses=i}const s=await vs(n);return s.exists&&(t.images=[...s.data().images]),t}catch(e){console.log(e)}},k8=async({request:t})=>{const e=new URL(t.url),n=e.searchParams.get("user"),r=e.searchParams.get("testId"),s=e.searchParams.get("courseId"),i=(o,a)=>{const l=new Date(o.date).getTime();return new Date(a.date).getTime()-l};try{const o=Xt(Ue(ae,"enrollments"),ke("uid","==",n),ke("courseId","==",s)),l={...(await At(o)).docs[0].data().status},c=Xt(Ue(ae,"results_simple"),ke("uid","==",n),ke("courseId","==",s),ke("testSeriesId","==",r)),h=(await At(c)).docs.map(g=>({...g.data(),id:g.id}));h.sort(i);const p=[];for(let g in h){const v=h[g].examId,w=h[g].courseId,_=Xt(Ue(ae,"results_simple"),ke("examId","==",v),ke("courseId","==",w),ke("testSeriesId","==",r),ke("marks",">",h[g].marks)),m=(await At(_)).docs.length;p.push({courseName:h[g].courseName,marks:h[g].marks,maxMarks:h[g].maxMarks,rank:m+1,attempts:l[v][1]})}return p}catch(o){console.log(o)}return{}},C8=async({request:t})=>{const e=new URL(t.url),n=e.searchParams.get("id"),r=e.searchParams.get("courseId"),s=e.searchParams.get("user"),i=e.searchParams.get("role");if(!n||!r||!s||!i)return{};try{const o=it(ae,"test_series",n),a=await vs(o);if(a.exists()){const l=a.data();return l.exams=l.exams.filter(c=>c.role!="classroom"),l}}catch(o){console.log(o)}return{}},I8=()=>{const t=at(p=>p.user.data),e=at(p=>p.user.myCourses),[n,r]=xi(),s=n.get("id"),i=n.get("testId"),o=n.get("courseId"),a=n.get("courseName"),{currentUser:l}=zn(),[c,d]=A5({uid:l.uid,examId:s,courseName:a,courseId:o,courses:e,testSeriesId:i});c&&S8(t.uid);const h=fn();return u.jsxs("div",{className:Fi.view,children:[u.jsxs("div",{className:Fi.details,children:[u.jsx("div",{className:Fi.result,children:u.jsx(uT,{result:c,classes:Fi})}),u.jsxs("div",{className:Fi.navigation,children:[u.jsx("button",{onClick:()=>{h("/")},children:"Home"}),u.jsx("button",{onClick:()=>{h("/login")},children:"Dashboard"})]})]}),u.jsxs("div",{className:Fi.userDetails,children:[u.jsx("img",{src:t.photo,onError:p=>{p.target.onerror=null,p.target.src="/assets/user.jpeg"}}),u.jsx("p",{children:t!=null&&t.mobile?t.mobile:"MobileNumber"})]})]})},T8="_view_uhgb2_1",N8="_container_uhgb2_18",R8="_photo_uhgb2_33",b8="_details_uhgb2_77",A8="_inputs_uhgb2_90",P8="_edit_uhgb2_112",j8="_close_uhgb2_125",D8="_save_uhgb2_134",O8="_changeEmail_uhgb2_143",An={view:T8,container:N8,photo:R8,details:b8,inputs:A8,edit:P8,close:j8,save:D8,changeEmail:O8},$8=()=>{const{sendPasswordReset:t}=zn(),e=at(d=>d.user.data),[n,r]=S.useState(!1),s=As(),[i,o]=S.useState({name:e==null?void 0:e.name,email:e==null?void 0:e.email,mobile:e==null?void 0:e.mobile}),a=async d=>{if(d)if(d.size/1024<100)try{const h=JI(ZI,`/users/${e.uid}`),p=await YI(h,d),g=await XI(p.ref),v=it(Ue(ae,"users"),e.id),w=await Mn(v,{photo:g});s(um({...e,photo:g}))}catch(h){console.log(h)}else alert("Please upload image less than 100kb!")},l=async()=>{try{const d=await t(e.email);alert("Password Reset link Sent to mail!")}catch(d){alert("Error: "+d.message)}},c=async()=>{if(i.name!=""||i.mobile!=""){const d=/^[a-zA-Z\s]+$/,h=/^\d{10}$/,p=/^[1-9][0-9]{9}$/;if(d.test(i.name)){if(!h.test(i.mobile)||!p.test(i.mobile)){alert("Please enter a valid Mobile Number");return}}else{alert("Only Alphabets!");return}try{const g=it(Ue(ae,"users"),e.id),v=await Mn(g,{name:i.name,mobile:i.mobile});s(um({...e,name:i.name,mobile:i.mobile})),r(!1)}catch(g){console.log(g),alert("Error: "+g.message)}}else alert("Please enter your Name / Mobile Number!")};return u.jsx("div",{className:An.view,children:u.jsxs("div",{className:An.container,children:[u.jsxs("div",{className:An.photo,children:[u.jsx("img",{src:e.photo,onError:d=>{d.target.onerror=null,d.target.src="/assets/user.jpeg"}}),u.jsxs("p",{children:[u.jsx("label",{htmlFor:"imageChange",children:"Change Photo"})," ",u.jsx("input",{type:"file",accept:"image/*",id:"imageChange",onChange:d=>{a(d.target.files[0])}})]}),u.jsxs(fs,{to:"/user",children:[" ",u.jsx("i",{className:"fa-solid fa-left-long"})," Dashboard"]})]}),u.jsxs("div",{className:An.details,children:[u.jsxs("div",{className:An.inputs,children:[u.jsx("h3",{children:"Your details"}),u.jsxs("p",{children:[u.jsxs("label",{htmlFor:"Email",children:[u.jsx("strong",{children:"Email :"})," "]})," ",u.jsx("input",{type:"email",id:"Email",value:i.email,disabled:!0})]}),u.jsxs("p",{children:[u.jsxs("label",{htmlFor:"name",children:[u.jsx("strong",{children:"Full Name:"})," "]}),u.jsx("input",{type:"text",id:"name",value:i.name,disabled:!n,onChange:d=>{o(h=>({...h,name:d.target.value}))}})]}),u.jsxs("p",{children:[u.jsx("label",{htmlFor:"mobile",children:u.jsx("strong",{children:"Mobile Number : "})})," ",u.jsx("input",{type:"text",value:i.mobile,disabled:!n,onChange:d=>{o(h=>({...h,mobile:d.target.value}))}})]}),u.jsx("div",{className:An.edit,children:n?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{r(!1),o({name:e==null?void 0:e.name,email:e==null?void 0:e.email,mobile:e==null?void 0:e.mobile})},className:An.close,children:"Cancel"}),u.jsx("button",{className:An.save,onClick:c,children:"Save"})]}):u.jsx("button",{onClick:()=>{r(!0)},className:An.save,children:"Edit"})})]}),u.jsx("div",{className:An.changeEmail,children:u.jsx("button",{onClick:()=>{l()},children:"Change Password?"})})]}),u.jsx("div",{className:An.content})]})})},M8="_loader_1relu_4",L8="_dot_1relu_11",F8="_slide_1relu_1",Ui={loader:M8,dot:L8,slide:F8},U8=()=>{const{state:t}=UA();return t=="loading"?u.jsxs("div",{className:Ui.loader,children:[u.jsx("div",{className:Ui.dot}),u.jsx("div",{className:Ui.dot}),u.jsx("div",{className:Ui.dot}),u.jsx("div",{className:Ui.dot}),u.jsx("div",{className:Ui.dot})]}):u.jsx(u.Fragment,{children:u.jsx(yx,{})})},B8=JA(pm(u.jsxs(St,{path:"/",element:u.jsx(U8,{}),children:[u.jsx(St,{index:!0,element:u.jsx(SU,{}),loader:x8}),u.jsx(St,{path:"/login",element:u.jsx($9,{})}),u.jsx(St,{path:"/signup",element:u.jsx(X9,{})}),u.jsx(St,{path:"/profile",element:u.jsx(Gu,{children:u.jsx($8,{})})}),u.jsxs(St,{path:"/user",element:u.jsx(Gu,{children:u.jsx(LF,{})}),children:[u.jsx(St,{index:!0,element:u.jsx(OU,{})}),u.jsx(St,{path:"/user/live",element:u.jsx(HU,{})}),u.jsx(St,{path:"/user/test",element:u.jsx(i5,{}),loader:C8}),u.jsx(St,{path:"/user/viewResult",element:u.jsx(F5,{}),loader:k8}),u.jsx(St,{path:"/user/feedback",element:u.jsx(GU,{})}),u.jsx(St,{path:"/user/Typetest",element:u.jsx("p",{children:"Type Test"})})]}),u.jsx(St,{path:"/online-exam",element:u.jsx(Gu,{children:u.jsx(p8,{})})}),u.jsx(St,{path:"/result",element:u.jsx(Gu,{children:u.jsx(I8,{})})}),u.jsx(St,{path:"*",element:u.jsx(vx,{to:"/",replace:!0})})]})));function V8(){return u.jsx(iF,{children:u.jsx(zA,{router:B8})})}dp.createRoot(document.getElementById("root")).render(u.jsx(u.Fragment,{children:u.jsx(Pb,{store:U2,children:u.jsx(V8,{})})}));
