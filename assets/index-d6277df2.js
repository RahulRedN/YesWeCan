(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function v_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y_={exports:{}},wd={},w_={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=Symbol.for("react.element"),xT=Symbol.for("react.portal"),kT=Symbol.for("react.fragment"),CT=Symbol.for("react.strict_mode"),IT=Symbol.for("react.profiler"),TT=Symbol.for("react.provider"),NT=Symbol.for("react.context"),bT=Symbol.for("react.forward_ref"),RT=Symbol.for("react.suspense"),AT=Symbol.for("react.memo"),jT=Symbol.for("react.lazy"),Ky=Symbol.iterator;function PT(t){return t===null||typeof t!="object"?null:(t=Ky&&t[Ky]||t["@@iterator"],typeof t=="function"?t:null)}var __={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,S_={};function Ho(t,e,n){this.props=t,this.context=e,this.refs=S_,this.updater=n||__}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x_(){}x_.prototype=Ho.prototype;function tg(t,e,n){this.props=t,this.context=e,this.refs=S_,this.updater=n||__}var ng=tg.prototype=new x_;ng.constructor=tg;E_(ng,Ho.prototype);ng.isPureReactComponent=!0;var Gy=Array.isArray,k_=Object.prototype.hasOwnProperty,rg={current:null},C_={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)k_.call(e,r)&&!C_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Bl,type:t,key:i,ref:o,props:s,_owner:rg.current}}function DT(t,e){return{$$typeof:Bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bl}function OT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qy=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OT(""+t.key):e.toString(36)}function ec(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bl:case xT:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jh(o,0):r,Gy(s)?(n="",t!=null&&(n=t.replace(Qy,"$&/")+"/"),ec(s,e,n,"",function(c){return c})):s!=null&&(sg(s)&&(s=DT(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Qy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Gy(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Jh(i,a);o+=ec(i,e,n,l,s)}else if(l=PT(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Jh(i,a++),o+=ec(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var r=[],s=0;return ec(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $T(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},tc={transition:null},LT={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:tc,ReactCurrentOwner:rg};ue.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!sg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Ho;ue.Fragment=kT;ue.Profiler=IT;ue.PureComponent=tg;ue.StrictMode=CT;ue.Suspense=RT;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LT;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=rg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)k_.call(e,l)&&!C_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Bl,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:NT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TT,_context:t},t.Consumer=t};ue.createElement=I_;ue.createFactory=function(t){var e=I_.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:bT,render:t}};ue.isValidElement=sg;ue.lazy=function(t){return{$$typeof:jT,_payload:{_status:-1,_result:t},_init:$T}};ue.memo=function(t,e){return{$$typeof:AT,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=tc.transition;tc.transition={};try{t()}finally{tc.transition=e}};ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ue.useCallback=function(t,e){return Ft.current.useCallback(t,e)};ue.useContext=function(t){return Ft.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Ft.current.useEffect(t,e)};ue.useId=function(){return Ft.current.useId()};ue.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Ft.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};ue.useRef=function(t){return Ft.current.useRef(t)};ue.useState=function(t){return Ft.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Ft.current.useTransition()};ue.version="18.2.0";w_.exports=ue;var S=w_.exports;const ig=v_(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT=S,FT=Symbol.for("react.element"),UT=Symbol.for("react.fragment"),BT=Object.prototype.hasOwnProperty,VT=MT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zT={key:!0,ref:!0,__self:!0,__source:!0};function T_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BT.call(e,r)&&!zT.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:FT,type:t,key:i,ref:o,props:s,_owner:VT.current}}wd.Fragment=UT;wd.jsx=T_;wd.jsxs=T_;y_.exports=wd;var u=y_.exports,hp={},N_={exports:{}},dn={},b_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,ee){var se=F.length;F.push(ee);e:for(;0<se;){var oe=se-1>>>1,Ae=F[oe];if(0<s(Ae,ee))F[oe]=ee,F[se]=Ae,se=oe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ee=F[0],se=F.pop();if(se!==ee){F[0]=se;e:for(var oe=0,Ae=F.length,Ms=Ae>>>1;oe<Ms;){var dr=2*(oe+1)-1,gn=F[dr],hr=dr+1,ji=F[hr];if(0>s(gn,se))hr<Ae&&0>s(ji,gn)?(F[oe]=ji,F[hr]=se,oe=hr):(F[oe]=gn,F[dr]=se,oe=dr);else if(hr<Ae&&0>s(ji,se))F[oe]=ji,F[hr]=se,oe=hr;else break e}}return ee}function s(F,ee){var se=F.sortIndex-ee.sortIndex;return se!==0?se:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=F)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function E(F){if(w=!1,y(F),!v)if(n(l)!==null)v=!0,mn(x);else{var ee=n(c);ee!==null&&Ls(E,ee.startTime-F)}}function x(F,ee){v=!1,w&&(w=!1,p(j),j=-1),g=!0;var se=f;try{for(y(ee),h=n(l);h!==null&&(!(h.expirationTime>ee)||F&&!$());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,f=h.priorityLevel;var Ae=oe(h.expirationTime<=ee);ee=t.unstable_now(),typeof Ae=="function"?h.callback=Ae:h===n(l)&&r(l),y(ee)}else r(l);h=n(l)}if(h!==null)var Ms=!0;else{var dr=n(c);dr!==null&&Ls(E,dr.startTime-ee),Ms=!1}return Ms}finally{h=null,f=se,g=!1}}var I=!1,N=null,j=-1,P=5,M=-1;function $(){return!(t.unstable_now()-M<P)}function Ee(){if(N!==null){var F=t.unstable_now();M=F;var ee=!0;try{ee=N(!0,F)}finally{ee?Vt():(I=!1,N=null)}}else I=!1}var Vt;if(typeof m=="function")Vt=function(){m(Ee)};else if(typeof MessageChannel<"u"){var bn=new MessageChannel,cr=bn.port2;bn.port1.onmessage=Ee,Vt=function(){cr.postMessage(null)}}else Vt=function(){_(Ee,0)};function mn(F){N=F,I||(I=!0,Vt())}function Ls(F,ee){j=_(function(){F(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,mn(x))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var se=f;f=ee;try{return F()}finally{f=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=f;f=F;try{return ee()}finally{f=se}},t.unstable_scheduleCallback=function(F,ee,se){var oe=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?oe+se:oe):se=oe,F){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=se+Ae,F={id:d++,callback:ee,priorityLevel:F,startTime:se,expirationTime:Ae,sortIndex:-1},se>oe?(F.sortIndex=se,e(c,F),n(l)===null&&F===n(c)&&(w?(p(j),j=-1):w=!0,Ls(E,se-oe))):(F.sortIndex=Ae,e(l,F),v||g||(v=!0,mn(x))),F},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(F){var ee=f;return function(){var se=f;f=ee;try{return F.apply(this,arguments)}finally{f=se}}}})(R_);b_.exports=R_;var HT=b_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_=S,ln=HT;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j_=new Set,nl={};function Si(t,e){ko(t,e),ko(t+"Capture",e)}function ko(t,e){for(nl[t]=e,t=0;t<e.length;t++)j_.add(e[t])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=Object.prototype.hasOwnProperty,qT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yy={},Xy={};function WT(t){return fp.call(Xy,t)?!0:fp.call(Yy,t)?!1:qT.test(t)?Xy[t]=!0:(Yy[t]=!0,!1)}function KT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GT(t,e,n,r){if(e===null||typeof e>"u"||KT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var og=/[\-:]([a-z])/g;function ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(og,ag);yt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(og,ag);yt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(og,ag);yt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function lg(t,e,n,r){var s=yt.hasOwnProperty(e)?yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GT(e,n,s,r)&&(n=null),r||s===null?WT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=A_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),ug=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),P_=Symbol.for("react.provider"),D_=Symbol.for("react.context"),cg=Symbol.for("react.forward_ref"),mp=Symbol.for("react.suspense"),gp=Symbol.for("react.suspense_list"),dg=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),O_=Symbol.for("react.offscreen"),Jy=Symbol.iterator;function oa(t){return t===null||typeof t!="object"?null:(t=Jy&&t[Jy]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,Zh;function ka(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ef=!1;function tf(t,e){if(!t||ef)return"";ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ka(t):""}function QT(t){switch(t.tag){case 5:return ka(t.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return t=tf(t.type,!1),t;case 11:return t=tf(t.type.render,!1),t;case 1:return t=tf(t.type,!0),t;default:return""}}function vp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ki:return"Fragment";case Wi:return"Portal";case pp:return"Profiler";case ug:return"StrictMode";case mp:return"Suspense";case gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D_:return(t.displayName||"Context")+".Consumer";case P_:return(t._context.displayName||"Context")+".Provider";case cg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dg:return e=t.displayName||null,e!==null?e:vp(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return vp(t(e))}catch{}}return null}function YT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vp(e);case 8:return e===ug?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XT(t){var e=$_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=XT(t))}function L_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yp(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M_(t,e){e=e.checked,e!=null&&lg(t,"checked",e,!1)}function wp(t,e){M_(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_p(t,e.type,n):e.hasOwnProperty("defaultValue")&&_p(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function e0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _p(t,e,n){(e!=="number"||_c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ca=Array.isArray;function ao(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function t0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Ca(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function F_(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function n0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ku,B_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ku=ku||document.createElement("div"),ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JT=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(t){JT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$a[e]=$a[t]})});function V_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$a.hasOwnProperty(t)&&$a[t]?(""+e).trim():e+"px"}function z_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=V_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ZT=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xp(t,e){if(e){if(ZT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function kp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=null;function hg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ip=null,lo=null,uo=null;function r0(t){if(t=Hl(t)){if(typeof Ip!="function")throw Error(R(280));var e=t.stateNode;e&&(e=kd(e),Ip(t.stateNode,t.type,e))}}function H_(t){lo?uo?uo.push(t):uo=[t]:lo=t}function q_(){if(lo){var t=lo,e=uo;if(uo=lo=null,r0(t),e)for(t=0;t<e.length;t++)r0(e[t])}}function W_(t,e){return t(e)}function K_(){}var nf=!1;function G_(t,e,n){if(nf)return t(e,n);nf=!0;try{return W_(t,e,n)}finally{nf=!1,(lo!==null||uo!==null)&&(K_(),q_())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var r=kd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Tp=!1;if(Rr)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Tp=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Tp=!1}function eN(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var La=!1,Ec=null,Sc=!1,Np=null,tN={onError:function(t){La=!0,Ec=t}};function nN(t,e,n,r,s,i,o,a,l){La=!1,Ec=null,eN.apply(tN,arguments)}function rN(t,e,n,r,s,i,o,a,l){if(nN.apply(this,arguments),La){if(La){var c=Ec;La=!1,Ec=null}else throw Error(R(198));Sc||(Sc=!0,Np=c)}}function xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function s0(t){if(xi(t)!==t)throw Error(R(188))}function sN(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return s0(s),t;if(i===r)return s0(s),e;i=i.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Y_(t){return t=sN(t),t!==null?X_(t):null}function X_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X_(t);if(e!==null)return e;t=t.sibling}return null}var J_=ln.unstable_scheduleCallback,i0=ln.unstable_cancelCallback,iN=ln.unstable_shouldYield,oN=ln.unstable_requestPaint,qe=ln.unstable_now,aN=ln.unstable_getCurrentPriorityLevel,fg=ln.unstable_ImmediatePriority,Z_=ln.unstable_UserBlockingPriority,xc=ln.unstable_NormalPriority,lN=ln.unstable_LowPriority,eE=ln.unstable_IdlePriority,_d=null,er=null;function uN(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(_d,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:hN,cN=Math.log,dN=Math.LN2;function hN(t){return t>>>=0,t===0?32:31-(cN(t)/dN|0)|0}var Cu=64,Iu=4194304;function Ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ia(a):(i&=o,i!==0&&(r=Ia(i)))}else o=n&~s,o!==0?r=Ia(o):i!==0&&(r=Ia(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),s=1<<n,r|=t[n],e&=~s;return r}function fN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Fn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=fN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function bp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tE(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function mN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Fn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ye=0;function nE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rE,mg,sE,iE,oE,Rp=!1,Tu=[],is=null,os=null,as=null,il=new Map,ol=new Map,Gr=[],gN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o0(t,e){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function la(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hl(e),e!==null&&mg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function vN(t,e,n,r,s){switch(e){case"focusin":return is=la(is,t,e,n,r,s),!0;case"dragenter":return os=la(os,t,e,n,r,s),!0;case"mouseover":return as=la(as,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return il.set(i,la(il.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ol.set(i,la(ol.get(i)||null,t,e,n,r,s)),!0}return!1}function aE(t){var e=Ks(t.target);if(e!==null){var n=xi(e);if(n!==null){if(e=n.tag,e===13){if(e=Q_(n),e!==null){t.blockedOn=e,oE(t.priority,function(){sE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cp=r,n.target.dispatchEvent(r),Cp=null}else return e=Hl(n),e!==null&&mg(e),t.blockedOn=n,!1;e.shift()}return!0}function a0(t,e,n){nc(t)&&n.delete(e)}function yN(){Rp=!1,is!==null&&nc(is)&&(is=null),os!==null&&nc(os)&&(os=null),as!==null&&nc(as)&&(as=null),il.forEach(a0),ol.forEach(a0)}function ua(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,yN)))}function al(t){function e(s){return ua(s,t)}if(0<Tu.length){ua(Tu[0],t);for(var n=1;n<Tu.length;n++){var r=Tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(is!==null&&ua(is,t),os!==null&&ua(os,t),as!==null&&ua(as,t),il.forEach(e),ol.forEach(e),n=0;n<Gr.length;n++)r=Gr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)aE(n),n.blockedOn===null&&Gr.shift()}var co=Ur.ReactCurrentBatchConfig,Cc=!0;function wN(t,e,n,r){var s=ye,i=co.transition;co.transition=null;try{ye=1,gg(t,e,n,r)}finally{ye=s,co.transition=i}}function _N(t,e,n,r){var s=ye,i=co.transition;co.transition=null;try{ye=4,gg(t,e,n,r)}finally{ye=s,co.transition=i}}function gg(t,e,n,r){if(Cc){var s=Ap(t,e,n,r);if(s===null)pf(t,e,r,Ic,n),o0(t,r);else if(vN(s,t,e,n,r))r.stopPropagation();else if(o0(t,r),e&4&&-1<gN.indexOf(t)){for(;s!==null;){var i=Hl(s);if(i!==null&&rE(i),i=Ap(t,e,n,r),i===null&&pf(t,e,r,Ic,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pf(t,e,r,null,n)}}var Ic=null;function Ap(t,e,n,r){if(Ic=null,t=hg(r),t=Ks(t),t!==null)if(e=xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ic=t,null}function lE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aN()){case fg:return 1;case Z_:return 4;case xc:case lN:return 16;case eE:return 536870912;default:return 16}default:return 16}}var ns=null,vg=null,rc=null;function uE(){if(rc)return rc;var t,e=vg,n=e.length,r,s="value"in ns?ns.value:ns.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return rc=s.slice(t,1<r?1-r:void 0)}function sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function l0(){return!1}function hn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nu:l0,this.isPropagationStopped=l0,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yg=hn(qo),zl=Me({},qo,{view:0,detail:0}),EN=hn(zl),sf,of,ca,Ed=Me({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ca&&(ca&&t.type==="mousemove"?(sf=t.screenX-ca.screenX,of=t.screenY-ca.screenY):of=sf=0,ca=t),sf)},movementY:function(t){return"movementY"in t?t.movementY:of}}),u0=hn(Ed),SN=Me({},Ed,{dataTransfer:0}),xN=hn(SN),kN=Me({},zl,{relatedTarget:0}),af=hn(kN),CN=Me({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),IN=hn(CN),TN=Me({},qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NN=hn(TN),bN=Me({},qo,{data:0}),c0=hn(bN),RN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jN[t])?!!e[t]:!1}function wg(){return PN}var DN=Me({},zl,{key:function(t){if(t.key){var e=RN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wg,charCode:function(t){return t.type==="keypress"?sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ON=hn(DN),$N=Me({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d0=hn($N),LN=Me({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wg}),MN=hn(LN),FN=Me({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),UN=hn(FN),BN=Me({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VN=hn(BN),zN=[9,13,27,32],_g=Rr&&"CompositionEvent"in window,Ma=null;Rr&&"documentMode"in document&&(Ma=document.documentMode);var HN=Rr&&"TextEvent"in window&&!Ma,cE=Rr&&(!_g||Ma&&8<Ma&&11>=Ma),h0=String.fromCharCode(32),f0=!1;function dE(t,e){switch(t){case"keyup":return zN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gi=!1;function qN(t,e){switch(t){case"compositionend":return hE(e);case"keypress":return e.which!==32?null:(f0=!0,h0);case"textInput":return t=e.data,t===h0&&f0?null:t;default:return null}}function WN(t,e){if(Gi)return t==="compositionend"||!_g&&dE(t,e)?(t=uE(),rc=vg=ns=null,Gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cE&&e.locale!=="ko"?null:e.data;default:return null}}var KN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KN[t.type]:e==="textarea"}function fE(t,e,n,r){H_(r),e=Tc(e,"onChange"),0<e.length&&(n=new yg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fa=null,ll=null;function GN(t){kE(t,0)}function Sd(t){var e=Xi(t);if(L_(e))return t}function QN(t,e){if(t==="change")return e}var pE=!1;if(Rr){var lf;if(Rr){var uf="oninput"in document;if(!uf){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),uf=typeof m0.oninput=="function"}lf=uf}else lf=!1;pE=lf&&(!document.documentMode||9<document.documentMode)}function g0(){Fa&&(Fa.detachEvent("onpropertychange",mE),ll=Fa=null)}function mE(t){if(t.propertyName==="value"&&Sd(ll)){var e=[];fE(e,ll,t,hg(t)),G_(GN,e)}}function YN(t,e,n){t==="focusin"?(g0(),Fa=e,ll=n,Fa.attachEvent("onpropertychange",mE)):t==="focusout"&&g0()}function XN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sd(ll)}function JN(t,e){if(t==="click")return Sd(e)}function ZN(t,e){if(t==="input"||t==="change")return Sd(e)}function eb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:eb;function ul(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fp.call(e,s)||!Bn(t[s],e[s]))return!1}return!0}function v0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y0(t,e){var n=v0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v0(n)}}function gE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vE(){for(var t=window,e=_c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_c(t.document)}return e}function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tb(t){var e=vE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gE(n.ownerDocument.documentElement,n)){if(r!==null&&Eg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=y0(n,i);var o=y0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nb=Rr&&"documentMode"in document&&11>=document.documentMode,Qi=null,jp=null,Ua=null,Pp=!1;function w0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pp||Qi==null||Qi!==_c(r)||(r=Qi,"selectionStart"in r&&Eg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ua&&ul(Ua,r)||(Ua=r,r=Tc(jp,"onSelect"),0<r.length&&(e=new yg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qi)))}function bu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yi={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},cf={},yE={};Rr&&(yE=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function xd(t){if(cf[t])return cf[t];if(!Yi[t])return t;var e=Yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yE)return cf[t]=e[n];return t}var wE=xd("animationend"),_E=xd("animationiteration"),EE=xd("animationstart"),SE=xd("transitionend"),xE=new Map,_0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(t,e){xE.set(t,e),Si(e,[t])}for(var df=0;df<_0.length;df++){var hf=_0[df],rb=hf.toLowerCase(),sb=hf[0].toUpperCase()+hf.slice(1);Ns(rb,"on"+sb)}Ns(wE,"onAnimationEnd");Ns(_E,"onAnimationIteration");Ns(EE,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(SE,"onTransitionEnd");ko("onMouseEnter",["mouseout","mouseover"]);ko("onMouseLeave",["mouseout","mouseover"]);ko("onPointerEnter",["pointerout","pointerover"]);ko("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function E0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rN(r,e,void 0,t),t.currentTarget=null}function kE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;E0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;E0(s,a,c),i=l}}}if(Sc)throw t=Np,Sc=!1,Np=null,t}function Ie(t,e){var n=e[Mp];n===void 0&&(n=e[Mp]=new Set);var r=t+"__bubble";n.has(r)||(CE(e,t,2,!1),n.add(r))}function ff(t,e,n){var r=0;e&&(r|=4),CE(n,t,r,e)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function cl(t){if(!t[Ru]){t[Ru]=!0,j_.forEach(function(n){n!=="selectionchange"&&(ib.has(n)||ff(n,!1,t),ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ru]||(e[Ru]=!0,ff("selectionchange",!1,e))}}function CE(t,e,n,r){switch(lE(e)){case 1:var s=wN;break;case 4:s=_N;break;default:s=gg}n=s.bind(null,e,n,t),s=void 0,!Tp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ks(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}G_(function(){var c=i,d=hg(n),h=[];e:{var f=xE.get(t);if(f!==void 0){var g=yg,v=t;switch(t){case"keypress":if(sc(n)===0)break e;case"keydown":case"keyup":g=ON;break;case"focusin":v="focus",g=af;break;case"focusout":v="blur",g=af;break;case"beforeblur":case"afterblur":g=af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=u0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=xN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=MN;break;case wE:case _E:case EE:g=IN;break;case SE:g=UN;break;case"scroll":g=EN;break;case"wheel":g=VN;break;case"copy":case"cut":case"paste":g=NN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=d0}var w=(e&4)!==0,_=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var m=c,y;m!==null;){y=m;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,p!==null&&(E=sl(m,p),E!=null&&w.push(dl(m,E,y)))),_)break;m=m.return}0<w.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Cp&&(v=n.relatedTarget||n.fromElement)&&(Ks(v)||v[Ar]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Ks(v):null,v!==null&&(_=xi(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(w=u0,E="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=d0,E="onPointerLeave",p="onPointerEnter",m="pointer"),_=g==null?f:Xi(g),y=v==null?f:Xi(v),f=new w(E,m+"leave",g,n,d),f.target=_,f.relatedTarget=y,E=null,Ks(d)===c&&(w=new w(p,m+"enter",v,n,d),w.target=y,w.relatedTarget=_,E=w),_=E,g&&v)t:{for(w=g,p=v,m=0,y=w;y;y=Oi(y))m++;for(y=0,E=p;E;E=Oi(E))y++;for(;0<m-y;)w=Oi(w),m--;for(;0<y-m;)p=Oi(p),y--;for(;m--;){if(w===p||p!==null&&w===p.alternate)break t;w=Oi(w),p=Oi(p)}w=null}else w=null;g!==null&&S0(h,f,g,w,!1),v!==null&&_!==null&&S0(h,_,v,w,!0)}}e:{if(f=c?Xi(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var x=QN;else if(p0(f))if(pE)x=ZN;else{x=XN;var I=YN}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=JN);if(x&&(x=x(t,c))){fE(h,x,n,d);break e}I&&I(t,f,c),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&_p(f,"number",f.value)}switch(I=c?Xi(c):window,t){case"focusin":(p0(I)||I.contentEditable==="true")&&(Qi=I,jp=c,Ua=null);break;case"focusout":Ua=jp=Qi=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,w0(h,n,d);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":w0(h,n,d)}var N;if(_g)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Gi?dE(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(cE&&n.locale!=="ko"&&(Gi||j!=="onCompositionStart"?j==="onCompositionEnd"&&Gi&&(N=uE()):(ns=d,vg="value"in ns?ns.value:ns.textContent,Gi=!0)),I=Tc(c,j),0<I.length&&(j=new c0(j,t,null,n,d),h.push({event:j,listeners:I}),N?j.data=N:(N=hE(n),N!==null&&(j.data=N)))),(N=HN?qN(t,n):WN(t,n))&&(c=Tc(c,"onBeforeInput"),0<c.length&&(d=new c0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=N))}kE(h,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sl(t,n),i!=null&&r.unshift(dl(t,i,s)),i=sl(t,e),i!=null&&r.push(dl(t,i,s))),t=t.return}return r}function Oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function S0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=sl(n,i),l!=null&&o.unshift(dl(n,l,a))):s||(l=sl(n,i),l!=null&&o.push(dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ob=/\r\n?/g,ab=/\u0000|\uFFFD/g;function x0(t){return(typeof t=="string"?t:""+t).replace(ob,`
`).replace(ab,"")}function Au(t,e,n){if(e=x0(e),x0(t)!==e&&n)throw Error(R(425))}function Nc(){}var Dp=null,Op=null;function $p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(t){return k0.resolve(null).then(t).catch(cb)}:Lp;function cb(t){setTimeout(function(){throw t})}function mf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);al(e)}function ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Wo,hl="__reactProps$"+Wo,Ar="__reactContainer$"+Wo,Mp="__reactEvents$"+Wo,db="__reactListeners$"+Wo,hb="__reactHandles$"+Wo;function Ks(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ar]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C0(t);t!==null;){if(n=t[Gn])return n;t=C0(t)}return e}t=n,n=t.parentNode}return null}function Hl(t){return t=t[Gn]||t[Ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function kd(t){return t[hl]||null}var Fp=[],Ji=-1;function bs(t){return{current:t}}function be(t){0>Ji||(t.current=Fp[Ji],Fp[Ji]=null,Ji--)}function Ce(t,e){Ji++,Fp[Ji]=t.current,t.current=e}var ws={},jt=bs(ws),Gt=bs(!1),oi=ws;function Co(t,e){var n=t.type.contextTypes;if(!n)return ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(t){return t=t.childContextTypes,t!=null}function bc(){be(Gt),be(jt)}function I0(t,e,n){if(jt.current!==ws)throw Error(R(168));Ce(jt,e),Ce(Gt,n)}function IE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(R(108,YT(t)||"Unknown",s));return Me({},n,r)}function Rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,oi=jt.current,Ce(jt,t),Ce(Gt,Gt.current),!0}function T0(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=IE(t,e,oi),r.__reactInternalMemoizedMergedChildContext=t,be(Gt),be(jt),Ce(jt,t)):be(Gt),Ce(Gt,n)}var yr=null,Cd=!1,gf=!1;function TE(t){yr===null?yr=[t]:yr.push(t)}function fb(t){Cd=!0,TE(t)}function Rs(){if(!gf&&yr!==null){gf=!0;var t=0,e=ye;try{var n=yr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,Cd=!1}catch(s){throw yr!==null&&(yr=yr.slice(t+1)),J_(fg,Rs),s}finally{ye=e,gf=!1}}return null}var Zi=[],eo=0,Ac=null,jc=0,_n=[],En=0,ai=null,_r=1,Er="";function zs(t,e){Zi[eo++]=jc,Zi[eo++]=Ac,Ac=t,jc=e}function NE(t,e,n){_n[En++]=_r,_n[En++]=Er,_n[En++]=ai,ai=t;var r=_r;t=Er;var s=32-Fn(r)-1;r&=~(1<<s),n+=1;var i=32-Fn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_r=1<<32-Fn(e)+s|n<<s|r,Er=i+t}else _r=1<<i|n<<s|r,Er=t}function Sg(t){t.return!==null&&(zs(t,1),NE(t,1,0))}function xg(t){for(;t===Ac;)Ac=Zi[--eo],Zi[eo]=null,jc=Zi[--eo],Zi[eo]=null;for(;t===ai;)ai=_n[--En],_n[En]=null,Er=_n[--En],_n[En]=null,_r=_n[--En],_n[En]=null}var an=null,rn=null,Pe=!1,$n=null;function bE(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function N0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,rn=ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ai!==null?{id:_r,overflow:Er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,rn=null,!0):!1;default:return!1}}function Up(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bp(t){if(Pe){var e=rn;if(e){var n=e;if(!N0(t,e)){if(Up(t))throw Error(R(418));e=ls(n.nextSibling);var r=an;e&&N0(t,e)?bE(r,n):(t.flags=t.flags&-4097|2,Pe=!1,an=t)}}else{if(Up(t))throw Error(R(418));t.flags=t.flags&-4097|2,Pe=!1,an=t}}}function b0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function ju(t){if(t!==an)return!1;if(!Pe)return b0(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$p(t.type,t.memoizedProps)),e&&(e=rn)){if(Up(t))throw RE(),Error(R(418));for(;e;)bE(t,e),e=ls(e.nextSibling)}if(b0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=an?ls(t.stateNode.nextSibling):null;return!0}function RE(){for(var t=rn;t;)t=ls(t.nextSibling)}function Io(){rn=an=null,Pe=!1}function kg(t){$n===null?$n=[t]:$n.push(t)}var pb=Ur.ReactCurrentBatchConfig;function Pn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Pc=bs(null),Dc=null,to=null,Cg=null;function Ig(){Cg=to=Dc=null}function Tg(t){var e=Pc.current;be(Pc),t._currentValue=e}function Vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ho(t,e){Dc=t,Cg=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(Cg!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(Dc===null)throw Error(R(308));to=t,Dc.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var Gs=null;function Ng(t){Gs===null?Gs=[t]:Gs.push(t)}function AE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ng(e)):(n.next=s.next,s.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kr=!1;function bg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,jr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ng(r)):(e.next=s.next,s.next=e),r.interleaved=e,jr(t,n)}function ic(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pg(t,n)}}function R0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oc(t,e,n,r){var s=t.updateQueue;Kr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=Me({},h,f);break e;case 2:Kr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ui|=o,t.lanes=o,t.memoizedState=h}}function A0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var PE=new A_.Component().refs;function zp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Id={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=ds(t),i=Cr(r,s);i.payload=e,n!=null&&(i.callback=n),e=us(t,i,s),e!==null&&(Un(e,t,s,r),ic(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=ds(t),i=Cr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=us(t,i,s),e!==null&&(Un(e,t,s,r),ic(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=ds(t),s=Cr(n,r);s.tag=2,e!=null&&(s.callback=e),e=us(t,s,r),e!==null&&(Un(e,t,r,n),ic(e,t,r))}};function j0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ul(n,r)||!ul(s,i):!0}function DE(t,e,n){var r=!1,s=ws,i=e.contextType;return typeof i=="object"&&i!==null?i=Cn(i):(s=Qt(e)?oi:jt.current,r=e.contextTypes,i=(r=r!=null)?Co(t,s):ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function P0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Id.enqueueReplaceState(e,e.state,null)}function Hp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=PE,bg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Cn(i):(i=Qt(e)?oi:jt.current,s.context=Co(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(zp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Id.enqueueReplaceState(s,s.state,null),Oc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===PE&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function D0(t){var e=t._init;return e(t._payload)}function OE(t){function e(p,m){if(t){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function r(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=hs(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,y,E){return m===null||m.tag!==6?(m=xf(y,p.mode,E),m.return=p,m):(m=s(m,y),m.return=p,m)}function l(p,m,y,E){var x=y.type;return x===Ki?d(p,m,y.props.children,E,y.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wr&&D0(x)===m.type)?(E=s(m,y.props),E.ref=da(p,m,y),E.return=p,E):(E=dc(y.type,y.key,y.props,null,p.mode,E),E.ref=da(p,m,y),E.return=p,E)}function c(p,m,y,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=kf(y,p.mode,E),m.return=p,m):(m=s(m,y.children||[]),m.return=p,m)}function d(p,m,y,E,x){return m===null||m.tag!==7?(m=ni(y,p.mode,E,x),m.return=p,m):(m=s(m,y),m.return=p,m)}function h(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xf(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Su:return y=dc(m.type,m.key,m.props,null,p.mode,y),y.ref=da(p,null,m),y.return=p,y;case Wi:return m=kf(m,p.mode,y),m.return=p,m;case Wr:var E=m._init;return h(p,E(m._payload),y)}if(Ca(m)||oa(m))return m=ni(m,p.mode,y,null),m.return=p,m;Pu(p,m)}return null}function f(p,m,y,E){var x=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:a(p,m,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:return y.key===x?l(p,m,y,E):null;case Wi:return y.key===x?c(p,m,y,E):null;case Wr:return x=y._init,f(p,m,x(y._payload),E)}if(Ca(y)||oa(y))return x!==null?null:d(p,m,y,E,null);Pu(p,y)}return null}function g(p,m,y,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(y)||null,a(m,p,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Su:return p=p.get(E.key===null?y:E.key)||null,l(m,p,E,x);case Wi:return p=p.get(E.key===null?y:E.key)||null,c(m,p,E,x);case Wr:var I=E._init;return g(p,m,y,I(E._payload),x)}if(Ca(E)||oa(E))return p=p.get(y)||null,d(m,p,E,x,null);Pu(m,E)}return null}function v(p,m,y,E){for(var x=null,I=null,N=m,j=m=0,P=null;N!==null&&j<y.length;j++){N.index>j?(P=N,N=null):P=N.sibling;var M=f(p,N,y[j],E);if(M===null){N===null&&(N=P);break}t&&N&&M.alternate===null&&e(p,N),m=i(M,m,j),I===null?x=M:I.sibling=M,I=M,N=P}if(j===y.length)return n(p,N),Pe&&zs(p,j),x;if(N===null){for(;j<y.length;j++)N=h(p,y[j],E),N!==null&&(m=i(N,m,j),I===null?x=N:I.sibling=N,I=N);return Pe&&zs(p,j),x}for(N=r(p,N);j<y.length;j++)P=g(N,p,j,y[j],E),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?j:P.key),m=i(P,m,j),I===null?x=P:I.sibling=P,I=P);return t&&N.forEach(function($){return e(p,$)}),Pe&&zs(p,j),x}function w(p,m,y,E){var x=oa(y);if(typeof x!="function")throw Error(R(150));if(y=x.call(y),y==null)throw Error(R(151));for(var I=x=null,N=m,j=m=0,P=null,M=y.next();N!==null&&!M.done;j++,M=y.next()){N.index>j?(P=N,N=null):P=N.sibling;var $=f(p,N,M.value,E);if($===null){N===null&&(N=P);break}t&&N&&$.alternate===null&&e(p,N),m=i($,m,j),I===null?x=$:I.sibling=$,I=$,N=P}if(M.done)return n(p,N),Pe&&zs(p,j),x;if(N===null){for(;!M.done;j++,M=y.next())M=h(p,M.value,E),M!==null&&(m=i(M,m,j),I===null?x=M:I.sibling=M,I=M);return Pe&&zs(p,j),x}for(N=r(p,N);!M.done;j++,M=y.next())M=g(N,p,j,M.value,E),M!==null&&(t&&M.alternate!==null&&N.delete(M.key===null?j:M.key),m=i(M,m,j),I===null?x=M:I.sibling=M,I=M);return t&&N.forEach(function(Ee){return e(p,Ee)}),Pe&&zs(p,j),x}function _(p,m,y,E){if(typeof y=="object"&&y!==null&&y.type===Ki&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:e:{for(var x=y.key,I=m;I!==null;){if(I.key===x){if(x=y.type,x===Ki){if(I.tag===7){n(p,I.sibling),m=s(I,y.props.children),m.return=p,p=m;break e}}else if(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wr&&D0(x)===I.type){n(p,I.sibling),m=s(I,y.props),m.ref=da(p,I,y),m.return=p,p=m;break e}n(p,I);break}else e(p,I);I=I.sibling}y.type===Ki?(m=ni(y.props.children,p.mode,E,y.key),m.return=p,p=m):(E=dc(y.type,y.key,y.props,null,p.mode,E),E.ref=da(p,m,y),E.return=p,p=E)}return o(p);case Wi:e:{for(I=y.key;m!==null;){if(m.key===I)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=s(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=kf(y,p.mode,E),m.return=p,p=m}return o(p);case Wr:return I=y._init,_(p,m,I(y._payload),E)}if(Ca(y))return v(p,m,y,E);if(oa(y))return w(p,m,y,E);Pu(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,y),m.return=p,p=m):(n(p,m),m=xf(y,p.mode,E),m.return=p,p=m),o(p)):n(p,m)}return _}var To=OE(!0),$E=OE(!1),ql={},tr=bs(ql),fl=bs(ql),pl=bs(ql);function Qs(t){if(t===ql)throw Error(R(174));return t}function Rg(t,e){switch(Ce(pl,e),Ce(fl,t),Ce(tr,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sp(e,t)}be(tr),Ce(tr,e)}function No(){be(tr),be(fl),be(pl)}function LE(t){Qs(pl.current);var e=Qs(tr.current),n=Sp(e,t.type);e!==n&&(Ce(fl,t),Ce(tr,n))}function Ag(t){fl.current===t&&(be(tr),be(fl))}var $e=bs(0);function $c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vf=[];function jg(){for(var t=0;t<vf.length;t++)vf[t]._workInProgressVersionPrimary=null;vf.length=0}var oc=Ur.ReactCurrentDispatcher,yf=Ur.ReactCurrentBatchConfig,li=0,Le=null,Je=null,ot=null,Lc=!1,Ba=!1,ml=0,mb=0;function _t(){throw Error(R(321))}function Pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function Dg(t,e,n,r,s,i){if(li=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oc.current=t===null||t.memoizedState===null?wb:_b,t=n(r,s),Ba){i=0;do{if(Ba=!1,ml=0,25<=i)throw Error(R(301));i+=1,ot=Je=null,e.updateQueue=null,oc.current=Eb,t=n(r,s)}while(Ba)}if(oc.current=Mc,e=Je!==null&&Je.next!==null,li=0,ot=Je=Le=null,Lc=!1,e)throw Error(R(300));return t}function Og(){var t=ml!==0;return ml=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Le.memoizedState=ot=t:ot=ot.next=t,ot}function In(){if(Je===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=ot===null?Le.memoizedState:ot.next;if(e!==null)ot=e,Je=t;else{if(t===null)throw Error(R(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},ot===null?Le.memoizedState=ot=t:ot=ot.next=t}return ot}function gl(t,e){return typeof e=="function"?e(t):e}function wf(t){var e=In(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((li&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Le.lanes|=d,ui|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Bn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Le.lanes|=i,ui|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _f(t){var e=In(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Bn(i,e.memoizedState)||(Kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ME(){}function FE(t,e){var n=Le,r=In(),s=e(),i=!Bn(r.memoizedState,s);if(i&&(r.memoizedState=s,Kt=!0),r=r.queue,$g(VE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,vl(9,BE.bind(null,n,r,s,e),void 0,null),at===null)throw Error(R(349));li&30||UE(n,e,s)}return s}function UE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BE(t,e,n,r){e.value=n,e.getSnapshot=r,zE(e)&&HE(t)}function VE(t,e,n){return n(function(){zE(e)&&HE(t)})}function zE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function HE(t){var e=jr(t,1);e!==null&&Un(e,t,1,-1)}function O0(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=yb.bind(null,Le,t),[e.memoizedState,t]}function vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qE(){return In().memoizedState}function ac(t,e,n,r){var s=Kn();Le.flags|=t,s.memoizedState=vl(1|e,n,void 0,r===void 0?null:r)}function Td(t,e,n,r){var s=In();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&Pg(r,o.deps)){s.memoizedState=vl(e,n,i,r);return}}Le.flags|=t,s.memoizedState=vl(1|e,n,i,r)}function $0(t,e){return ac(8390656,8,t,e)}function $g(t,e){return Td(2048,8,t,e)}function WE(t,e){return Td(4,2,t,e)}function KE(t,e){return Td(4,4,t,e)}function GE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QE(t,e,n){return n=n!=null?n.concat([t]):null,Td(4,4,GE.bind(null,e,t),n)}function Lg(){}function YE(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XE(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JE(t,e,n){return li&21?(Bn(n,e)||(n=tE(),Le.lanes|=n,ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function gb(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=yf.transition;yf.transition={};try{t(!1),e()}finally{ye=n,yf.transition=r}}function ZE(){return In().memoizedState}function vb(t,e,n){var r=ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eS(t))tS(e,n);else if(n=AE(t,e,n,r),n!==null){var s=Mt();Un(n,t,r,s),nS(n,e,r)}}function yb(t,e,n){var r=ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eS(t))tS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Bn(a,o)){var l=e.interleaved;l===null?(s.next=s,Ng(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=AE(t,e,s,r),n!==null&&(s=Mt(),Un(n,t,r,s),nS(n,e,r))}}function eS(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function tS(t,e){Ba=Lc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pg(t,n)}}var Mc={readContext:Cn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},wb={readContext:Cn,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:$0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ac(4194308,4,GE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return ac(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vb.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Kn();return t={current:t},e.memoizedState=t},useState:O0,useDebugValue:Lg,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=O0(!1),e=t[0];return t=gb.bind(null,t[1]),Kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,s=Kn();if(Pe){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),at===null)throw Error(R(349));li&30||UE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$0(VE.bind(null,r,i,t),[t]),r.flags|=2048,vl(9,BE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Kn(),e=at.identifierPrefix;if(Pe){var n=Er,r=_r;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_b={readContext:Cn,useCallback:YE,useContext:Cn,useEffect:$g,useImperativeHandle:QE,useInsertionEffect:WE,useLayoutEffect:KE,useMemo:XE,useReducer:wf,useRef:qE,useState:function(){return wf(gl)},useDebugValue:Lg,useDeferredValue:function(t){var e=In();return JE(e,Je.memoizedState,t)},useTransition:function(){var t=wf(gl)[0],e=In().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:FE,useId:ZE,unstable_isNewReconciler:!1},Eb={readContext:Cn,useCallback:YE,useContext:Cn,useEffect:$g,useImperativeHandle:QE,useInsertionEffect:WE,useLayoutEffect:KE,useMemo:XE,useReducer:_f,useRef:qE,useState:function(){return _f(gl)},useDebugValue:Lg,useDeferredValue:function(t){var e=In();return Je===null?e.memoizedState=t:JE(e,Je.memoizedState,t)},useTransition:function(){var t=_f(gl)[0],e=In().memoizedState;return[t,e]},useMutableSource:ME,useSyncExternalStore:FE,useId:ZE,unstable_isNewReconciler:!1};function bo(t,e){try{var n="",r=e;do n+=QT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sb=typeof WeakMap=="function"?WeakMap:Map;function rS(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uc||(Uc=!0,tm=r),qp(t,e)},n}function sS(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qp(t,e),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$b.bind(null,t,e,n),e.then(t,t))}function M0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,us(n,e,1))),n.lanes|=1),t)}var xb=Ur.ReactCurrentOwner,Kt=!1;function $t(t,e,n,r){e.child=t===null?$E(e,null,n,r):To(e,t.child,n,r)}function U0(t,e,n,r,s){n=n.render;var i=e.ref;return ho(e,s),r=Dg(t,e,n,r,i,s),n=Og(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pr(t,e,s)):(Pe&&n&&Sg(e),e.flags|=1,$t(t,e,r,s),e.child)}function B0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iS(t,e,i,r,s)):(t=dc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(o,r)&&t.ref===e.ref)return Pr(t,e,s)}return e.flags|=1,t=hs(i,r),t.ref=e.ref,t.return=e,e.child=t}function iS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ul(i,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Pr(t,e,s)}return Wp(t,e,n,r,s)}function oS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ro,nn),nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(ro,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(ro,nn),nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(ro,nn),nn|=r;return $t(t,e,s,n),e.child}function aS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wp(t,e,n,r,s){var i=Qt(n)?oi:jt.current;return i=Co(e,i),ho(e,s),n=Dg(t,e,n,r,i,s),r=Og(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pr(t,e,s)):(Pe&&r&&Sg(e),e.flags|=1,$t(t,e,n,s),e.child)}function V0(t,e,n,r,s){if(Qt(n)){var i=!0;Rc(e)}else i=!1;if(ho(e,s),e.stateNode===null)lc(t,e),DE(e,n,r),Hp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Cn(c):(c=Qt(n)?oi:jt.current,c=Co(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&P0(e,o,r,c),Kr=!1;var f=e.memoizedState;o.state=f,Oc(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Gt.current||Kr?(typeof d=="function"&&(zp(e,n,d,r),l=e.memoizedState),(a=Kr||j0(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Pn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=Qt(n)?oi:jt.current,l=Co(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&P0(e,o,r,l),Kr=!1,f=e.memoizedState,o.state=f,Oc(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||Gt.current||Kr?(typeof g=="function"&&(zp(e,n,g,r),v=e.memoizedState),(c=Kr||j0(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Kp(t,e,n,r,i,s)}function Kp(t,e,n,r,s,i){aS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&T0(e,n,!1),Pr(t,e,i);r=e.stateNode,xb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=To(e,t.child,null,i),e.child=To(e,null,a,i)):$t(t,e,a,i),e.memoizedState=r.state,s&&T0(e,n,!0),e.child}function lS(t){var e=t.stateNode;e.pendingContext?I0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&I0(t,e.context,!1),Rg(t,e.containerInfo)}function z0(t,e,n,r,s){return Io(),kg(s),e.flags|=256,$t(t,e,n,r),e.child}var Gp={dehydrated:null,treeContext:null,retryLane:0};function Qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function uS(t,e,n){var r=e.pendingProps,s=$e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce($e,s&1),t===null)return Bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rd(o,r,0,null),t=ni(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qp(n),e.memoizedState=Gp,t):Mg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return kb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=hs(a,i):(i=ni(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Gp,r}return i=t.child,t=i.sibling,r=hs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mg(t,e){return e=Rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Du(t,e,n,r){return r!==null&&kg(r),To(e,t.child,null,n),t=Mg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ef(Error(R(422))),Du(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Rd({mode:"visible",children:r.children},s,0,null),i=ni(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&To(e,t.child,null,o),e.child.memoizedState=Qp(o),e.memoizedState=Gp,i);if(!(e.mode&1))return Du(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(R(419)),r=Ef(i,r,void 0),Du(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=at,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jr(t,s),Un(r,t,s,-1))}return Hg(),r=Ef(Error(R(421))),Du(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Lb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,rn=ls(s.nextSibling),an=e,Pe=!0,$n=null,t!==null&&(_n[En++]=_r,_n[En++]=Er,_n[En++]=ai,_r=t.id,Er=t.overflow,ai=e),e=Mg(e,r.children),e.flags|=4096,e)}function H0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vp(t.return,e,n)}function Sf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H0(t,n,e);else if(t.tag===19)H0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce($e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$c(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Sf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$c(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Sf(e,!0,n,null,i);break;case"together":Sf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cb(t,e,n){switch(e.tag){case 3:lS(e),Io();break;case 5:LE(e);break;case 1:Qt(e.type)&&Rc(e);break;case 4:Rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Pc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?uS(t,e,n):(Ce($e,$e.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);Ce($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,oS(t,e,n)}return Pr(t,e,n)}var dS,Yp,hS,fS;dS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yp=function(){};hS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qs(tr.current);var i=null;switch(n){case"input":s=yp(t,s),r=yp(t,r),i=[];break;case"select":s=Me({},s,{value:void 0}),r=Me({},r,{value:void 0}),i=[];break;case"textarea":s=Ep(t,s),r=Ep(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nc)}xp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ha(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ib(t,e,n){var r=e.pendingProps;switch(xg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Qt(e.type)&&bc(),Et(e),null;case 3:return r=e.stateNode,No(),be(Gt),be(jt),jg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(sm($n),$n=null))),Yp(t,e),Et(e),null;case 5:Ag(e);var s=Qs(pl.current);if(n=e.type,t!==null&&e.stateNode!=null)hS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Et(e),null}if(t=Qs(tr.current),ju(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gn]=e,r[hl]=i,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Ta.length;s++)Ie(Ta[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Zy(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":t0(r,i),Ie("invalid",r)}xp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",""+a]):nl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":xu(r),e0(r,i,!0);break;case"textarea":xu(r),n0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Nc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[hl]=r,dS(t,e,!1,!1),e.stateNode=t;e:{switch(o=kp(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),s=r;break;case"iframe":case"object":case"embed":Ie("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ta.length;s++)Ie(Ta[s],t);s=r;break;case"source":Ie("error",t),s=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),s=r;break;case"details":Ie("toggle",t),s=r;break;case"input":Zy(t,r),s=yp(t,r),Ie("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Me({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":t0(t,r),s=Ep(t,r),Ie("invalid",t);break;default:s=r}xp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?z_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rl(t,l):typeof l=="number"&&rl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ie("scroll",t):l!=null&&lg(t,i,l,o))}switch(n){case"input":xu(t),e0(t,r,!1);break;case"textarea":xu(t),n0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ao(t,!!r.multiple,i,!1):r.defaultValue!=null&&ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Nc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)fS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Qs(pl.current),Qs(tr.current),ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(i=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return Et(e),null;case 13:if(be($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&rn!==null&&e.mode&1&&!(e.flags&128))RE(),Io(),e.flags|=98560,i=!1;else if(i=ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[Gn]=e}else Io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else $n!==null&&(sm($n),$n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?et===0&&(et=3):Hg())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return No(),Yp(t,e),t===null&&cl(e.stateNode.containerInfo),Et(e),null;case 10:return Tg(e.type._context),Et(e),null;case 17:return Qt(e.type)&&bc(),Et(e),null;case 19:if(be($e),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ha(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$c(t),o!==null){for(e.flags|=128,ha(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce($e,$e.current&1|2),e.child}t=t.sibling}i.tail!==null&&qe()>Ro&&(e.flags|=128,r=!0,ha(i,!1),e.lanes=4194304)}else{if(!r)if(t=$c(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return Et(e),null}else 2*qe()-i.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,ha(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qe(),e.sibling=null,n=$e.current,Ce($e,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return zg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function Tb(t,e){switch(xg(e),e.tag){case 1:return Qt(e.type)&&bc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),be(Gt),be(jt),jg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ag(e),null;case 13:if(be($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be($e),null;case 4:return No(),null;case 10:return Tg(e.type._context),null;case 22:case 23:return zg(),null;case 24:return null;default:return null}}var Ou=!1,Ct=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,U=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Xp(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var q0=!1;function bb(t,e){if(Dp=Cc,t=vE(),Eg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Op={focusedElem:t,selectionRange:n},Cc=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:Pn(e.type,w),_);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){Ue(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return v=q0,q0=!1,v}function Va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xp(e,n,i)}s=s.next}while(s!==r)}}function Nd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pS(t){var e=t.alternate;e!==null&&(t.alternate=null,pS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[hl],delete e[Mp],delete e[db],delete e[hb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mS(t){return t.tag===5||t.tag===3||t.tag===4}function W0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nc));else if(r!==4&&(t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}var ht=null,On=!1;function Hr(t,e,n){for(n=n.child;n!==null;)gS(t,e,n),n=n.sibling}function gS(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(_d,n)}catch{}switch(n.tag){case 5:Ct||no(n,e);case 6:var r=ht,s=On;ht=null,Hr(t,e,n),ht=r,On=s,ht!==null&&(On?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(On?(t=ht,n=n.stateNode,t.nodeType===8?mf(t.parentNode,n):t.nodeType===1&&mf(t,n),al(t)):mf(ht,n.stateNode));break;case 4:r=ht,s=On,ht=n.stateNode.containerInfo,On=!0,Hr(t,e,n),ht=r,On=s;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xp(n,e,o),s=s.next}while(s!==r)}Hr(t,e,n);break;case 1:if(!Ct&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}Hr(t,e,n);break;case 21:Hr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Hr(t,e,n),Ct=r):Hr(t,e,n);break;default:Hr(t,e,n)}}function K0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Nb),e.forEach(function(r){var s=Mb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,On=!1;break e;case 3:ht=a.stateNode.containerInfo,On=!0;break e;case 4:ht=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(ht===null)throw Error(R(160));gS(i,o,s),ht=null,On=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ue(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vS(e,t),e=e.sibling}function vS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rn(e,t),Hn(t),r&4){try{Va(3,t,t.return),Nd(3,t)}catch(w){Ue(t,t.return,w)}try{Va(5,t,t.return)}catch(w){Ue(t,t.return,w)}}break;case 1:Rn(e,t),Hn(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(Rn(e,t),Hn(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var s=t.stateNode;try{rl(s,"")}catch(w){Ue(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&M_(s,i),kp(a,o);var c=kp(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?z_(s,h):d==="dangerouslySetInnerHTML"?B_(s,h):d==="children"?rl(s,h):lg(s,d,h,c)}switch(a){case"input":wp(s,i);break;case"textarea":F_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ao(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?ao(s,!!i.multiple,i.defaultValue,!0):ao(s,!!i.multiple,i.multiple?[]:"",!1))}s[hl]=i}catch(w){Ue(t,t.return,w)}}break;case 6:if(Rn(e,t),Hn(t),r&4){if(t.stateNode===null)throw Error(R(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Ue(t,t.return,w)}}break;case 3:if(Rn(e,t),Hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(w){Ue(t,t.return,w)}break;case 4:Rn(e,t),Hn(t);break;case 13:Rn(e,t),Hn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bg=qe())),r&4&&K0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||d,Rn(e,t),Ct=c):Rn(e,t),Hn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(h=U=d;U!==null;){switch(f=U,g=f.child,f.tag){case 0:case 11:case 14:case 15:Va(4,f,f.return);break;case 1:no(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Ue(r,n,w)}}break;case 5:no(f,f.return);break;case 22:if(f.memoizedState!==null){Q0(h);continue}}g!==null?(g.return=f,U=g):Q0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=V_("display",o))}catch(w){Ue(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Ue(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rn(e,t),Hn(t),r&4&&K0(t);break;case 21:break;default:Rn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mS(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rl(s,""),r.flags&=-33);var i=W0(t);em(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=W0(t);Zp(t,a,o);break;default:throw Error(R(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rb(t,e,n){U=t,yS(t)}function yS(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ou;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=Ou;var c=Ct;if(Ou=o,(Ct=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?Y0(s):l!==null?(l.return=o,U=l):Y0(s);for(;i!==null;)U=i,yS(i),i=i.sibling;U=s,Ou=a,Ct=c}G0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):G0(t)}}function G0(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Nd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&A0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}A0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&al(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ct||e.flags&512&&Jp(e)}catch(f){Ue(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Q0(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function Y0(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nd(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ue(e,s,l)}}var i=e.return;try{Jp(e)}catch(l){Ue(e,i,l)}break;case 5:var o=e.return;try{Jp(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var Ab=Math.ceil,Fc=Ur.ReactCurrentDispatcher,Fg=Ur.ReactCurrentOwner,kn=Ur.ReactCurrentBatchConfig,fe=0,at=null,Qe=null,gt=0,nn=0,ro=bs(0),et=0,yl=null,ui=0,bd=0,Ug=0,za=null,qt=null,Bg=0,Ro=1/0,mr=null,Uc=!1,tm=null,cs=null,$u=!1,rs=null,Bc=0,Ha=0,nm=null,uc=-1,cc=0;function Mt(){return fe&6?qe():uc!==-1?uc:uc=qe()}function ds(t){return t.mode&1?fe&2&&gt!==0?gt&-gt:pb.transition!==null?(cc===0&&(cc=tE()),cc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:lE(t.type)),t):1}function Un(t,e,n,r){if(50<Ha)throw Ha=0,nm=null,Error(R(185));Vl(t,n,r),(!(fe&2)||t!==at)&&(t===at&&(!(fe&2)&&(bd|=n),et===4&&Qr(t,gt)),Yt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Ro=qe()+500,Cd&&Rs()))}function Yt(t,e){var n=t.callbackNode;pN(t,e);var r=kc(t,t===at?gt:0);if(r===0)n!==null&&i0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&i0(n),e===1)t.tag===0?fb(X0.bind(null,t)):TE(X0.bind(null,t)),ub(function(){!(fe&6)&&Rs()}),n=null;else{switch(nE(r)){case 1:n=fg;break;case 4:n=Z_;break;case 16:n=xc;break;case 536870912:n=eE;break;default:n=xc}n=IS(n,wS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wS(t,e){if(uc=-1,cc=0,fe&6)throw Error(R(327));var n=t.callbackNode;if(fo()&&t.callbackNode!==n)return null;var r=kc(t,t===at?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vc(t,r);else{e=r;var s=fe;fe|=2;var i=ES();(at!==t||gt!==e)&&(mr=null,Ro=qe()+500,ti(t,e));do try{Db();break}catch(a){_S(t,a)}while(1);Ig(),Fc.current=i,fe=s,Qe!==null?e=0:(at=null,gt=0,e=et)}if(e!==0){if(e===2&&(s=bp(t),s!==0&&(r=s,e=rm(t,s))),e===1)throw n=yl,ti(t,0),Qr(t,r),Yt(t,qe()),n;if(e===6)Qr(t,r);else{if(s=t.current.alternate,!(r&30)&&!jb(s)&&(e=Vc(t,r),e===2&&(i=bp(t),i!==0&&(r=i,e=rm(t,i))),e===1))throw n=yl,ti(t,0),Qr(t,r),Yt(t,qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Hs(t,qt,mr);break;case 3:if(Qr(t,r),(r&130023424)===r&&(e=Bg+500-qe(),10<e)){if(kc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lp(Hs.bind(null,t,qt,mr),e);break}Hs(t,qt,mr);break;case 4:if(Qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Fn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ab(r/1960))-r,10<r){t.timeoutHandle=Lp(Hs.bind(null,t,qt,mr),r);break}Hs(t,qt,mr);break;case 5:Hs(t,qt,mr);break;default:throw Error(R(329))}}}return Yt(t,qe()),t.callbackNode===n?wS.bind(null,t):null}function rm(t,e){var n=za;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=Vc(t,e),t!==2&&(e=qt,qt=n,e!==null&&sm(e)),t}function sm(t){qt===null?qt=t:qt.push.apply(qt,t)}function jb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Bn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~Ug,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function X0(t){if(fe&6)throw Error(R(327));fo();var e=kc(t,0);if(!(e&1))return Yt(t,qe()),null;var n=Vc(t,e);if(t.tag!==0&&n===2){var r=bp(t);r!==0&&(e=r,n=rm(t,r))}if(n===1)throw n=yl,ti(t,0),Qr(t,e),Yt(t,qe()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hs(t,qt,mr),Yt(t,qe()),null}function Vg(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Ro=qe()+500,Cd&&Rs())}}function ci(t){rs!==null&&rs.tag===0&&!(fe&6)&&fo();var e=fe;fe|=1;var n=kn.transition,r=ye;try{if(kn.transition=null,ye=1,t)return t()}finally{ye=r,kn.transition=n,fe=e,!(fe&6)&&Rs()}}function zg(){nn=ro.current,be(ro)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lb(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(xg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:No(),be(Gt),be(jt),jg();break;case 5:Ag(r);break;case 4:No();break;case 13:be($e);break;case 19:be($e);break;case 10:Tg(r.type._context);break;case 22:case 23:zg()}n=n.return}if(at=t,Qe=t=hs(t.current,null),gt=nn=e,et=0,yl=null,Ug=bd=ui=0,qt=za=null,Gs!==null){for(e=0;e<Gs.length;e++)if(n=Gs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gs=null}return t}function _S(t,e){do{var n=Qe;try{if(Ig(),oc.current=Mc,Lc){for(var r=Le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lc=!1}if(li=0,ot=Je=Le=null,Ba=!1,ml=0,Fg.current=null,n===null||n.return===null){et=1,yl=e,Qe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=M0(o);if(g!==null){g.flags&=-257,F0(g,o,a,i,e),g.mode&1&&L0(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){L0(i,c,e),Hg();break e}l=Error(R(426))}}else if(Pe&&a.mode&1){var _=M0(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),F0(_,o,a,i,e),kg(bo(l,a));break e}}i=l=bo(l,a),et!==4&&(et=2),za===null?za=[i]:za.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=rS(i,l,e);R0(i,p);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(cs===null||!cs.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=sS(i,a,e);R0(i,E);break e}}i=i.return}while(i!==null)}xS(n)}catch(x){e=x,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function ES(){var t=Fc.current;return Fc.current=Mc,t===null?Mc:t}function Hg(){(et===0||et===3||et===2)&&(et=4),at===null||!(ui&268435455)&&!(bd&268435455)||Qr(at,gt)}function Vc(t,e){var n=fe;fe|=2;var r=ES();(at!==t||gt!==e)&&(mr=null,ti(t,e));do try{Pb();break}catch(s){_S(t,s)}while(1);if(Ig(),fe=n,Fc.current=r,Qe!==null)throw Error(R(261));return at=null,gt=0,et}function Pb(){for(;Qe!==null;)SS(Qe)}function Db(){for(;Qe!==null&&!iN();)SS(Qe)}function SS(t){var e=CS(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?xS(t):Qe=e,Fg.current=null}function xS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tb(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Qe=null;return}}else if(n=Ib(n,e,nn),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);et===0&&(et=5)}function Hs(t,e,n){var r=ye,s=kn.transition;try{kn.transition=null,ye=1,Ob(t,e,n,r)}finally{kn.transition=s,ye=r}return null}function Ob(t,e,n,r){do fo();while(rs!==null);if(fe&6)throw Error(R(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(mN(t,i),t===at&&(Qe=at=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,IS(xc,function(){return fo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kn.transition,kn.transition=null;var o=ye;ye=1;var a=fe;fe|=4,Fg.current=null,bb(t,n),vS(n,t),tb(Op),Cc=!!Dp,Op=Dp=null,t.current=n,Rb(n),oN(),fe=a,ye=o,kn.transition=i}else t.current=n;if($u&&($u=!1,rs=t,Bc=s),i=t.pendingLanes,i===0&&(cs=null),uN(n.stateNode),Yt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Uc)throw Uc=!1,t=tm,tm=null,t;return Bc&1&&t.tag!==0&&fo(),i=t.pendingLanes,i&1?t===nm?Ha++:(Ha=0,nm=t):Ha=0,Rs(),null}function fo(){if(rs!==null){var t=nE(Bc),e=kn.transition,n=ye;try{if(kn.transition=null,ye=16>t?16:t,rs===null)var r=!1;else{if(t=rs,rs=null,Bc=0,fe&6)throw Error(R(331));var s=fe;for(fe|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Va(8,d,i)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var f=d.sibling,g=d.return;if(pS(d),d===c){U=null;break}if(f!==null){f.return=g,U=f;break}U=g}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Va(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,U=p;break e}U=i.return}}var m=t.current;for(U=m;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=m;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nd(9,a)}}catch(x){Ue(a,a.return,x)}if(a===o){U=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,U=E;break e}U=a.return}}if(fe=s,Rs(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(_d,t)}catch{}r=!0}return r}finally{ye=n,kn.transition=e}}return!1}function J0(t,e,n){e=bo(n,e),e=rS(t,e,1),t=us(t,e,1),e=Mt(),t!==null&&(Vl(t,1,e),Yt(t,e))}function Ue(t,e,n){if(t.tag===3)J0(t,t,n);else for(;e!==null;){if(e.tag===3){J0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){t=bo(n,t),t=sS(e,t,1),e=us(e,t,1),t=Mt(),e!==null&&(Vl(e,1,t),Yt(e,t));break}}e=e.return}}function $b(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(gt&n)===n&&(et===4||et===3&&(gt&130023424)===gt&&500>qe()-Bg?ti(t,0):Ug|=n),Yt(t,e)}function kS(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=Mt();t=jr(t,e),t!==null&&(Vl(t,e,n),Yt(t,n))}function Lb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kS(t,n)}function Mb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),kS(t,n)}var CS;CS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,Cb(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Pe&&e.flags&1048576&&NE(e,jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lc(t,e),t=e.pendingProps;var s=Co(e,jt.current);ho(e,n),s=Dg(null,e,r,t,s,n);var i=Og();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(i=!0,Rc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bg(e),s.updater=Id,e.stateNode=s,s._reactInternals=e,Hp(e,r,t,n),e=Kp(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&Sg(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ub(r),t=Pn(r,t),s){case 0:e=Wp(null,e,r,t,n);break e;case 1:e=V0(null,e,r,t,n);break e;case 11:e=U0(null,e,r,t,n);break e;case 14:e=B0(null,e,r,Pn(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),Wp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),V0(t,e,r,s,n);case 3:e:{if(lS(e),t===null)throw Error(R(387));r=e.pendingProps,i=e.memoizedState,s=i.element,jE(t,e),Oc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=bo(Error(R(423)),e),e=z0(t,e,r,n,s);break e}else if(r!==s){s=bo(Error(R(424)),e),e=z0(t,e,r,n,s);break e}else for(rn=ls(e.stateNode.containerInfo.firstChild),an=e,Pe=!0,$n=null,n=$E(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Io(),r===s){e=Pr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return LE(e),t===null&&Bp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,$p(r,s)?o=null:i!==null&&$p(r,i)&&(e.flags|=32),aS(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Bp(e),null;case 13:return uS(t,e,n);case 4:return Rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),U0(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Pc,r._currentValue),r._currentValue=o,i!==null)if(Bn(i.value,o)){if(i.children===s.children&&!Gt.current){e=Pr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Cr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Vp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ho(e,n),s=Cn(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=Pn(r,e.pendingProps),s=Pn(r.type,s),B0(t,e,r,s,n);case 15:return iS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),lc(t,e),e.tag=1,Qt(r)?(t=!0,Rc(e)):t=!1,ho(e,n),DE(e,r,s),Hp(e,r,s,n),Kp(null,e,r,!0,t,n);case 19:return cS(t,e,n);case 22:return oS(t,e,n)}throw Error(R(156,e.tag))};function IS(t,e){return J_(t,e)}function Fb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new Fb(t,e,n,r)}function qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ub(t){if(typeof t=="function")return qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cg)return 11;if(t===dg)return 14}return 2}function hs(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")qg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ki:return ni(n.children,s,i,e);case ug:o=8,s|=8;break;case pp:return t=xn(12,n,e,s|2),t.elementType=pp,t.lanes=i,t;case mp:return t=xn(13,n,e,s),t.elementType=mp,t.lanes=i,t;case gp:return t=xn(19,n,e,s),t.elementType=gp,t.lanes=i,t;case O_:return Rd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P_:o=10;break e;case D_:o=9;break e;case cg:o=11;break e;case dg:o=14;break e;case Wr:o=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=xn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ni(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Rd(t,e,n,r){return t=xn(22,t,r,e),t.elementType=O_,t.lanes=n,t.stateNode={isHidden:!1},t}function xf(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function kf(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wg(t,e,n,r,s,i,o,a,l){return t=new Bb(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bg(i),t}function Vb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TS(t){if(!t)return ws;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Qt(n))return IE(t,n,e)}return e}function NS(t,e,n,r,s,i,o,a,l){return t=Wg(n,r,!0,t,s,i,o,a,l),t.context=TS(null),n=t.current,r=Mt(),s=ds(n),i=Cr(r,s),i.callback=e??null,us(n,i,s),t.current.lanes=s,Vl(t,s,r),Yt(t,r),t}function Ad(t,e,n,r){var s=e.current,i=Mt(),o=ds(s);return n=TS(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=us(s,e,o),t!==null&&(Un(t,s,o,i),ic(t,s,o)),o}function zc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kg(t,e){Z0(t,e),(t=t.alternate)&&Z0(t,e)}function zb(){return null}var bS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gg(t){this._internalRoot=t}jd.prototype.render=Gg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Ad(t,e,null,null)};jd.prototype.unmount=Gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ci(function(){Ad(null,t,null,null)}),e[Ar]=null}};function jd(t){this._internalRoot=t}jd.prototype.unstable_scheduleHydration=function(t){if(t){var e=iE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gr.length&&e!==0&&e<Gr[n].priority;n++);Gr.splice(n,0,t),n===0&&aE(t)}};function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e1(){}function Hb(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=zc(o);i.call(c)}}var o=NS(e,r,t,0,null,!1,!1,"",e1);return t._reactRootContainer=o,t[Ar]=o.current,cl(t.nodeType===8?t.parentNode:t),ci(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=zc(l);a.call(c)}}var l=Wg(t,0,!1,null,null,!1,!1,"",e1);return t._reactRootContainer=l,t[Ar]=l.current,cl(t.nodeType===8?t.parentNode:t),ci(function(){Ad(e,l,n,r)}),l}function Dd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zc(o);a.call(l)}}Ad(e,o,t,s)}else o=Hb(n,e,t,s,r);return zc(o)}rE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ia(e.pendingLanes);n!==0&&(pg(e,n|1),Yt(e,qe()),!(fe&6)&&(Ro=qe()+500,Rs()))}break;case 13:ci(function(){var r=jr(t,1);if(r!==null){var s=Mt();Un(r,t,1,s)}}),Kg(t,1)}};mg=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Mt();Un(e,t,134217728,n)}Kg(t,134217728)}};sE=function(t){if(t.tag===13){var e=ds(t),n=jr(t,e);if(n!==null){var r=Mt();Un(n,t,e,r)}Kg(t,e)}};iE=function(){return ye};oE=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Ip=function(t,e,n){switch(e){case"input":if(wp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=kd(r);if(!s)throw Error(R(90));L_(r),wp(r,s)}}}break;case"textarea":F_(t,n);break;case"select":e=n.value,e!=null&&ao(t,!!n.multiple,e,!1)}};W_=Vg;K_=ci;var qb={usingClientEntryPoint:!1,Events:[Hl,Xi,kd,H_,q_,Vg]},fa={findFiberByHostInstance:Ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wb={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y_(t),t===null?null:t.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{_d=Lu.inject(Wb),er=Lu}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qb;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qg(e))throw Error(R(200));return Vb(t,e,null,n)};dn.createRoot=function(t,e){if(!Qg(t))throw Error(R(299));var n=!1,r="",s=bS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wg(t,1,!1,null,null,n,!1,r,s),t[Ar]=e.current,cl(t.nodeType===8?t.parentNode:t),new Gg(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Y_(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return ci(t)};dn.hydrate=function(t,e,n){if(!Pd(e))throw Error(R(200));return Dd(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Qg(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=bS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NS(e,null,t,1,n??null,s,!1,i,o),t[Ar]=e.current,cl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jd(e)};dn.render=function(t,e,n){if(!Pd(e))throw Error(R(200));return Dd(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Pd(t))throw Error(R(40));return t._reactRootContainer?(ci(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ar]=null})}),!0):!1};dn.unstable_batchedUpdates=Vg;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pd(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return Dd(t,e,n,!1,r)};dn.version="18.2.0-next-9e3b772b8-20220608";function RS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RS)}catch(t){console.error(t)}}RS(),N_.exports=dn;var Yg=N_.exports;const AS=v_(Yg);var t1=Yg;hp.createRoot=t1.createRoot,hp.hydrateRoot=t1.hydrateRoot;var jS={exports:{}},PS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=S;function Kb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gb=typeof Object.is=="function"?Object.is:Kb,Qb=Ao.useState,Yb=Ao.useEffect,Xb=Ao.useLayoutEffect,Jb=Ao.useDebugValue;function Zb(t,e){var n=e(),r=Qb({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Xb(function(){s.value=n,s.getSnapshot=e,Cf(s)&&i({inst:s})},[t,n,e]),Yb(function(){return Cf(s)&&i({inst:s}),t(function(){Cf(s)&&i({inst:s})})},[t]),Jb(n),n}function Cf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gb(t,n)}catch{return!0}}function eR(t,e){return e()}var tR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eR:Zb;PS.useSyncExternalStore=Ao.useSyncExternalStore!==void 0?Ao.useSyncExternalStore:tR;jS.exports=PS;var nR=jS.exports,DS={exports:{}},OS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=S,rR=nR;function sR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iR=typeof Object.is=="function"?Object.is:sR,oR=rR.useSyncExternalStore,aR=Od.useRef,lR=Od.useEffect,uR=Od.useMemo,cR=Od.useDebugValue;OS.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=aR(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=uR(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return h=v}return h=g}if(v=h,iR(d,g))return v;var w=r(g);return s!==void 0&&s(v,w)?v:(d=g,h=w)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var a=oR(t,i[0],i[1]);return lR(function(){o.hasValue=!0,o.value=a},[a]),cR(a),a};DS.exports=OS;var dR=DS.exports;function hR(t){t()}let $S=hR;const fR=t=>$S=t,pR=()=>$S,_s=S.createContext(null);function LS(){return S.useContext(_s)}const mR=()=>{throw new Error("uSES not initialized!")};let MS=mR;const gR=t=>{MS=t},vR=(t,e)=>t===e;function yR(t=_s){const e=t===_s?LS:()=>S.useContext(t);return function(r,s=vR){const{store:i,subscription:o,getServerState:a}=e(),l=MS(o.addNestedSub,i.getState,a||i.getState,r,s);return S.useDebugValue(l),l}}const tt=yR();var FS={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=typeof Symbol=="function"&&Symbol.for,Xg=ut?Symbol.for("react.element"):60103,Jg=ut?Symbol.for("react.portal"):60106,$d=ut?Symbol.for("react.fragment"):60107,Ld=ut?Symbol.for("react.strict_mode"):60108,Md=ut?Symbol.for("react.profiler"):60114,Fd=ut?Symbol.for("react.provider"):60109,Ud=ut?Symbol.for("react.context"):60110,Zg=ut?Symbol.for("react.async_mode"):60111,Bd=ut?Symbol.for("react.concurrent_mode"):60111,Vd=ut?Symbol.for("react.forward_ref"):60112,zd=ut?Symbol.for("react.suspense"):60113,wR=ut?Symbol.for("react.suspense_list"):60120,Hd=ut?Symbol.for("react.memo"):60115,qd=ut?Symbol.for("react.lazy"):60116,_R=ut?Symbol.for("react.block"):60121,ER=ut?Symbol.for("react.fundamental"):60117,SR=ut?Symbol.for("react.responder"):60118,xR=ut?Symbol.for("react.scope"):60119;function fn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Xg:switch(t=t.type,t){case Zg:case Bd:case $d:case Md:case Ld:case zd:return t;default:switch(t=t&&t.$$typeof,t){case Ud:case Vd:case qd:case Hd:case Fd:return t;default:return e}}case Jg:return e}}}function US(t){return fn(t)===Bd}_e.AsyncMode=Zg;_e.ConcurrentMode=Bd;_e.ContextConsumer=Ud;_e.ContextProvider=Fd;_e.Element=Xg;_e.ForwardRef=Vd;_e.Fragment=$d;_e.Lazy=qd;_e.Memo=Hd;_e.Portal=Jg;_e.Profiler=Md;_e.StrictMode=Ld;_e.Suspense=zd;_e.isAsyncMode=function(t){return US(t)||fn(t)===Zg};_e.isConcurrentMode=US;_e.isContextConsumer=function(t){return fn(t)===Ud};_e.isContextProvider=function(t){return fn(t)===Fd};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xg};_e.isForwardRef=function(t){return fn(t)===Vd};_e.isFragment=function(t){return fn(t)===$d};_e.isLazy=function(t){return fn(t)===qd};_e.isMemo=function(t){return fn(t)===Hd};_e.isPortal=function(t){return fn(t)===Jg};_e.isProfiler=function(t){return fn(t)===Md};_e.isStrictMode=function(t){return fn(t)===Ld};_e.isSuspense=function(t){return fn(t)===zd};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$d||t===Bd||t===Md||t===Ld||t===zd||t===wR||typeof t=="object"&&t!==null&&(t.$$typeof===qd||t.$$typeof===Hd||t.$$typeof===Fd||t.$$typeof===Ud||t.$$typeof===Vd||t.$$typeof===ER||t.$$typeof===SR||t.$$typeof===xR||t.$$typeof===_R)};_e.typeOf=fn;FS.exports=_e;var kR=FS.exports,BS=kR,CR={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},IR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},VS={};VS[BS.ForwardRef]=CR;VS[BS.Memo]=IR;var xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=Symbol.for("react.element"),tv=Symbol.for("react.portal"),Wd=Symbol.for("react.fragment"),Kd=Symbol.for("react.strict_mode"),Gd=Symbol.for("react.profiler"),Qd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),TR=Symbol.for("react.server_context"),Xd=Symbol.for("react.forward_ref"),Jd=Symbol.for("react.suspense"),Zd=Symbol.for("react.suspense_list"),eh=Symbol.for("react.memo"),th=Symbol.for("react.lazy"),NR=Symbol.for("react.offscreen"),zS;zS=Symbol.for("react.module.reference");function Nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ev:switch(t=t.type,t){case Wd:case Gd:case Kd:case Jd:case Zd:return t;default:switch(t=t&&t.$$typeof,t){case TR:case Yd:case Xd:case th:case eh:case Qd:return t;default:return e}}case tv:return e}}}xe.ContextConsumer=Yd;xe.ContextProvider=Qd;xe.Element=ev;xe.ForwardRef=Xd;xe.Fragment=Wd;xe.Lazy=th;xe.Memo=eh;xe.Portal=tv;xe.Profiler=Gd;xe.StrictMode=Kd;xe.Suspense=Jd;xe.SuspenseList=Zd;xe.isAsyncMode=function(){return!1};xe.isConcurrentMode=function(){return!1};xe.isContextConsumer=function(t){return Nn(t)===Yd};xe.isContextProvider=function(t){return Nn(t)===Qd};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ev};xe.isForwardRef=function(t){return Nn(t)===Xd};xe.isFragment=function(t){return Nn(t)===Wd};xe.isLazy=function(t){return Nn(t)===th};xe.isMemo=function(t){return Nn(t)===eh};xe.isPortal=function(t){return Nn(t)===tv};xe.isProfiler=function(t){return Nn(t)===Gd};xe.isStrictMode=function(t){return Nn(t)===Kd};xe.isSuspense=function(t){return Nn(t)===Jd};xe.isSuspenseList=function(t){return Nn(t)===Zd};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wd||t===Gd||t===Kd||t===Jd||t===Zd||t===NR||typeof t=="object"&&t!==null&&(t.$$typeof===th||t.$$typeof===eh||t.$$typeof===Qd||t.$$typeof===Yd||t.$$typeof===Xd||t.$$typeof===zS||t.getModuleId!==void 0)};xe.typeOf=Nn;function bR(){const t=pR();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,i=n={callback:r,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){!s||e===null||(s=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}const n1={notify(){},get:()=>[]};function RR(t,e){let n,r=n1;function s(h){return l(),r.subscribe(h)}function i(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=bR())}function c(){n&&(n(),n=void 0,r.clear(),r=n1)}const d={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>r};return d}const AR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jR=AR?S.useLayoutEffect:S.useEffect;function PR({store:t,context:e,children:n,serverState:r}){const s=S.useMemo(()=>{const a=RR(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),i=S.useMemo(()=>t.getState(),[t]);jR(()=>{const{subscription:a}=s;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),i!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[s,i]);const o=e||_s;return ig.createElement(o.Provider,{value:s},n)}function HS(t=_s){const e=t===_s?LS:()=>S.useContext(t);return function(){const{store:r}=e();return r}}const DR=HS();function OR(t=_s){const e=t===_s?DR:HS(t);return function(){return e().dispatch}}const As=OR();gR(dR.useSyncExternalStoreWithSelector);fR(Yg.unstable_batchedUpdates);function Ln(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Es(t){return!!t&&!!t[je]}function Dr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===HR}(t)||Array.isArray(t)||!!t[u1]||!!(!((e=t.constructor)===null||e===void 0)&&e[u1])||nv(t)||rv(t))}function di(t,e,n){n===void 0&&(n=!1),Ko(t)===0?(n?Object.keys:mo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,s){return e(s,r,t)})}function Ko(t){var e=t[je];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:nv(t)?2:rv(t)?3:0}function po(t,e){return Ko(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $R(t,e){return Ko(t)===2?t.get(e):t[e]}function qS(t,e,n){var r=Ko(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function WS(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function nv(t){return VR&&t instanceof Map}function rv(t){return zR&&t instanceof Set}function qs(t){return t.o||t.t}function sv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=GS(t);delete e[je];for(var n=mo(e),r=0;r<n.length;r++){var s=n[r],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[s]})}return Object.create(Object.getPrototypeOf(t),e)}function iv(t,e){return e===void 0&&(e=!1),ov(t)||Es(t)||!Dr(t)||(Ko(t)>1&&(t.set=t.add=t.clear=t.delete=LR),Object.freeze(t),e&&di(t,function(n,r){return iv(r,!0)},!0)),t}function LR(){Ln(2)}function ov(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function nr(t){var e=lm[t];return e||Ln(18,t),e}function MR(t,e){lm[t]||(lm[t]=e)}function im(){return wl}function If(t,e){e&&(nr("Patches"),t.u=[],t.s=[],t.v=e)}function Hc(t){om(t),t.p.forEach(FR),t.p=null}function om(t){t===wl&&(wl=t.l)}function r1(t){return wl={p:[],l:wl,h:t,m:!0,_:0}}function FR(t){var e=t[je];e.i===0||e.i===1?e.j():e.g=!0}function Tf(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||nr("ES5").S(e,t,r),r?(n[je].P&&(Hc(e),Ln(4)),Dr(t)&&(t=qc(e,t),e.l||Wc(e,t)),e.u&&nr("Patches").M(n[je].t,t,e.u,e.s)):t=qc(e,n,[]),Hc(e),e.u&&e.v(e.u,e.s),t!==KS?t:void 0}function qc(t,e,n){if(ov(e))return e;var r=e[je];if(!r)return di(e,function(a,l){return s1(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Wc(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var s=r.i===4||r.i===5?r.o=sv(r.k):r.o,i=s,o=!1;r.i===3&&(i=new Set(s),s.clear(),o=!0),di(i,function(a,l){return s1(t,r,s,a,l,n,o)}),Wc(t,s,!1),n&&t.u&&nr("Patches").N(r,n,t.u,t.s)}return r.o}function s1(t,e,n,r,s,i,o){if(Es(s)){var a=qc(t,s,i&&e&&e.i!==3&&!po(e.R,r)?i.concat(r):void 0);if(qS(n,r,a),!Es(a))return;t.m=!1}else o&&n.add(s);if(Dr(s)&&!ov(s)){if(!t.h.D&&t._<1)return;qc(t,s),e&&e.A.l||Wc(t,s)}}function Wc(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&iv(e,n)}function Nf(t,e){var n=t[je];return(n?qs(n):t)[e]}function i1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Yr(t){t.P||(t.P=!0,t.l&&Yr(t.l))}function bf(t){t.o||(t.o=sv(t.t))}function am(t,e,n){var r=nv(e)?nr("MapSet").F(e,n):rv(e)?nr("MapSet").T(e,n):t.O?function(s,i){var o=Array.isArray(s),a={i:o?1:0,A:i?i.A:im(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},l=a,c=_l;o&&(l=[a],c=Na);var d=Proxy.revocable(l,c),h=d.revoke,f=d.proxy;return a.k=f,a.j=h,f}(e,n):nr("ES5").J(e,n);return(n?n.A:im()).p.push(r),r}function UR(t){return Es(t)||Ln(22,t),function e(n){if(!Dr(n))return n;var r,s=n[je],i=Ko(n);if(s){if(!s.P&&(s.i<4||!nr("ES5").K(s)))return s.t;s.I=!0,r=o1(n,i),s.I=!1}else r=o1(n,i);return di(r,function(o,a){s&&$R(s.t,o)===a||qS(r,o,e(a))}),i===3?new Set(r):r}(t)}function o1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return sv(t)}function BR(){function t(i,o){var a=s[i];return a?a.enumerable=o:s[i]=a={configurable:!0,enumerable:o,get:function(){var l=this[je];return _l.get(l,i)},set:function(l){var c=this[je];_l.set(c,i,l)}},a}function e(i){for(var o=i.length-1;o>=0;o--){var a=i[o][je];if(!a.P)switch(a.i){case 5:r(a)&&Yr(a);break;case 4:n(a)&&Yr(a)}}}function n(i){for(var o=i.t,a=i.k,l=mo(a),c=l.length-1;c>=0;c--){var d=l[c];if(d!==je){var h=o[d];if(h===void 0&&!po(o,d))return!0;var f=a[d],g=f&&f[je];if(g?g.t!==h:!WS(f,h))return!0}}var v=!!o[je];return l.length!==mo(o).length+(v?0:1)}function r(i){var o=i.k;if(o.length!==i.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var s={};MR("ES5",{J:function(i,o){var a=Array.isArray(i),l=function(d,h){if(d){for(var f=Array(h.length),g=0;g<h.length;g++)Object.defineProperty(f,""+g,t(g,!0));return f}var v=GS(h);delete v[je];for(var w=mo(v),_=0;_<w.length;_++){var p=w[_];v[p]=t(p,d||!!v[p].enumerable)}return Object.create(Object.getPrototypeOf(h),v)}(a,i),c={i:a?5:4,A:o?o.A:im(),P:!1,I:!1,R:{},l:o,t:i,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,je,{value:c,writable:!0}),l},S:function(i,o,a){a?Es(o)&&o[je].A===i&&e(i.p):(i.u&&function l(c){if(c&&typeof c=="object"){var d=c[je];if(d){var h=d.t,f=d.k,g=d.R,v=d.i;if(v===4)di(f,function(y){y!==je&&(h[y]!==void 0||po(h,y)?g[y]||l(f[y]):(g[y]=!0,Yr(d)))}),di(h,function(y){f[y]!==void 0||po(f,y)||(g[y]=!1,Yr(d))});else if(v===5){if(r(d)&&(Yr(d),g.length=!0),f.length<h.length)for(var w=f.length;w<h.length;w++)g[w]=!1;else for(var _=h.length;_<f.length;_++)g[_]=!0;for(var p=Math.min(f.length,h.length),m=0;m<p;m++)f.hasOwnProperty(m)||(g[m]=!0),g[m]===void 0&&l(f[m])}}}}(i.p[0]),e(i.p))},K:function(i){return i.i===4?n(i):r(i)}})}var a1,wl,av=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",VR=typeof Map<"u",zR=typeof Set<"u",l1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",KS=av?Symbol.for("immer-nothing"):((a1={})["immer-nothing"]=!0,a1),u1=av?Symbol.for("immer-draftable"):"__$immer_draftable",je=av?Symbol.for("immer-state"):"__$immer_state",HR=""+Object.prototype.constructor,mo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,GS=Object.getOwnPropertyDescriptors||function(t){var e={};return mo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},lm={},_l={get:function(t,e){if(e===je)return t;var n=qs(t);if(!po(n,e))return function(s,i,o){var a,l=i1(i,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(s.k):void 0}(t,n,e);var r=n[e];return t.I||!Dr(r)?r:r===Nf(t.t,e)?(bf(t),t.o[e]=am(t.A.h,r,t)):r},has:function(t,e){return e in qs(t)},ownKeys:function(t){return Reflect.ownKeys(qs(t))},set:function(t,e,n){var r=i1(qs(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var s=Nf(qs(t),e),i=s==null?void 0:s[je];if(i&&i.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(WS(n,s)&&(n!==void 0||po(t.t,e)))return!0;bf(t),Yr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Nf(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,bf(t),Yr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=qs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Ln(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ln(12)}},Na={};di(_l,function(t,e){Na[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Na.deleteProperty=function(t,e){return Na.set.call(this,t,e,void 0)},Na.set=function(t,e,n){return _l.set.call(this,t[0],e,n,t[0])};var qR=function(){function t(n){var r=this;this.O=l1,this.D=!0,this.produce=function(s,i,o){if(typeof s=="function"&&typeof i!="function"){var a=i;i=s;var l=r;return function(w){var _=this;w===void 0&&(w=a);for(var p=arguments.length,m=Array(p>1?p-1:0),y=1;y<p;y++)m[y-1]=arguments[y];return l.produce(w,function(E){var x;return(x=i).call.apply(x,[_,E].concat(m))})}}var c;if(typeof i!="function"&&Ln(6),o!==void 0&&typeof o!="function"&&Ln(7),Dr(s)){var d=r1(r),h=am(r,s,void 0),f=!0;try{c=i(h),f=!1}finally{f?Hc(d):om(d)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(w){return If(d,o),Tf(w,d)},function(w){throw Hc(d),w}):(If(d,o),Tf(c,d))}if(!s||typeof s!="object"){if((c=i(s))===void 0&&(c=s),c===KS&&(c=void 0),r.D&&iv(c,!0),o){var g=[],v=[];nr("Patches").M(s,c,g,v),o(g,v)}return c}Ln(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(c){for(var d=arguments.length,h=Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];return r.produceWithPatches(c,function(g){return s.apply(void 0,[g].concat(h))})};var o,a,l=r.produce(s,i,function(c,d){o=c,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Dr(n)||Ln(8),Es(n)&&(n=UR(n));var r=r1(this),s=am(this,n,void 0);return s[je].C=!0,om(r),s},e.finishDraft=function(n,r){var s=n&&n[je],i=s.A;return If(i,r),Tf(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!l1&&Ln(20),this.O=n},e.applyPatches=function(n,r){var s;for(s=r.length-1;s>=0;s--){var i=r[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(r=r.slice(s+1));var o=nr("Patches").$;return Es(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),un=new qR,QS=un.produce;un.produceWithPatches.bind(un);un.setAutoFreeze.bind(un);un.setUseProxies.bind(un);un.applyPatches.bind(un);un.createDraft.bind(un);un.finishDraft.bind(un);function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function WR(t,e){if(El(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(El(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KR(t){var e=WR(t,"string");return El(e)==="symbol"?e:String(e)}function GR(t,e,n){return e=KR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function d1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(r){GR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var h1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Rf=function(){return Math.random().toString(36).substring(7).split("").join(".")},Kc={INIT:"@@redux/INIT"+Rf(),REPLACE:"@@redux/REPLACE"+Rf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Rf()}};function QR(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function YS(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xt(1));return n(YS)(t,e)}if(typeof t!="function")throw new Error(xt(2));var s=t,i=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(xt(3));return i}function h(w){if(typeof w!="function")throw new Error(xt(4));if(l)throw new Error(xt(5));var _=!0;return c(),a.push(w),function(){if(_){if(l)throw new Error(xt(6));_=!1,c();var m=a.indexOf(w);a.splice(m,1),o=null}}}function f(w){if(!QR(w))throw new Error(xt(7));if(typeof w.type>"u")throw new Error(xt(8));if(l)throw new Error(xt(9));try{l=!0,i=s(i,w)}finally{l=!1}for(var _=o=a,p=0;p<_.length;p++){var m=_[p];m()}return w}function g(w){if(typeof w!="function")throw new Error(xt(10));s=w,f({type:Kc.REPLACE})}function v(){var w,_=h;return w={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(xt(11));function y(){m.next&&m.next(d())}y();var E=_(y);return{unsubscribe:E}}},w[h1]=function(){return this},w}return f({type:Kc.INIT}),r={dispatch:f,subscribe:h,getState:d,replaceReducer:g},r[h1]=v,r}function YR(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Kc.INIT});if(typeof r>"u")throw new Error(xt(12));if(typeof n(void 0,{type:Kc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function XS(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var s=e[r];typeof t[s]=="function"&&(n[s]=t[s])}var i=Object.keys(n),o;try{YR(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var d=!1,h={},f=0;f<i.length;f++){var g=i[f],v=n[g],w=l[g],_=v(w,c);if(typeof _>"u")throw c&&c.type,new Error(xt(14));h[g]=_,d=d||_!==w}return d=d||i.length!==Object.keys(l).length,d?h:l}}function Gc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,s){return function(){return r(s.apply(void 0,arguments))}})}function XR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var s=r.apply(void 0,arguments),i=function(){throw new Error(xt(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return i=Gc.apply(void 0,a)(s.dispatch),d1(d1({},s),{},{dispatch:i})}}}function JS(t){var e=function(r){var s=r.dispatch,i=r.getState;return function(o){return function(a){return typeof a=="function"?a(s,i,t):o(a)}}};return e}var ZS=JS();ZS.withExtraArgument=JS;const f1=ZS;var ex=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JR=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},jo=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,s=t.length;n<r;n++,s++)t[s]=e[n];return t},ZR=Object.defineProperty,e2=Object.defineProperties,t2=Object.getOwnPropertyDescriptors,p1=Object.getOwnPropertySymbols,n2=Object.prototype.hasOwnProperty,r2=Object.prototype.propertyIsEnumerable,m1=function(t,e,n){return e in t?ZR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},fs=function(t,e){for(var n in e||(e={}))n2.call(e,n)&&m1(t,n,e[n]);if(p1)for(var r=0,s=p1(e);r<s.length;r++){var n=s[r];r2.call(e,n)&&m1(t,n,e[n])}return t},Af=function(t,e){return e2(t,t2(e))},s2=function(t,e,n){return new Promise(function(r,s){var i=function(l){try{a(n.next(l))}catch(c){s(c)}},o=function(l){try{a(n.throw(l))}catch(c){s(c)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(i,o)};a((n=n.apply(t,e)).next())})},i2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gc:Gc.apply(null,arguments)};function o2(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var a2=function(t){ex(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,jo([void 0],n[0].concat(this)))):new(e.bind.apply(e,jo([void 0],n.concat(this))))},e}(Array),l2=function(t){ex(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=t.apply(this,n)||this;return Object.setPrototypeOf(s,e.prototype),s}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,jo([void 0],n[0].concat(this)))):new(e.bind.apply(e,jo([void 0],n.concat(this))))},e}(Array);function um(t){return Dr(t)?QS(t,function(){}):t}function u2(t){return typeof t=="boolean"}function c2(){return function(e){return d2(e)}}function d2(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new a2;return n&&(u2(n)?r.push(f1):r.push(f1.withExtraArgument(n.extraArgument))),r}var h2=!0;function f2(t){var e=c2(),n=t||{},r=n.reducer,s=r===void 0?void 0:r,i=n.middleware,o=i===void 0?e():i,a=n.devTools,l=a===void 0?!0:a,c=n.preloadedState,d=c===void 0?void 0:c,h=n.enhancers,f=h===void 0?void 0:h,g;if(typeof s=="function")g=s;else if(o2(s))g=XS(s);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var w=XR.apply(void 0,v),_=Gc;l&&(_=i2(fs({trace:!h2},typeof l=="object"&&l)));var p=new l2(w),m=p;Array.isArray(f)?m=jo([w],f):typeof f=="function"&&(m=f(p));var y=_.apply(void 0,m);return YS(g,d,y)}function ps(t,e){function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(e){var i=e.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return fs(fs({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function tx(t){var e={},n=[],r,s={addCase:function(i,o){var a=typeof i=="string"?i:i.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,s},addMatcher:function(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase:function(i){return r=i,s}};return t(s),[e,n,r]}function p2(t){return typeof t=="function"}function m2(t,e,n,r){n===void 0&&(n=[]);var s=typeof e=="function"?tx(e):[e,n,r],i=s[0],o=s[1],a=s[2],l;if(p2(t))l=function(){return um(t())};else{var c=um(t);l=function(){return c}}function d(h,f){h===void 0&&(h=l());var g=jo([i[f.type]],o.filter(function(v){var w=v.matcher;return w(f)}).map(function(v){var w=v.reducer;return w}));return g.filter(function(v){return!!v}).length===0&&(g=[a]),g.reduce(function(v,w){if(w)if(Es(v)){var _=v,p=w(_,f);return p===void 0?v:p}else{if(Dr(v))return QS(v,function(m){return w(m,f)});var p=w(v,f);if(p===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}return v},h)}return d.getInitialState=l,d}function g2(t,e){return t+"/"+e}function lv(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:um(t.initialState),r=t.reducers||{},s=Object.keys(r),i={},o={},a={};s.forEach(function(d){var h=r[d],f=g2(e,d),g,v;"reducer"in h?(g=h.reducer,v=h.prepare):g=h,i[d]=g,o[f]=g,a[d]=v?ps(f,v):ps(f)});function l(){var d=typeof t.extraReducers=="function"?tx(t.extraReducers):[t.extraReducers],h=d[0],f=h===void 0?{}:h,g=d[1],v=g===void 0?[]:g,w=d[2],_=w===void 0?void 0:w,p=fs(fs({},f),o);return m2(n,function(m){for(var y in p)m.addCase(y,p[y]);for(var E=0,x=v;E<x.length;E++){var I=x[E];m.addMatcher(I.matcher,I.reducer)}_&&m.addDefaultCase(_)})}var c;return{name:e,reducer:function(d,h){return c||(c=l()),c(d,h)},actions:a,caseReducers:i,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var v2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",y2=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=v2[Math.random()*64|0];return e},w2=["name","message","stack","code"],jf=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),g1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),_2=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=w2;n<r.length;n++){var s=r[n];typeof t[s]=="string"&&(e[s]=t[s])}return e}return{message:String(t)}};(function(){function t(e,n,r){var s=ps(e+"/fulfilled",function(c,d,h,f){return{payload:c,meta:Af(fs({},f||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),i=ps(e+"/pending",function(c,d,h){return{payload:void 0,meta:Af(fs({},h||{}),{arg:d,requestId:c,requestStatus:"pending"})}}),o=ps(e+"/rejected",function(c,d,h,f,g){return{payload:f,error:(r&&r.serializeError||_2)(c||"Rejected"),meta:Af(fs({},g||{}),{arg:h,requestId:d,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(d,h,f){var g=r!=null&&r.idGenerator?r.idGenerator(c):y2(),v=new a,w;function _(m){w=m,v.abort()}var p=function(){return s2(this,null,function(){var m,y,E,x,I,N,j;return JR(this,function(P){switch(P.label){case 0:return P.trys.push([0,4,,5]),x=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,c,{getState:h,extra:f}),S2(x)?[4,x]:[3,2];case 1:x=P.sent(),P.label=2;case 2:if(x===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(M,$){return v.signal.addEventListener("abort",function(){return $({name:"AbortError",message:w||"Aborted"})})}),d(i(g,c,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:g,arg:c},{getState:h,extra:f}))),[4,Promise.race([I,Promise.resolve(n(c,{dispatch:d,getState:h,extra:f,requestId:g,signal:v.signal,abort:_,rejectWithValue:function(M,$){return new jf(M,$)},fulfillWithValue:function(M,$){return new g1(M,$)}})).then(function(M){if(M instanceof jf)throw M;return M instanceof g1?s(M.payload,g,c,M.meta):s(M,g,c)})])];case 3:return E=P.sent(),[3,5];case 4:return N=P.sent(),E=N instanceof jf?o(null,g,c,N.payload,N.meta):o(N,g,c),[3,5];case 5:return j=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,j||d(E),[2,E]}})})}();return Object.assign(p,{abort:_,requestId:g,arg:c,unwrap:function(){return p.then(E2)}})}}return Object.assign(l,{pending:i,rejected:o,fulfilled:s,typePrefix:e})}return t.withTypes=function(){return t},t})();function E2(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function S2(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var uv="listenerMiddleware";ps(uv+"/add");ps(uv+"/removeAll");ps(uv+"/remove");var v1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);BR();const nx=lv({name:"user",initialState:{data:{},myCourses:[],allCourses:[]},reducers:{setData:(t,e)=>({...t,data:e.payload}),setCourses:(t,e)=>({...t,myCourses:e.payload}),setAllCourses:(t,e)=>({...t,allCourses:e.payload}),reset:(t,e)=>({data:{},myCourses:[],allCourses:[]})}}),{setData:cm,setCourses:rx,reset:x2,setAllCourses:k2}=nx.actions,C2=nx.reducer,sx=lv({name:"questions",initialState:{queue:[],answers:[],trace:[0,0,0]},reducers:{startExamAction:(t,e)=>({...t,queue:e.payload}),setQuestion:(t,e)=>{let n=[...t.trace];return n[2]=e.payload,{...t,trace:n}},setComp:(t,e)=>{let n=[...t.trace];return n[1]=e.payload,n[2]=0,{...t,trace:n}},setSection:(t,e)=>({...t,trace:[e.payload,0,0]}),resetQuestion:(t,e)=>({queue:[],answers:[],trace:[0,0,0]})}}),{startExamAction:I2,setQuestion:T2,setComp:N2,setSection:b2,resetQuestion:R2}=sx.actions,A2=sx.reducer,ix=lv({name:"result",initialState:{result:{},status:{"0 0 0":{isVisited:!0,isMarked:!1,isAnswered:!1}},timer:{"0 0 0":[0,0,0]}},reducers:{setVisit:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`;if(t.status[r]){const s={...t.status[r]};s.isVisited=!0;const i={...t.status};return i[r]=s,{...t,status:i}}else{const s={isVisited:!0,isMarked:!1,isAnswered:!1},i={...t.status};return i[r]=s,{...t,status:i}}},clearQues:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`,s={...t.status};s[r]={isVisited:!0,isAnswered:!1,isMarked:!1};const i={...t.result};return i[r]=null,{...t,result:i,status:s}},saveAnswer:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`,s={...t.result};s[r]=n[3];const i={...t.status[r]};i.isAnswered=!0;const o={...t.status};return o[r]=i,{...t,result:{...s},status:{...o}}},markQuestion:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`,s={...t.status[r]};s.isMarked=!0;const i={...t.status};return i[r]=s,{...t,status:i}},markSave:(t,e)=>{const n=e.payload,r=`${n[0]} ${n[1]} ${n[2]}`,s={...t.result};s[r]=n[3];const i={...t.status[r]};i.isAnswered=!0,i.isMarked=!0;const o={...t.status};return o[r]=i,{...t,result:{...s},status:{...o}}},saveTimer:(t,e)=>{const n=e.payload.arr,r=e.payload.index,s={...t.timer};return s[r]=n,{...t,timer:s}},resetResult:(t,e)=>({result:{},status:{"0 0 0":{isVisited:!0,isMarked:!1,isAnswered:!1}},timer:{"0 0 0":[0,0,0]}})}}),{setVisit:j2,clearQues:P2,saveAnswer:D2,markQuestion:O2,markSave:$2,saveTimer:L2,resetResult:M2}=ix.actions,F2=ix.reducer,U2=XS({user:C2,questions:A2,results:F2}),B2=f2({reducer:U2});/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ge.apply(this,arguments)}var Ke;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ke||(Ke={}));const y1="popstate";function V2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Sl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hi(s)}return H2(e,n,null,t)}function ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Po(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z2(){return Math.random().toString(36).substr(2,8)}function w1(t,e){return{usr:t.state,key:t.key,idx:e}}function Sl(t,e,n,r){return n===void 0&&(n=null),ge({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Br(e):e,{state:n,key:e&&e.key||r||z2()})}function hi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Br(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function H2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ke.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ge({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ke.Pop;let _=d(),p=_==null?null:_-c;c=_,l&&l({action:a,location:w.location,delta:p})}function f(_,p){a=Ke.Push;let m=Sl(w.location,_,p);n&&n(m,_),c=d()+1;let y=w1(m,c),E=w.createHref(m);try{o.pushState(y,"",E)}catch{s.location.assign(E)}i&&l&&l({action:a,location:w.location,delta:1})}function g(_,p){a=Ke.Replace;let m=Sl(w.location,_,p);n&&n(m,_),c=d();let y=w1(m,c),E=w.createHref(m);o.replaceState(y,"",E),i&&l&&l({action:a,location:w.location,delta:0})}function v(_){let p=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof _=="string"?_:hi(_);return ie(p,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,p)}let w={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(y1,h),l=_,()=>{s.removeEventListener(y1,h),l=null}},createHref(_){return e(s,_)},createURL:v,encodeLocation(_){let p=v(_);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(_){return o.go(_)}};return w}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));const q2=new Set(["lazy","caseSensitive","path","id","index","children"]);function W2(t){return t.index===!0}function dm(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,i],a=typeof s.id=="string"?s.id:o.join("-");if(ie(s.index!==!0||!s.children,"Cannot specify children on an index route"),ie(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),W2(s)){let l=ge({},s,e(s),{id:a});return r[a]=l,l}else{let l=ge({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=dm(s.children,e,o,r)),l}})}function so(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Br(e):e,s=Go(r.pathname||"/",n);if(s==null)return null;let i=ox(t);K2(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=nA(i[a],iA(s));return o}function ox(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ir([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ie(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ox(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:eA(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ax(i.path))s(i,o,l)}),e}function ax(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ax(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function K2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G2=/^:\w+$/,Q2=3,Y2=2,X2=1,J2=10,Z2=-2,_1=t=>t==="*";function eA(t,e){let n=t.split("/"),r=n.length;return n.some(_1)&&(r+=Z2),e&&(r+=Y2),n.filter(s=>!_1(s)).reduce((s,i)=>s+(G2.test(i)?Q2:i===""?X2:J2),r)}function tA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function nA(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=rA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;i.push({params:r,pathname:Ir([s,d.pathname]),pathnameBase:uA(Ir([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ir([s,d.pathnameBase]))}return i}function rA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[d]=oA(a[h]||"",d),c},{}),pathname:i,pathnameBase:o,pattern:t}}function sA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Po(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function iA(t){try{return decodeURI(t)}catch(e){return Po(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oA(t,e){try{return decodeURIComponent(t)}catch(n){return Po(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Go(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Br(t):t;return{pathname:n?n.startsWith("/")?n:lA(n,e):e,search:cA(r),hash:dA(s)}}function lA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wl(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nh(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Br(t):(s=ge({},t),ie(!s.pathname||!s.pathname.includes("?"),Pf("?","pathname","search",s)),ie(!s.pathname||!s.pathname.includes("#"),Pf("#","pathname","hash",s)),ie(!s.search||!s.search.includes("#"),Pf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=aA(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),uA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class cv{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function lx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ux=["post","put","patch","delete"],hA=new Set(ux),fA=["get",...ux],pA=new Set(fA),mA=new Set([301,302,303,307,308]),gA=new Set([307,308]),Df={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},vA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},E1={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yA=!dx,wA=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function _A(t){ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e;if(t.mapRouteProperties)e=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;e=C=>({hasErrorBoundary:k(C)})}else e=wA;let n={},r=dm(t.routes,e,void 0,n),s,i=t.basename||"/",o=ge({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),a=null,l=new Set,c=null,d=null,h=null,f=t.hydrationData!=null,g=so(r,t.history.location,i),v=null;if(g==null){let k=Dn(404,{pathname:t.history.location.pathname}),{matches:C,route:b}=N1(r);g=C,v={[b.id]:k}}let w=!g.some(k=>k.route.lazy)&&(!g.some(k=>k.route.loader)||t.hydrationData!=null),_,p={historyAction:t.history.action,location:t.history.location,matches:g,initialized:w,navigation:Df,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},m=Ke.Pop,y=!1,E,x=!1,I=!1,N=[],j=[],P=new Map,M=0,$=-1,Ee=new Map,Vt=new Set,bn=new Map,cr=new Map,mn=new Map,Ls=!1;function F(){return a=t.history.listen(k=>{let{action:C,location:b,delta:B}=k;if(Ls){Ls=!1;return}Po(mn.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=Hy({currentLocation:p.location,nextLocation:b,historyAction:C});if(z&&B!=null){Ls=!0,t.history.go(B*-1),vu(z,{state:"blocked",location:b,proceed(){vu(z,{state:"proceeding",proceed:void 0,reset:void 0,location:b}),t.history.go(B)},reset(){sa(z),oe({blockers:new Map(_.state.blockers)})}});return}return gn(C,b)}),p.initialized||gn(Ke.Pop,p.location),_}function ee(){a&&a(),l.clear(),E&&E.abort(),p.fetchers.forEach((k,C)=>Hh(C)),p.blockers.forEach((k,C)=>sa(C))}function se(k){return l.add(k),()=>l.delete(k)}function oe(k){p=ge({},p,k),l.forEach(C=>C(p))}function Ae(k,C){var b,B;let z=p.actionData!=null&&p.navigation.formMethod!=null&&gr(p.navigation.formMethod)&&p.navigation.state==="loading"&&((b=k.state)==null?void 0:b._isRedirect)!==!0,Y;C.actionData?Object.keys(C.actionData).length>0?Y=C.actionData:Y=null:z?Y=p.actionData:Y=null;let re=C.loaderData?T1(p.loaderData,C.loaderData,C.matches||[],C.errors):p.loaderData;for(let[q]of mn)sa(q);let G=y===!0||p.navigation.formMethod!=null&&gr(p.navigation.formMethod)&&((B=k.state)==null?void 0:B._isRedirect)!==!0;s&&(r=s,s=void 0),oe(ge({},C,{actionData:Y,loaderData:re,historyAction:m,location:k,initialized:!0,navigation:Df,revalidation:"idle",restoreScrollPosition:qy(k,C.matches||p.matches),preventScrollReset:G,blockers:new Map(p.blockers)})),x||m===Ke.Pop||(m===Ke.Push?t.history.push(k,k.state):m===Ke.Replace&&t.history.replace(k,k.state)),m=Ke.Pop,y=!1,x=!1,I=!1,N=[],j=[]}async function Ms(k,C){if(typeof k=="number"){t.history.go(k);return}let b=hm(p.location,p.matches,i,o.v7_prependBasename,k,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:B,submission:z,error:Y}=S1(o.v7_normalizeFormMethod,!1,b,C),re=p.location,G=Sl(p.location,B,C&&C.state);G=ge({},G,t.history.encodeLocation(G));let q=C&&C.replace!=null?C.replace:void 0,pe=Ke.Push;q===!0?pe=Ke.Replace:q===!1||z!=null&&gr(z.formMethod)&&z.formAction===p.location.pathname+p.location.search&&(pe=Ke.Replace);let Se=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,wt=Hy({currentLocation:re,nextLocation:G,historyAction:pe});if(wt){vu(wt,{state:"blocked",location:G,proceed(){vu(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ms(k,C)},reset(){sa(wt),oe({blockers:new Map(p.blockers)})}});return}return await gn(pe,G,{submission:z,pendingError:Y,preventScrollReset:Se,replace:C&&C.replace})}function dr(){if(Vh(),oe({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){gn(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}gn(m||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function gn(k,C,b){E&&E.abort(),E=null,m=k,x=(b&&b.startUninterruptedRevalidation)===!0,_T(p.location,p.matches),y=(b&&b.preventScrollReset)===!0;let B=s||r,z=b&&b.overrideNavigation,Y=so(B,C,i);if(!Y){let rt=Dn(404,{pathname:C.pathname}),{matches:st,route:vn}=N1(B);qh(),Ae(C,{matches:st,loaderData:{},errors:{[vn.id]:rt}});return}if(p.initialized&&CA(p.location,C)&&!(b&&b.submission&&gr(b.submission.formMethod))){Ae(C,{matches:Y});return}E=new AbortController;let re=ma(t.history,C,E.signal,b&&b.submission),G,q;if(b&&b.pendingError)q={[io(Y).route.id]:b.pendingError};else if(b&&b.submission&&gr(b.submission.formMethod)){let rt=await hr(re,C,b.submission,Y,{replace:b.replace});if(rt.shortCircuited)return;G=rt.pendingActionData,q=rt.pendingActionError,z=ge({state:"loading",location:C},b.submission),re=new Request(re.url,{signal:re.signal})}let{shortCircuited:pe,loaderData:Se,errors:wt}=await ji(re,C,Y,z,b&&b.submission,b&&b.fetcherSubmission,b&&b.replace,G,q);pe||(E=null,Ae(C,ge({matches:Y},G?{actionData:G}:{},{loaderData:Se,errors:wt})))}async function hr(k,C,b,B,z){Vh();let Y=ge({state:"submitting",location:C},b);oe({navigation:Y});let re,G=fm(B,C);if(!G.route.action&&!G.route.lazy)re={type:Xe.error,error:Dn(405,{method:k.method,pathname:C.pathname,routeId:G.route.id})};else if(re=await pa("action",k,G,B,n,e,i),k.signal.aborted)return{shortCircuited:!0};if(go(re)){let q;return z&&z.replace!=null?q=z.replace:q=re.location===p.location.pathname+p.location.search,await ra(p,re,{submission:b,replace:q}),{shortCircuited:!0}}if(qa(re)){let q=io(B,G.route.id);return(z&&z.replace)!==!0&&(m=Ke.Push),{pendingActionData:{},pendingActionError:{[q.route.id]:re.error}}}if(Ys(re))throw Dn(400,{type:"defer-action"});return{pendingActionData:{[G.route.id]:re.data}}}async function ji(k,C,b,B,z,Y,re,G,q){let pe=B;pe||(pe=ge({state:"loading",location:C,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},z));let Se=z||Y?z||Y:pe.formMethod&&pe.formAction&&pe.formData&&pe.formEncType?{formMethod:pe.formMethod,formAction:pe.formAction,formData:pe.formData,formEncType:pe.formEncType}:void 0,wt=s||r,[rt,st]=x1(t.history,p,b,Se,C,I,N,j,bn,wt,i,G,q);if(qh(Oe=>!(b&&b.some(yn=>yn.route.id===Oe))||rt&&rt.some(yn=>yn.route.id===Oe)),rt.length===0&&st.length===0){let Oe=Vy();return Ae(C,ge({matches:b,loaderData:{},errors:q||null},G?{actionData:G}:{},Oe?{fetchers:new Map(p.fetchers)}:{})),{shortCircuited:!0}}if(!x){st.forEach(yn=>{let Di=p.fetchers.get(yn.key),Yh={state:"loading",data:Di&&Di.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(yn.key,Yh)});let Oe=G||p.actionData;oe(ge({navigation:pe},Oe?Object.keys(Oe).length===0?{actionData:null}:{actionData:Oe}:{},st.length>0?{fetchers:new Map(p.fetchers)}:{}))}$=++M,st.forEach(Oe=>{Oe.controller&&P.set(Oe.key,Oe.controller)});let vn=()=>st.forEach(Oe=>Pi(Oe.key));E&&E.signal.addEventListener("abort",vn);let{results:ia,loaderResults:Wh,fetcherResults:yu}=await Uy(p.matches,b,rt,st,k);if(k.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",vn),st.forEach(Oe=>P.delete(Oe.key));let zr=b1(ia);if(zr)return await ra(p,zr,{replace:re}),{shortCircuited:!0};let{loaderData:wu,errors:Kh}=I1(p,b,rt,Wh,q,st,yu,cr);cr.forEach((Oe,yn)=>{Oe.subscribe(Di=>{(Di||Oe.done)&&cr.delete(yn)})});let Gh=Vy(),Qh=zy($),_u=Gh||Qh||st.length>0;return ge({loaderData:wu,errors:Kh},_u?{fetchers:new Map(p.fetchers)}:{})}function Fy(k){return p.fetchers.get(k)||vA}function mT(k,C,b,B){if(yA)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(k)&&Pi(k);let z=s||r,Y=hm(p.location,p.matches,i,o.v7_prependBasename,b,C,B==null?void 0:B.relative),re=so(z,Y,i);if(!re){zh(k,C,Dn(404,{pathname:Y}));return}let{path:G,submission:q}=S1(o.v7_normalizeFormMethod,!0,Y,B),pe=fm(re,G);if(y=(B&&B.preventScrollReset)===!0,q&&gr(q.formMethod)){gT(k,C,G,pe,re,q);return}bn.set(k,{routeId:C,path:G}),vT(k,C,G,pe,re,q)}async function gT(k,C,b,B,z,Y){if(Vh(),bn.delete(k),!B.route.action&&!B.route.lazy){let Zt=Dn(405,{method:Y.formMethod,pathname:b,routeId:C});zh(k,C,Zt);return}let re=p.fetchers.get(k),G=ge({state:"submitting"},Y,{data:re&&re.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(k,G),oe({fetchers:new Map(p.fetchers)});let q=new AbortController,pe=ma(t.history,b,q.signal,Y);P.set(k,q);let Se=await pa("action",pe,B,z,n,e,i);if(pe.signal.aborted){P.get(k)===q&&P.delete(k);return}if(go(Se)){P.delete(k),Vt.add(k);let Zt=ge({state:"loading"},Y,{data:void 0," _hasFetcherDoneAnything ":!0});return p.fetchers.set(k,Zt),oe({fetchers:new Map(p.fetchers)}),ra(p,Se,{submission:Y,isFetchActionRedirect:!0})}if(qa(Se)){zh(k,C,Se.error);return}if(Ys(Se))throw Dn(400,{type:"defer-action"});let wt=p.navigation.location||p.location,rt=ma(t.history,wt,q.signal),st=s||r,vn=p.navigation.state!=="idle"?so(st,p.navigation.location,i):p.matches;ie(vn,"Didn't find any matches after fetcher action");let ia=++M;Ee.set(k,ia);let Wh=ge({state:"loading",data:Se.data},Y,{" _hasFetcherDoneAnything ":!0});p.fetchers.set(k,Wh);let[yu,zr]=x1(t.history,p,vn,Y,wt,I,N,j,bn,st,i,{[B.route.id]:Se.data},void 0);zr.filter(Zt=>Zt.key!==k).forEach(Zt=>{let Xh=Zt.key,Wy=p.fetchers.get(Xh),ST={state:"loading",data:Wy&&Wy.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(Xh,ST),Zt.controller&&P.set(Xh,Zt.controller)}),oe({fetchers:new Map(p.fetchers)});let wu=()=>zr.forEach(Zt=>Pi(Zt.key));q.signal.addEventListener("abort",wu);let{results:Kh,loaderResults:Gh,fetcherResults:Qh}=await Uy(p.matches,vn,yu,zr,rt);if(q.signal.aborted)return;q.signal.removeEventListener("abort",wu),Ee.delete(k),P.delete(k),zr.forEach(Zt=>P.delete(Zt.key));let _u=b1(Kh);if(_u)return ra(p,_u);let{loaderData:Oe,errors:yn}=I1(p,p.matches,yu,Gh,void 0,zr,Qh,cr),Di={state:"idle",data:Se.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(k,Di);let Yh=zy(ia);p.navigation.state==="loading"&&ia>$?(ie(m,"Expected pending action"),E&&E.abort(),Ae(p.navigation.location,{matches:vn,loaderData:Oe,errors:yn,fetchers:new Map(p.fetchers)})):(oe(ge({errors:yn,loaderData:T1(p.loaderData,Oe,vn,yn)},Yh?{fetchers:new Map(p.fetchers)}:{})),I=!1)}async function vT(k,C,b,B,z,Y){let re=p.fetchers.get(k),G=ge({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Y,{data:re&&re.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(k,G),oe({fetchers:new Map(p.fetchers)});let q=new AbortController,pe=ma(t.history,b,q.signal);P.set(k,q);let Se=await pa("loader",pe,B,z,n,e,i);if(Ys(Se)&&(Se=await mx(Se,pe.signal,!0)||Se),P.get(k)===q&&P.delete(k),pe.signal.aborted)return;if(go(Se)){Vt.add(k),await ra(p,Se);return}if(qa(Se)){let rt=io(p.matches,C);p.fetchers.delete(k),oe({fetchers:new Map(p.fetchers),errors:{[rt.route.id]:Se.error}});return}ie(!Ys(Se),"Unhandled fetcher deferred data");let wt={state:"idle",data:Se.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(k,wt),oe({fetchers:new Map(p.fetchers)})}async function ra(k,C,b){var B;let{submission:z,replace:Y,isFetchActionRedirect:re}=b===void 0?{}:b;C.revalidate&&(I=!0);let G=Sl(k.location,C.location,ge({_isRedirect:!0},re?{_isFetchActionRedirect:!0}:{}));if(ie(G,"Expected a location on the redirect navigation"),cx.test(C.location)&&dx&&typeof((B=window)==null?void 0:B.location)<"u"){let st=t.history.createURL(C.location),vn=Go(st.pathname,i)==null;if(window.location.origin!==st.origin||vn){Y?window.location.replace(C.location):window.location.assign(C.location);return}}E=null;let q=Y===!0?Ke.Replace:Ke.Push,{formMethod:pe,formAction:Se,formEncType:wt,formData:rt}=k.navigation;!z&&pe&&Se&&rt&&wt&&(z={formMethod:pe,formAction:Se,formEncType:wt,formData:rt}),gA.has(C.status)&&z&&gr(z.formMethod)?await gn(q,G,{submission:ge({},z,{formAction:C.location}),preventScrollReset:y}):re?await gn(q,G,{overrideNavigation:{state:"loading",location:G,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:z,preventScrollReset:y}):await gn(q,G,{overrideNavigation:{state:"loading",location:G,formMethod:z?z.formMethod:void 0,formAction:z?z.formAction:void 0,formEncType:z?z.formEncType:void 0,formData:z?z.formData:void 0},preventScrollReset:y})}async function Uy(k,C,b,B,z){let Y=await Promise.all([...b.map(q=>pa("loader",z,q,C,n,e,i)),...B.map(q=>q.matches&&q.match&&q.controller?pa("loader",ma(t.history,q.path,q.controller.signal),q.match,q.matches,n,e,i):{type:Xe.error,error:Dn(404,{pathname:q.path})})]),re=Y.slice(0,b.length),G=Y.slice(b.length);return await Promise.all([R1(k,b,re,re.map(()=>z.signal),!1,p.loaderData),R1(k,B.map(q=>q.match),G,B.map(q=>q.controller?q.controller.signal:null),!0)]),{results:Y,loaderResults:re,fetcherResults:G}}function Vh(){I=!0,N.push(...qh()),bn.forEach((k,C)=>{P.has(C)&&(j.push(C),Pi(C))})}function zh(k,C,b){let B=io(p.matches,C);Hh(k),oe({errors:{[B.route.id]:b},fetchers:new Map(p.fetchers)})}function Hh(k){P.has(k)&&Pi(k),bn.delete(k),Ee.delete(k),Vt.delete(k),p.fetchers.delete(k)}function Pi(k){let C=P.get(k);ie(C,"Expected fetch controller: "+k),C.abort(),P.delete(k)}function By(k){for(let C of k){let B={state:"idle",data:Fy(C).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(C,B)}}function Vy(){let k=[],C=!1;for(let b of Vt){let B=p.fetchers.get(b);ie(B,"Expected fetcher: "+b),B.state==="loading"&&(Vt.delete(b),k.push(b),C=!0)}return By(k),C}function zy(k){let C=[];for(let[b,B]of Ee)if(B<k){let z=p.fetchers.get(b);ie(z,"Expected fetcher: "+b),z.state==="loading"&&(Pi(b),Ee.delete(b),C.push(b))}return By(C),C.length>0}function yT(k,C){let b=p.blockers.get(k)||E1;return mn.get(k)!==C&&mn.set(k,C),b}function sa(k){p.blockers.delete(k),mn.delete(k)}function vu(k,C){let b=p.blockers.get(k)||E1;ie(b.state==="unblocked"&&C.state==="blocked"||b.state==="blocked"&&C.state==="blocked"||b.state==="blocked"&&C.state==="proceeding"||b.state==="blocked"&&C.state==="unblocked"||b.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+b.state+" -> "+C.state),p.blockers.set(k,C),oe({blockers:new Map(p.blockers)})}function Hy(k){let{currentLocation:C,nextLocation:b,historyAction:B}=k;if(mn.size===0)return;mn.size>1&&Po(!1,"A router only supports one blocker at a time");let z=Array.from(mn.entries()),[Y,re]=z[z.length-1],G=p.blockers.get(Y);if(!(G&&G.state==="proceeding")&&re({currentLocation:C,nextLocation:b,historyAction:B}))return Y}function qh(k){let C=[];return cr.forEach((b,B)=>{(!k||k(B))&&(b.cancel(),C.push(B),cr.delete(B))}),C}function wT(k,C,b){if(c=k,h=C,d=b||(B=>B.key),!f&&p.navigation===Df){f=!0;let B=qy(p.location,p.matches);B!=null&&oe({restoreScrollPosition:B})}return()=>{c=null,h=null,d=null}}function _T(k,C){if(c&&d&&h){let b=C.map(z=>A1(z,p.loaderData)),B=d(k,b)||k.key;c[B]=h()}}function qy(k,C){if(c&&d&&h){let b=C.map(Y=>A1(Y,p.loaderData)),B=d(k,b)||k.key,z=c[B];if(typeof z=="number")return z}return null}function ET(k){n={},s=dm(k,e,void 0,n)}return _={get basename(){return i},get state(){return p},get routes(){return r},initialize:F,subscribe:se,enableScrollRestoration:wT,navigate:Ms,fetch:mT,revalidate:dr,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Fy,deleteFetcher:Hh,dispose:ee,getBlocker:yT,deleteBlocker:sa,_internalFetchControllers:P,_internalActiveDeferreds:cr,_internalSetRoutes:ET},_}function EA(t){return t!=null&&"formData"in t}function hm(t,e,n,r,s,i,o){let a,l;if(i!=null&&o!=="path"){a=[];for(let d of e)if(a.push(d),d.route.id===i){l=d;break}}else a=e,l=e[e.length-1];let c=nh(s||".",Wl(a).map(d=>d.pathnameBase),Go(t.pathname,n)||t.pathname,o==="path");return s==null&&(c.search=t.search,c.hash=t.hash),(s==null||s===""||s===".")&&l&&l.route.index&&!dv(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Ir([n,c.pathname])),hi(c)}function S1(t,e,n,r){if(!r||!EA(r))return{path:n};if(r.formMethod&&!NA(r.formMethod))return{path:n,error:Dn(405,{method:r.formMethod})};let s;if(r.formData){let a=r.formMethod||"get";if(s={formMethod:t?a.toUpperCase():a.toLowerCase(),formAction:px(n),formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:r.formData},gr(s.formMethod))return{path:n,submission:s}}let i=Br(n),o=fx(r.formData);return e&&i.search&&dv(i.search)&&o.append("index",""),i.search="?"+o,{path:hi(i),submission:s}}function SA(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function x1(t,e,n,r,s,i,o,a,l,c,d,h,f){let g=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,v=t.createURL(e.location),w=t.createURL(s),_=f?Object.keys(f)[0]:void 0,m=SA(n,_).filter((E,x)=>{if(E.route.lazy)return!0;if(E.route.loader==null)return!1;if(xA(e.loaderData,e.matches[x],E)||o.some(j=>j===E.route.id))return!0;let I=e.matches[x],N=E;return k1(E,ge({currentUrl:v,currentParams:I.params,nextUrl:w,nextParams:N.params},r,{actionResult:g,defaultShouldRevalidate:i||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||hx(I,N)}))}),y=[];return l.forEach((E,x)=>{if(!n.some(P=>P.route.id===E.routeId))return;let I=so(c,E.path,d);if(!I){y.push({key:x,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let N=fm(I,E.path);if(a.includes(x)){y.push({key:x,routeId:E.routeId,path:E.path,matches:I,match:N,controller:new AbortController});return}k1(N,ge({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:i}))&&y.push({key:x,routeId:E.routeId,path:E.path,matches:I,match:N,controller:new AbortController})}),[m,y]}function xA(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function hx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function k1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function C1(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];ie(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";Po(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!q2.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,ge({},e(s),{lazy:void 0}))}async function pa(t,e,n,r,s,i,o,a,l,c){a===void 0&&(a=!1),l===void 0&&(l=!1);let d,h,f,g=_=>{let p,m=new Promise((y,E)=>p=E);return f=()=>p(),e.signal.addEventListener("abort",f),Promise.race([_({request:e,params:n.params,context:c}),m])};try{let _=n.route[t];if(n.route.lazy)if(_)h=(await Promise.all([g(_),C1(n.route,i,s)]))[0];else if(await C1(n.route,i,s),_=n.route[t],_)h=await g(_);else if(t==="action"){let p=new URL(e.url),m=p.pathname+p.search;throw Dn(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Xe.data,data:void 0};else if(_)h=await g(_);else{let p=new URL(e.url),m=p.pathname+p.search;throw Dn(404,{pathname:m})}ie(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){d=Xe.error,h=_}finally{f&&e.signal.removeEventListener("abort",f)}if(TA(h)){let _=h.status;if(mA.has(_)){let y=h.headers.get("Location");if(ie(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!cx.test(y))y=hm(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,y);else if(!a){let E=new URL(e.url),x=y.startsWith("//")?new URL(E.protocol+y):new URL(y),I=Go(x.pathname,o)!=null;x.origin===E.origin&&I&&(y=x.pathname+x.search+x.hash)}if(a)throw h.headers.set("Location",y),h;return{type:Xe.redirect,status:_,location:y,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:d||Xe.data,response:h};let p,m=h.headers.get("Content-Type");return m&&/\bapplication\/json\b/.test(m)?p=await h.json():p=await h.text(),d===Xe.error?{type:d,error:new cv(_,h.statusText,p),headers:h.headers}:{type:Xe.data,data:p,statusCode:h.status,headers:h.headers}}if(d===Xe.error)return{type:d,error:h};if(IA(h)){var v,w;return{type:Xe.deferred,deferredData:h,statusCode:(v=h.init)==null?void 0:v.status,headers:((w=h.init)==null?void 0:w.headers)&&new Headers(h.init.headers)}}return{type:Xe.data,data:h}}function ma(t,e,n,r){let s=t.createURL(px(e)).toString(),i={signal:n};if(r&&gr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;i.method=o.toUpperCase(),i.body=a==="application/x-www-form-urlencoded"?fx(l):l}return new Request(s,i)}function fx(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function kA(t,e,n,r,s){let i={},o=null,a,l=!1,c={};return n.forEach((d,h)=>{let f=e[h].route.id;if(ie(!go(d),"Cannot handle redirect results in processLoaderData"),qa(d)){let g=io(t,f),v=d.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=v),i[f]=void 0,l||(l=!0,a=lx(d.error)?d.error.status:500),d.headers&&(c[f]=d.headers)}else Ys(d)?(s.set(f,d.deferredData),i[f]=d.deferredData.data):i[f]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[f]=d.headers)}),r&&(o=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function I1(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=kA(e,n,r,s,a);for(let d=0;d<i.length;d++){let{key:h,match:f,controller:g}=i[d];ie(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let v=o[d];if(!(g&&g.signal.aborted))if(qa(v)){let w=io(t.matches,f==null?void 0:f.route.id);c&&c[w.route.id]||(c=ge({},c,{[w.route.id]:v.error})),t.fetchers.delete(h)}else if(go(v))ie(!1,"Unhandled fetcher revalidation redirect");else if(Ys(v))ie(!1,"Unhandled fetcher deferred data");else{let w={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(h,w)}}return{loaderData:l,errors:c}}function T1(t,e,n,r){let s=ge({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function io(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function N1(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Dn(t,e){let{pathname:n,routeId:r,method:s,type:i}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",s&&n&&r?a="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",s&&n&&r?a="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(a='Invalid request method "'+s.toUpperCase()+'"')),new cv(t||500,o,new Error(a),!0)}function b1(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(go(n))return n}}function px(t){let e=typeof t=="string"?Br(t):t;return hi(ge({},e,{hash:""}))}function CA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ys(t){return t.type===Xe.deferred}function qa(t){return t.type===Xe.error}function go(t){return(t&&t.type)===Xe.redirect}function IA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function TA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function NA(t){return pA.has(t.toLowerCase())}function gr(t){return hA.has(t.toLowerCase())}async function R1(t,e,n,r,s,i){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(h=>h.route.id===l.route.id),d=c!=null&&!hx(c,l)&&(i&&i[l.route.id])!==void 0;if(Ys(a)&&(s||d)){let h=r[o];ie(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await mx(a,h,s).then(f=>{f&&(n[o]=f||n[o])})}}}async function mx(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Xe.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Xe.error,error:s}}return{type:Xe.data,data:t.deferredData.data}}}function dv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function A1(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function fm(t,e){let n=typeof e=="string"?Br(e).search:e.search;if(t[t.length-1].route.index&&dv(n||""))return t[t.length-1];let r=Wl(t);return r[r.length-1]}/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}const rh=S.createContext(null),hv=S.createContext(null),ki=S.createContext(null),sh=S.createContext(null),Vr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),gx=S.createContext(null);function bA(t,e){let{relative:n}=e===void 0?{}:e;Qo()||ie(!1);let{basename:r,navigator:s}=S.useContext(ki),{hash:i,pathname:o,search:a}=fv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ir([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Qo(){return S.useContext(sh)!=null}function Ci(){return Qo()||ie(!1),S.useContext(sh).location}function vx(t){S.useContext(ki).static||S.useLayoutEffect(t)}function Bt(){let{isDataRoute:t}=S.useContext(Vr);return t?zA():RA()}function RA(){Qo()||ie(!1);let t=S.useContext(rh),{basename:e,navigator:n}=S.useContext(ki),{matches:r}=S.useContext(Vr),{pathname:s}=Ci(),i=JSON.stringify(Wl(r).map(l=>l.pathnameBase)),o=S.useRef(!1);return vx(()=>{o.current=!0}),S.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=nh(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ir([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}const AA=S.createContext(null);function jA(t){let e=S.useContext(Vr).outlet;return e&&S.createElement(AA.Provider,{value:t},e)}function fv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=S.useContext(Vr),{pathname:s}=Ci(),i=JSON.stringify(Wl(r).map(o=>o.pathnameBase));return S.useMemo(()=>nh(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function PA(t,e,n){Qo()||ie(!1);let{navigator:r}=S.useContext(ki),{matches:s}=S.useContext(Vr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Ci(),c;if(e){var d;let w=typeof e=="string"?Br(e):e;a==="/"||(d=w.pathname)!=null&&d.startsWith(a)||ie(!1),c=w}else c=l;let h=c.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",g=so(t,{pathname:f}),v=MA(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ir([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Ir([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n);return e&&v?S.createElement(sh.Provider,{value:{location:Qc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ke.Pop}},v):v}function DA(){let t=VA(),e=lx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,i)}const OA=S.createElement(DA,null);class $A extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?S.createElement(Vr.Provider,{value:this.props.routeContext},S.createElement(gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LA(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(rh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Vr.Provider,{value:e},r)}function MA(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ie(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||OA);let f=e.concat(i.slice(0,c+1)),g=()=>{let v;return d?v=h:l.route.Component?v=S.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,S.createElement(LA,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?S.createElement($A,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var pm;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(pm||(pm={}));var Ss;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ss||(Ss={}));function FA(t){let e=S.useContext(rh);return e||ie(!1),e}function pv(t){let e=S.useContext(hv);return e||ie(!1),e}function UA(t){let e=S.useContext(Vr);return e||ie(!1),e}function mv(t){let e=UA(),n=e.matches[e.matches.length-1];return n.route.id||ie(!1),n.route.id}function BA(){return pv(Ss.UseNavigation).navigation}function ih(){let t=pv(Ss.UseLoaderData),e=mv(Ss.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function VA(){var t;let e=S.useContext(gx),n=pv(Ss.UseRouteError),r=mv(Ss.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function zA(){let{router:t}=FA(pm.UseNavigateStable),e=mv(Ss.UseNavigateStable),n=S.useRef(!1);return vx(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Qc({fromRouteId:e},i)))},[t,e])}function HA(t){let{fallbackElement:e,router:n}=t,[r,s]=S.useState(n.state);S.useLayoutEffect(()=>n.subscribe(s),[n,s]);let i=S.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,c,d)=>n.navigate(l,{state:c,preventScrollReset:d==null?void 0:d.preventScrollReset}),replace:(l,c,d)=>n.navigate(l,{replace:!0,state:c,preventScrollReset:d==null?void 0:d.preventScrollReset})}),[n]),o=n.basename||"/",a=S.useMemo(()=>({router:n,navigator:i,static:!1,basename:o}),[n,i,o]);return S.createElement(S.Fragment,null,S.createElement(rh.Provider,{value:a},S.createElement(hv.Provider,{value:r},S.createElement(WA,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?S.createElement(qA,{routes:n.routes,state:r}):e))),null)}function qA(t){let{routes:e,state:n}=t;return PA(e,void 0,n)}function yx(t){let{to:e,replace:n,state:r,relative:s}=t;Qo()||ie(!1);let{matches:i}=S.useContext(Vr),{pathname:o}=Ci(),a=Bt(),l=nh(e,Wl(i).map(d=>d.pathnameBase),o,s==="path"),c=JSON.stringify(l);return S.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:s}),[a,c,s,n,r]),null}function wx(t){return jA(t.context)}function dt(t){ie(!1)}function WA(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ke.Pop,navigator:i,static:o=!1}=t;Qo()&&ie(!1);let a=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Br(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,v=S.useMemo(()=>{let w=Go(c,a);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:g},navigationType:s}},[a,c,d,h,f,g,s]);return v==null?null:S.createElement(ki.Provider,{value:l},S.createElement(sh.Provider,{children:n,value:v}))}var j1;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(j1||(j1={}));new Promise(()=>{});function mm(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,mm(r.props.children,i));return}r.type!==dt&&ie(!1),!r.props.index||!r.props.children||ie(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mm(r.props.children,i)),n.push(o)}),n}function KA(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:S.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Do.apply(this,arguments)}function _x(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function GA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QA(t,e){return t.button===0&&(!e||e==="_self")&&!GA(t)}function gm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function YA(t,e){let n=gm(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const XA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],JA=["aria-current","caseSensitive","className","end","style","to","children"];function ZA(t,e){return _A({basename:e==null?void 0:e.basename,future:Do({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:V2({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||ej(),routes:t,mapRouteProperties:KA}).initialize()}function ej(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Do({},e,{errors:tj(e.errors)})),e}function tj(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new cv(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){let i=new Error(s.message);i.stack="",n[r]=i}else n[r]=s;return n}const nj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=S.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,h=_x(e,XA),{basename:f}=S.useContext(ki),g,v=!1;if(typeof c=="string"&&rj.test(c)&&(g=c,nj))try{let m=new URL(window.location.href),y=c.startsWith("//")?new URL(m.protocol+c):new URL(c),E=Go(y.pathname,f);y.origin===m.origin&&E!=null?c=E+y.search+y.hash:v=!0}catch{}let w=bA(c,{relative:s}),_=sj(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s});function p(m){r&&r(m),m.defaultPrevented||_(m)}return S.createElement("a",Do({},h,{href:g||w,onClick:v||i?r:p,ref:n,target:l}))}),Wa=S.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:c}=e,d=_x(e,JA),h=fv(l,{relative:d.relative}),f=Ci(),g=S.useContext(hv),{navigator:v}=S.useContext(ki),w=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,_=f.pathname,p=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(_=_.toLowerCase(),p=p?p.toLowerCase():null,w=w.toLowerCase());let m=_===w||!o&&_.startsWith(w)&&_.charAt(w.length)==="/",y=p!=null&&(p===w||!o&&p.startsWith(w)&&p.charAt(w.length)==="/"),E=m?r:void 0,x;typeof i=="function"?x=i({isActive:m,isPending:y}):x=[i,m?"active":null,y?"pending":null].filter(Boolean).join(" ");let I=typeof a=="function"?a({isActive:m,isPending:y}):a;return S.createElement(Tr,Do({},d,{"aria-current":E,className:x,ref:n,style:I,to:l}),typeof c=="function"?c({isActive:m,isPending:y}):c)});var P1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(P1||(P1={}));var D1;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D1||(D1={}));function sj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=Bt(),l=Ci(),c=fv(t,{relative:o});return S.useCallback(d=>{if(QA(d,n)){d.preventDefault();let h=r!==void 0?r:hi(l)===hi(c);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function js(t){let e=S.useRef(gm(t)),n=S.useRef(!1),r=Ci(),s=S.useMemo(()=>YA(r.search,n.current?null:e.current),[r.search]),i=Bt(),o=S.useCallback((a,l)=>{const c=gm(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ij=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Sx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ex(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ij(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new oj;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aj=function(t){const e=Ex(t);return Sx.encodeByteArray(e,!0)},Yc=function(t){return aj(t).replace(/\./g,"")},xx=function(t){try{return Sx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=()=>lj().__FIREBASE_DEFAULTS__,cj=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xx(t[1]);return e&&JSON.parse(e)},oh=()=>{try{return uj()||cj()||dj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kx=t=>{var e,n;return(n=(e=oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Cx=t=>{const e=kx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ix=()=>{var t;return(t=oh())===null||t===void 0?void 0:t.config},Tx=t=>{var e;return(e=oh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Yc(JSON.stringify(n)),Yc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function pj(){var t;const e=(t=oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vj(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yj(){try{return typeof indexedDB=="object"}catch{return!1}}function wj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="FirebaseError";class ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_j,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Ej(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ur(s,a,r)}}function Ej(t,e){return t.replace(Sj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Sj=/\{\$([^}]+)}/g;function xj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(O1(i)&&O1(o)){if(!Xc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function O1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ba(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ra(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kj(t,e){const n=new Cj(t,e);return n.subscribe.bind(n)}class Cj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ij(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Of),s.error===void 0&&(s.error=Of),s.complete===void 0&&(s.complete=Of);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ij(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bj(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nj(t){return t===Ws?void 0:t}function bj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const Aj={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},jj=me.INFO,Pj={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Dj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Pj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gv{constructor(e){this.name=e,this._logLevel=jj,this._logHandler=Dj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Aj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const Oj=(t,e)=>e.some(n=>t instanceof n);let $1,L1;function $j(){return $1||($1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lj(){return L1||(L1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bx=new WeakMap,vm=new WeakMap,Rx=new WeakMap,$f=new WeakMap,vv=new WeakMap;function Mj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ms(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bx.set(n,t)}).catch(()=>{}),vv.set(e,t),e}function Fj(t){if(vm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});vm.set(t,e)}let ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uj(t){ym=t(ym)}function Bj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lf(this),e,...n);return Rx.set(r,e.sort?e.sort():[e]),ms(r)}:Lj().includes(t)?function(...e){return t.apply(Lf(this),e),ms(bx.get(this))}:function(...e){return ms(t.apply(Lf(this),e))}}function Vj(t){return typeof t=="function"?Bj(t):(t instanceof IDBTransaction&&Fj(t),Oj(t,$j())?new Proxy(t,ym):t)}function ms(t){if(t instanceof IDBRequest)return Mj(t);if($f.has(t))return $f.get(t);const e=Vj(t);return e!==t&&($f.set(t,e),vv.set(e,t)),e}const Lf=t=>vv.get(t);function zj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ms(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ms(o.result),l.oldVersion,l.newVersion,ms(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Hj=["get","getKey","getAll","getAllKeys","count"],qj=["put","add","delete","clear"],Mf=new Map;function M1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Hj.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Mf.set(e,i),i}Uj(t=>({...t,get:(e,n,r)=>M1(e,n)||t.get(e,n,r),has:(e,n)=>!!M1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wm="@firebase/app",F1="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new gv("@firebase/app"),Gj="@firebase/app-compat",Qj="@firebase/analytics-compat",Yj="@firebase/analytics",Xj="@firebase/app-check-compat",Jj="@firebase/app-check",Zj="@firebase/auth",eP="@firebase/auth-compat",tP="@firebase/database",nP="@firebase/database-compat",rP="@firebase/functions",sP="@firebase/functions-compat",iP="@firebase/installations",oP="@firebase/installations-compat",aP="@firebase/messaging",lP="@firebase/messaging-compat",uP="@firebase/performance",cP="@firebase/performance-compat",dP="@firebase/remote-config",hP="@firebase/remote-config-compat",fP="@firebase/storage",pP="@firebase/storage-compat",mP="@firebase/firestore",gP="@firebase/firestore-compat",vP="firebase",yP="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",wP={[wm]:"fire-core",[Gj]:"fire-core-compat",[Yj]:"fire-analytics",[Qj]:"fire-analytics-compat",[Jj]:"fire-app-check",[Xj]:"fire-app-check-compat",[Zj]:"fire-auth",[eP]:"fire-auth-compat",[tP]:"fire-rtdb",[nP]:"fire-rtdb-compat",[rP]:"fire-fn",[sP]:"fire-fn-compat",[iP]:"fire-iid",[oP]:"fire-iid-compat",[aP]:"fire-fcm",[lP]:"fire-fcm-compat",[uP]:"fire-perf",[cP]:"fire-perf-compat",[dP]:"fire-rc",[hP]:"fire-rc-compat",[fP]:"fire-gcs",[pP]:"fire-gcs-compat",[mP]:"fire-fst",[gP]:"fire-fst-compat","fire-js":"fire-js",[vP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,Em=new Map;function _P(t,e){try{t.container.addComponent(e)}catch(n){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pi(t){const e=t.name;if(Em.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of Jc.values())_P(n,t);return!0}function ah(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gs=new Kl("app","Firebase",EP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=yP;function Ax(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw gs.create("bad-app-name",{appName:String(s)});if(n||(n=Ix()),!n)throw gs.create("no-options");const i=Jc.get(s);if(i){if(Xc(n,i.options)&&Xc(r,i.config))return i;throw gs.create("duplicate-app",{appName:s})}const o=new Rj(s);for(const l of Em.values())o.addComponent(l);const a=new SP(n,r,o);return Jc.set(s,a),a}function yv(t=_m){const e=Jc.get(t);if(!e&&t===_m&&Ix())return Ax();if(!e)throw gs.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let s=(r=wP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(a.join(" "));return}pi(new xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="firebase-heartbeat-database",kP=1,xl="firebase-heartbeat-store";let Ff=null;function jx(){return Ff||(Ff=zj(xP,kP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xl)}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),Ff}async function CP(t){try{return await(await jx()).transaction(xl).objectStore(xl).get(Px(t))}catch(e){if(e instanceof ur)fi.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(n.message)}}}async function U1(t,e){try{const r=(await jx()).transaction(xl,"readwrite");await r.objectStore(xl).put(e,Px(t)),await r.done}catch(n){if(n instanceof ur)fi.warn(n.message);else{const r=gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fi.warn(r.message)}}}function Px(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,TP=30*24*60*60*1e3;class NP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=B1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=TP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=B1(),{heartbeatsToSend:n,unsentEntries:r}=bP(this._heartbeatsCache.heartbeats),s=Yc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function B1(){return new Date().toISOString().substring(0,10)}function bP(t,e=IP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),V1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),V1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yj()?wj().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await CP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return U1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return U1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function V1(t){return Yc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t){pi(new xs("platform-logger",e=>new Wj(e),"PRIVATE")),pi(new xs("heartbeat",e=>new NP(e),"PRIVATE")),rr(wm,F1,t),rr(wm,F1,"esm2017"),rr("fire-js","")}AP("");var jP="firebase",PP="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(jP,PP,"app");function wv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Dx(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DP=Dx,Ox=new Kl("auth","Firebase",Dx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new gv("@firebase/auth");function OP(t,...e){Zc.logLevel<=me.WARN&&Zc.warn(`Auth (${Ii}): ${t}`,...e)}function hc(t,...e){Zc.logLevel<=me.ERROR&&Zc.error(`Auth (${Ii}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t,...e){throw _v(t,...e)}function sr(t,...e){return _v(t,...e)}function $x(t,e,n){const r=Object.assign(Object.assign({},DP()),{[e]:n});return new Kl("auth","Firebase",r).create(e,{appName:t.name})}function $P(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tn(t,"argument-error"),$x(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ox.create(t,...e)}function K(t,e,...n){if(!t)throw _v(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hc(e),new Error(e)}function Or(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LP(){return z1()==="http:"||z1()==="https:"}function z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LP()||mj()||"connection"in navigator)?navigator.onLine:!0}function FP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=fj()||gj()}get(){return MP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new Ql(3e4,6e4);function Ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ni(t,e,n,r,s={}){return Mx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Gl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Lx.fetch()(Fx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Mx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UP),e);try{const s=new VP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $x(t,d,c);Tn(t,d)}}catch(s){if(s instanceof ur)throw s;Tn(t,"network-request-failed",{message:String(s)})}}async function Yl(t,e,n,r,s={}){const i=await Ni(t,e,n,r,s);return"mfaPendingCredential"in i&&Tn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Fx(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ev(t.config,s):`${t.config.apiScheme}://${s}`}class VP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),BP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=sr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e){return Ni(t,"POST","/v1/accounts:delete",e)}async function HP(t,e){return Ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qP(t,e=!1){const n=Be(t),r=await n.getIdToken(e),s=Sv(r);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ka(Uf(s.auth_time)),issuedAtTime:Ka(Uf(s.iat)),expirationTime:Ka(Uf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Uf(t){return Number(t)*1e3}function Sv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const s=xx(n);return s?JSON.parse(s):(hc("Failed to decode base64 JWT payload"),null)}catch(s){return hc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function WP(t){const e=Sv(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ur&&KP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){var e;const n=t.auth,r=await t.getIdToken(),s=await kl(t,HP(n,{idToken:r}));K(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?XP(i.providerUserInfo):[],a=YP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ux(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function QP(t){const e=Be(t);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XP(t){return t.map(e=>{var{providerId:n}=e,r=wv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(t,e){const n=await Mx(t,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Fx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return K(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await JP(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Cl;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(K(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(K(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=wv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ux(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await kl(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qP(this,e)}reload(){return QP(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await kl(this,zP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:E,isAnonymous:x,providerData:I,stsTokenManager:N}=n;K(y&&N,e,"internal-error");const j=Cl.fromJSON(this.name,N);K(typeof y=="string",e,"internal-error"),qr(h,e.name),qr(f,e.name),K(typeof E=="boolean",e,"internal-error"),K(typeof x=="boolean",e,"internal-error"),qr(g,e.name),qr(v,e.name),qr(w,e.name),qr(_,e.name),qr(p,e.name),qr(m,e.name);const P=new ri({uid:y,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:x,photoURL:v,phoneNumber:g,tenantId:w,stsTokenManager:j,createdAt:p,lastLoginAt:m});return I&&Array.isArray(I)&&(P.providerData=I.map(M=>Object.assign({},M))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Cl;s.updateFromServerResponse(n);const i=new ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ed(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new Map;function xr(t){Or(t instanceof Function,"Expected a class definition");let e=H1.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bx.type="NONE";const q1=Bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t,e,n){return`firebase:${t}:${e}:${n}`}class vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=fc(this.userKey,s.apiKey,i),this.fullPersistenceKey=fc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vo(xr(q1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||xr(q1);const o=fc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=ri._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new vo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new vo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wx(e))return"Blackberry";if(Kx(e))return"Webos";if(xv(e))return"Safari";if((e.includes("chrome/")||zx(e))&&!e.includes("edge/"))return"Chrome";if(qx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vx(t=Pt()){return/firefox\//i.test(t)}function xv(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zx(t=Pt()){return/crios\//i.test(t)}function Hx(t=Pt()){return/iemobile/i.test(t)}function qx(t=Pt()){return/android/i.test(t)}function Wx(t=Pt()){return/blackberry/i.test(t)}function Kx(t=Pt()){return/webos/i.test(t)}function lh(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZP(t=Pt()){var e;return lh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eD(){return vj()&&document.documentMode===10}function Gx(t=Pt()){return lh(t)||qx(t)||Kx(t)||Wx(t)||/windows phone/i.test(t)||Hx(t)}function tD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e=[]){let n;switch(t){case"Browser":n=W1(Pt());break;case"Worker":n=`${W1(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ii}/${r}`}async function Yx(t,e){return Ni(t,"GET","/v2/recaptchaConfig",Ti(t,e))}function K1(t){return t!==void 0&&t.enterprise!==void 0}class Xx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Jx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",nD().appendChild(r)})}function rD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sD="https://www.google.com/recaptcha/enterprise.js?render=",iD="recaptcha-enterprise",oD="NO_RECAPTCHA";class Zx{constructor(e){this.type=iD,this.auth=Ps(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Yx(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Xx(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;K1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(oD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&K1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Jx(sD+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Oo(t,e,n,r=!1){const s=new Zx(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G1(this),this.idTokenSubscription=new G1(this),this.beforeStateQueue=new aD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Be(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}async initializeRecaptchaConfig(){const e=await Yx(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Xx(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Zx(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return K(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ps(t){return Be(t)}class G1{constructor(e){this.auth=e,this.observer=null,this.addObserver=kj(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e){const n=ah(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Xc(i,e??{}))return s;Tn(s,"already-initialized")}return n.initialize({options:e})}function cD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dD(t,e,n){const r=Ps(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=ek(e),{host:o,port:a}=hD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||fD()}function ek(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hD(t){const e=ek(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Q1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Q1(o)}}}function Q1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function pD(t,e){return Ni(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(t,e){return Yl(t,"POST","/v1/accounts:signInWithPassword",Ti(t,e))}async function mD(t,e){return Ni(t,"POST","/v1/accounts:sendOobCode",Ti(t,e))}async function Vf(t,e){return mD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e){return Yl(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))}async function vD(t,e){return Yl(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends kv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Il(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Il(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await Oo(e,r,"signInWithPassword");return Bf(e,s)}else return Bf(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await Oo(e,r,"signInWithPassword");return Bf(e,i)}else return Promise.reject(s)});case"emailLink":return gD(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return pD(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return vD(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t,e){return Yl(t,"POST","/v1/accounts:signInWithIdp",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="http://localhost";class mi extends kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=wv(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new mi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:yD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _D(t){const e=ba(Ra(t)).link,n=e?ba(Ra(e)).deep_link_id:null,r=ba(Ra(t)).deep_link_id;return(r?ba(Ra(r)).link:null)||r||n||e||t}class Cv{constructor(e){var n,r,s,i,o,a;const l=ba(Ra(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=wD((s=l.mode)!==null&&s!==void 0?s:null);K(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_D(e);try{return new Cv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return Il._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cv.parseLink(n);return K(r,"argument-error"),Il._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Iv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Xl{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mi._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Xl{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Xl{constructor(){super("twitter.com")}static credential(e,n){return mi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t,e){return Yl(t,"POST","/v1/accounts:signUp",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ri._fromIdTokenResponse(e,r,s),o=Y1(r);return new gi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Y1(r);return new gi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Y1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends ur{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new td(e,n,r,s)}}function tk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(t,i,e,r):i})}async function ED(t,e,n=!1){const r=await kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await kl(t,tk(r,s,e,t),n);K(i.idToken,r,"internal-error");const o=Sv(i.idToken);K(o,r,"internal-error");const{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),gi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Tn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(t,e,n=!1){const r="signIn",s=await tk(t,r,e),i=await gi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function xD(t,e){return nk(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t,e,n){var r;K(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e,n){var r;const s=Ps(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Oo(s,i,"getOobCode",!0);n&&Hf(s,o,n),await Vf(s,o)}else n&&Hf(s,i,n),await Vf(s,i).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Oo(s,i,"getOobCode",!0);n&&Hf(s,a,n),await Vf(s,a)}else return Promise.reject(o)})}async function CD(t,e,n){var r;const s=Ps(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Oo(s,i,"signUpPassword");o=zf(s,c)}else o=zf(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await Oo(s,i,"signUpPassword");return zf(s,d)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await gi._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function ID(t,e,n){return xD(Be(t),Yo.credential(e,n))}function TD(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function ND(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function bD(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function RD(t){return Be(t).signOut()}const nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){const t=Pt();return xv(t)||lh(t)}const jD=1e3,PD=10;class sk extends rk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AD()&&tD(),this.fallbackToPolling=Gx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);eD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sk.type="LOCAL";const DD=sk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik extends rk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ik.type="SESSION";const ok=ik;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await OD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Tv("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function LD(t){ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function MD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UD(){return ak()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="firebaseLocalStorageDb",BD=1,rd="firebaseLocalStorage",uk="fbase_key";class Jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ch(t,e){return t.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function VD(){const t=indexedDB.deleteDatabase(lk);return new Jl(t).toPromise()}function xm(){const t=indexedDB.open(lk,BD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rd,{keyPath:uk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rd)?e(r):(r.close(),await VD(),e(await xm()))})})}async function X1(t,e,n){const r=ch(t,!0).put({[uk]:e,value:n});return new Jl(r).toPromise()}async function zD(t,e){const n=ch(t,!1).get(e),r=await new Jl(n).toPromise();return r===void 0?null:r.value}function J1(t,e){const n=ch(t,!0).delete(e);return new Jl(n).toPromise()}const HD=800,qD=3;class ck{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ak()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(UD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new $D(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await X1(e,nd,"1"),await J1(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>X1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ch(s,!1).getAll();return new Jl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ck.type="LOCAL";const WD=ck;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e){return e?xr(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KD(t){return nk(t.auth,new Nv(t),t.bypassAuthState)}function GD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),SD(n,new Nv(t),t.bypassAuthState)}async function QD(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),ED(n,new Nv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KD;case"linkViaPopup":case"linkViaRedirect":return QD;case"reauthViaPopup":case"reauthViaRedirect":return GD;default:Tn(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Ql(2e3,1e4);async function XD(t,e,n){const r=Ps(t);$P(t,e,Iv);const s=dk(r,n);return new Xs(r,"signInViaPopup",e,s).executeNotNull()}class Xs extends hk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Tv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YD.get())};e()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="pendingRedirect",pc=new Map;class ZD extends hk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pc.get(this.auth._key());if(!e){try{const r=await eO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pc.set(this.auth._key(),e)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eO(t,e){const n=rO(e),r=nO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function tO(t,e){pc.set(t._key(),e)}function nO(t){return xr(t._redirectPersistence)}function rO(t){return fc(JD,t.config.apiKey,t.name)}async function sO(t,e,n=!1){const r=Ps(t),s=dk(r,e),o=await new ZD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=10*60*1e3;class oO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z1(e))}saveEventToCache(e){this.cachedEventUids.add(Z1(e)),this.lastProcessedEventTime=Date.now()}}function Z1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e={}){return Ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cO=/^https?/;async function dO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lO(t);for(const n of e)try{if(hO(n))return}catch{}Tn(t,"unauthorized-domain")}function hO(t){const e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cO.test(n))return!1;if(uO.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new Ql(3e4,6e4);function ew(){const t=ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pO(t){return new Promise((e,n)=>{var r,s,i;function o(){ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ew(),n(sr(t,"network-request-failed"))},timeout:fO.get()})}if(!((s=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ir().gapi)===null||i===void 0)&&i.load)o();else{const a=rD("iframefcb");return ir()[a]=()=>{gapi.load?o():n(sr(t,"network-request-failed"))},Jx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mc=null,e})}let mc=null;function mO(t){return mc=mc||pO(t),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Ql(5e3,15e3),vO="__/auth/iframe",yO="emulator/auth/iframe",wO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EO(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ev(e,yO):`https://${t.config.authDomain}/${vO}`,r={apiKey:e.apiKey,appName:t.name,v:Ii},s=_O.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Gl(r).slice(1)}`}async function SO(t){const e=await mO(t),n=ir().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:EO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wO,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),a=ir().setTimeout(()=>{i(o)},gO.get());function l(){ir().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kO=500,CO=600,IO="_blank",TO="http://localhost";class tw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NO(t,e,n,r=kO,s=CO){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xO),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Pt().toLowerCase();n&&(a=zx(c)?IO:n),Vx(c)&&(e=e||TO,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(ZP(c)&&a!=="_self")return bO(e||"",a),new tw(null);const h=window.open(e||"",a,d);K(h,t,"popup-blocked");try{h.focus()}catch{}return new tw(h)}function bO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="__/auth/handler",AO="emulator/auth/handler",jO=encodeURIComponent("fac");async function nw(t,e,n,r,s,i){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ii,eventId:s};if(e instanceof Iv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof Xl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${jO}=${encodeURIComponent(l)}`:"";return`${PO(t)}?${Gl(a).slice(1)}${c}`}function PO({config:t}){return t.emulator?Ev(t,AO):`https://${t.authDomain}/${RO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="webStorageSupport";class DO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ok,this._completeRedirectFn=sO,this._overrideRedirectResult=tO}async _openPopup(e,n,r,s){var i;Or((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await nw(e,n,r,Sm(),s);return NO(e,o,Tv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await nw(e,n,r,Sm(),s);return LD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Or(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SO(e),r=new oO(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qf,{type:qf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[qf];o!==void 0&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Gx()||xv()||lh()}}const OO=DO;var rw="@firebase/auth",sw="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function MO(t){pi(new xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qx(t)},c=new lD(r,s,i,l);return cD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pi(new xs("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(r=>new $O(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(rw,sw,LO(t)),rr(rw,sw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=5*60,UO=Tx("authIdTokenMaxAge")||FO;let iw=null;const BO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UO)return;const s=n==null?void 0:n.token;iw!==s&&(iw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function VO(t=yv()){const e=ah(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uD(t,{popupRedirectResolver:OO,persistence:[WD,DD,ok]}),r=Tx("authTokenSyncURL");if(r){const i=BO(r);ND(n,i,()=>i(n.currentUser)),TD(n,o=>i(o))}const s=kx("auth");return s&&dD(n,`http://${s}`),n}MO("Browser");var zO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,bv=bv||{},X=zO||self;function dh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Zl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function HO(t){return Object.prototype.hasOwnProperty.call(t,Wf)&&t[Wf]||(t[Wf]=++qO)}var Wf="closure_uid_"+(1e9*Math.random()>>>0),qO=0;function WO(t,e,n){return t.call.apply(t.bind,arguments)}function KO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=WO:Nt=KO,Nt.apply(null,arguments)}function Fu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Ds(){this.s=this.s,this.o=this.o}var GO=0;Ds.prototype.s=!1;Ds.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),GO!=0)&&HO(this)};Ds.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ow(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(dh(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var QO=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",()=>{},e),X.removeEventListener("test",()=>{},e)}catch{}return t}();function Tl(t){return/^[\s\xa0]*$/.test(t)}function hh(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function Qn(t){return hh().indexOf(t)!=-1}function Av(t){return Av[" "](t),t}Av[" "]=function(){};function YO(t,e){var n=V$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var XO=Qn("Opera"),$o=Qn("Trident")||Qn("MSIE"),mk=Qn("Edge"),km=mk||$o,gk=Qn("Gecko")&&!(hh().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge"))&&!(Qn("Trident")||Qn("MSIE"))&&!Qn("Edge"),JO=hh().toLowerCase().indexOf("webkit")!=-1&&!Qn("Edge");function vk(){var t=X.document;return t?t.documentMode:void 0}var Cm;e:{var Kf="",Gf=function(){var t=hh();if(gk)return/rv:([^\);]+)(\)|;)/.exec(t);if(mk)return/Edge\/([\d\.]+)/.exec(t);if($o)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(JO)return/WebKit\/(\S+)/.exec(t);if(XO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Gf&&(Kf=Gf?Gf[1]:""),$o){var Qf=vk();if(Qf!=null&&Qf>parseFloat(Kf)){Cm=String(Qf);break e}}Cm=Kf}var Im;if(X.document&&$o){var aw=vk();Im=aw||parseInt(Cm,10)||void 0}else Im=void 0;var ZO=Im;function Nl(t,e){if(bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gk){e:{try{Av(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:e$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Nl.$.h.call(this)}}ct(Nl,bt);var e$={2:"touch",3:"pen",4:"mouse"};Nl.prototype.h=function(){Nl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var eu="closure_listenable_"+(1e6*Math.random()|0),t$=0;function n$(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++t$,this.fa=this.ia=!1}function fh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function r$(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function yk(t){const e={};for(const n in t)e[n]=t[n];return e}const lw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wk(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<lw.length;i++)n=lw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ph(t){this.src=t,this.g={},this.h=0}ph.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Nm(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new n$(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Tm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=pk(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(fh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Nm(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Pv="closure_lm_"+(1e6*Math.random()|0),Yf={};function _k(t,e,n,r,s){if(r&&r.once)return Sk(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)_k(t,e[i],n,r,s);return null}return n=$v(n),t&&t[eu]?t.O(e,n,Zl(r)?!!r.capture:!!r,s):Ek(t,e,n,!1,r,s)}function Ek(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Zl(s)?!!s.capture:!!s,a=Ov(t);if(a||(t[Pv]=a=new ph(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=s$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)QO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(kk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function s$(){function t(n){return e.call(t.src,t.listener,n)}const e=i$;return t}function Sk(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Sk(t,e[i],n,r,s);return null}return n=$v(n),t&&t[eu]?t.P(e,n,Zl(r)?!!r.capture:!!r,s):Ek(t,e,n,!0,r,s)}function xk(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)xk(t,e[i],n,r,s);else r=Zl(r)?!!r.capture:!!r,n=$v(n),t&&t[eu]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Nm(i,n,r,s),-1<n&&(fh(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ov(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Nm(e,n,r,s)),(n=-1<t?e[t]:null)&&Dv(n))}function Dv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[eu])Tm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ov(e))?(Tm(n,t),n.h==0&&(n.src=null,e[Pv]=null)):fh(t)}}}function kk(t){return t in Yf?Yf[t]:Yf[t]="on"+t}function i$(t,e){if(t.fa)t=!0;else{e=new Nl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Dv(t),t=n.call(r,e)}return t}function Ov(t){return t=t[Pv],t instanceof ph?t:null}var Xf="__closure_events_fn_"+(1e9*Math.random()>>>0);function $v(t){return typeof t=="function"?t:(t[Xf]||(t[Xf]=function(e){return t.handleEvent(e)}),t[Xf])}function lt(){Ds.call(this),this.i=new ph(this),this.S=this,this.J=null}ct(lt,Ds);lt.prototype[eu]=!0;lt.prototype.removeEventListener=function(t,e,n,r){xk(this,t,e,n,r)};function vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new bt(e,t);else if(e instanceof bt)e.target=e.target||t;else{var s=e;e=new bt(r,t),wk(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Uu(o,r,!0,e)&&s}if(o=e.g=t,s=Uu(o,r,!0,e)&&s,s=Uu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Uu(o,r,!1,e)&&s}lt.prototype.N=function(){if(lt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fh(n[r]);delete t.g[e],t.h--}}this.J=null};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Uu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Tm(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Lv=X.JSON.stringify;class o${constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function a$(){var t=Mv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class l${constructor(){this.h=this.g=null}add(e,n){const r=Ck.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Ck=new o$(()=>new u$,t=>t.reset());class u${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function c$(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function d$(t){X.setTimeout(()=>{throw t},0)}let bl,Rl=!1,Mv=new l$,Ik=()=>{const t=X.Promise.resolve(void 0);bl=()=>{t.then(h$)}};var h$=()=>{for(var t;t=a$();){try{t.h.call(t.g)}catch(n){d$(n)}var e=Ck;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rl=!1};function mh(t,e){lt.call(this),this.h=t||1,this.g=e||X,this.j=Nt(this.qb,this),this.l=Date.now()}ct(mh,lt);O=mh.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vt(this,"tick"),this.ga&&(Fv(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){mh.$.N.call(this),Fv(this),delete this.g};function Uv(t,e,n){if(typeof t=="function")n&&(t=Nt(t,n));else if(t&&typeof t.handleEvent=="function")t=Nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function Tk(t){t.g=Uv(()=>{t.g=null,t.i&&(t.i=!1,Tk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class f$ extends Ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tk(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Al(t){Ds.call(this),this.h=t,this.g={}}ct(Al,Ds);var uw=[];function Nk(t,e,n,r){Array.isArray(n)||(n&&(uw[0]=n.toString()),n=uw);for(var s=0;s<n.length;s++){var i=_k(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function bk(t){jv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Dv(e)},t),t.g={}}Al.prototype.N=function(){Al.$.N.call(this),bk(this)};Al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gh(){this.g=!0}gh.prototype.Ea=function(){this.g=!1};function p$(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function m$(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function oo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+v$(t,n)+(r?" "+r:"")})}function g$(t,e){t.info(function(){return"TIMEOUT: "+e})}gh.prototype.info=function(){};function v$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Lv(n)}catch{return e}}var bi={},cw=null;function vh(){return cw=cw||new lt}bi.Ta="serverreachability";function Rk(t){bt.call(this,bi.Ta,t)}ct(Rk,bt);function jl(t){const e=vh();vt(e,new Rk(e))}bi.STAT_EVENT="statevent";function Ak(t,e){bt.call(this,bi.STAT_EVENT,t),this.stat=e}ct(Ak,bt);function Lt(t){const e=vh();vt(e,new Ak(e,t))}bi.Ua="timingevent";function jk(t,e){bt.call(this,bi.Ua,t),this.size=e}ct(jk,bt);function tu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}var yh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bv(){}Bv.prototype.h=null;function dw(t){return t.h||(t.h=t.i())}function Dk(){}var nu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vv(){bt.call(this,"d")}ct(Vv,bt);function zv(){bt.call(this,"c")}ct(zv,bt);var bm;function wh(){}ct(wh,Bv);wh.prototype.g=function(){return new XMLHttpRequest};wh.prototype.i=function(){return{}};bm=new wh;function ru(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Al(this),this.P=y$,t=km?125:void 0,this.V=new mh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ok}function Ok(){this.i=null,this.g="",this.h=!1}var y$=45e3,Rm={},sd={};O=ru.prototype;O.setTimeout=function(t){this.P=t};function Am(t,e,n){t.L=1,t.v=Eh($r(e)),t.s=n,t.S=!0,$k(t,null)}function $k(t,e){t.G=Date.now(),su(t),t.A=$r(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Hk(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Ok,t.g=dC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new f$(Nt(t.Pa,t,t.g),t.O)),Nk(t.U,t.g,"readystatechange",t.nb),e=t.I?yk(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),jl(),p$(t.j,t.u,t.A,t.m,t.W,t.s)}O.nb=function(t){t=t.target;const e=this.M;e&&Yn(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const d=Yn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||km||this.g&&(this.h.h||this.g.ja()||mw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?jl(3):jl(2)),_h(this);var n=this.g.da();this.ca=n;t:if(Lk(this)){var r=mw(this.g);t="";var s=r.length,i=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Js(this),Ga(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,m$(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tl(a)){var c=a;break t}}c=null}if(n=c)oo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jm(this,n);else{this.i=!1,this.o=3,Lt(12),Js(this),Ga(this);break e}}this.S?(Mk(this,d,o),km&&this.i&&d==3&&(Nk(this.U,this.V,"tick",this.mb),this.V.start())):(oo(this.j,this.m,o,null),jm(this,o)),d==4&&Js(this),this.i&&!this.J&&(d==4?aC(this.l,this):(this.i=!1,su(this)))}else F$(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),Js(this),Ga(this)}}}catch{}finally{}};function Lk(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Mk(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=w$(t,n),s==sd){e==4&&(t.o=4,Lt(14),r=!1),oo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Rm){t.o=4,Lt(15),oo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else oo(t.j,t.m,s,null),jm(t,s);Lk(t)&&s!=sd&&s!=Rm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Lt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qv(e),e.M=!0,Lt(11))):(oo(t.j,t.m,n,"[Invalid Chunked Response]"),Js(t),Ga(t))}O.mb=function(){if(this.g){var t=Yn(this.g),e=this.g.ja();this.C<e.length&&(_h(this),Mk(this,t,e),this.i&&t!=4&&su(this))}};function w$(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?sd:(n=Number(e.substring(n,r)),isNaN(n)?Rm:(r+=1,r+n>e.length?sd:(e=e.slice(r,r+n),t.C=r+n,e)))}O.cancel=function(){this.J=!0,Js(this)};function su(t){t.Y=Date.now()+t.P,Fk(t,t.P)}function Fk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=tu(Nt(t.lb,t),e)}function _h(t){t.B&&(X.clearTimeout(t.B),t.B=null)}O.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(g$(this.j,this.A),this.L!=2&&(jl(),Lt(17)),Js(this),this.o=2,Ga(this)):Fk(this,this.Y-t)};function Ga(t){t.l.H==0||t.J||aC(t.l,t)}function Js(t){_h(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Fv(t.V),bk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function jm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pm(n.i,t))){if(!t.K&&Pm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ad(n),kh(n);else break e;Gv(n),Lt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=tu(Nt(n.ib,n),6e3));if(1>=Kk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zs(n,11)}else if((t.K||n.g==t)&&ad(n),!Tl(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=r.i;i.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Hv(i,i.h),i.h=null))}if(r.F){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Te(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=cC(r,r.J?r.pa:null,r.Y),o.K){Gk(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(_h(a),su(a)),r.g=o}else iC(r);0<n.j.length&&Ch(n)}else c[0]!="stop"&&c[0]!="close"||Zs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Zs(n,7):Kv(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}jl(4)}catch{}}function _$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(dh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function E$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(dh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Uk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(dh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=E$(t),r=_$(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Bk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function si(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof si){this.h=t.h,id(this,t.j),this.s=t.s,this.g=t.g,od(this,t.m),this.l=t.l;var e=t.i,n=new Pl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hw(this,n),this.o=t.o}else t&&(e=String(t).match(Bk))?(this.h=!1,id(this,e[1]||"",!0),this.s=Aa(e[2]||""),this.g=Aa(e[3]||"",!0),od(this,e[4]),this.l=Aa(e[5]||"",!0),hw(this,e[6]||"",!0),this.o=Aa(e[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}si.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ja(e,fw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ja(e,fw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ja(n,n.charAt(0)=="/"?C$:k$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ja(n,T$)),t.join("")};function $r(t){return new si(t)}function id(t,e,n){t.j=n?Aa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function od(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hw(t,e,n){e instanceof Pl?(t.i=e,N$(t.i,t.h)):(n||(e=ja(e,I$)),t.i=new Pl(e,t.h))}function Te(t,e,n){t.i.set(e,n)}function Eh(t){return Te(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Aa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ja(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,x$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function x$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var fw=/[#\/\?@]/g,k$=/[#\?:]/g,C$=/[#\?]/g,I$=/[#\?@]/g,T$=/#/g;function Pl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Os(t){t.g||(t.g=new Map,t.h=0,t.i&&S$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Pl.prototype;O.add=function(t,e){Os(this),this.i=null,t=Xo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Vk(t,e){Os(t),e=Xo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zk(t,e){return Os(t),e=Xo(t,e),t.g.has(e)}O.forEach=function(t,e){Os(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};O.ta=function(){Os(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};O.Z=function(t){Os(this);let e=[];if(typeof t=="string")zk(this,t)&&(e=e.concat(this.g.get(Xo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Os(this),this.i=null,t=Xo(this,t),zk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Hk(t,e,n){Vk(t,e),0<n.length&&(t.i=null,t.g.set(Xo(t,e),Rv(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Xo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function N$(t,e){e&&!t.j&&(Os(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Vk(this,r),Hk(this,s,n))},t)),t.j=e}var b$=class{constructor(t,e){this.g=t,this.map=e}};function qk(t){this.l=t||R$,X.PerformanceNavigationTiming?(t=X.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var R$=10;function Wk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Kk(t){return t.h?1:t.g?t.g.size:0}function Pm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hv(t,e){t.g?t.g.add(e):t.h=e}function Gk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qk.prototype.cancel=function(){if(this.i=Qk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Qk(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Rv(t.i)}var A$=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function j$(){this.g=new A$}function P$(t,e,n){const r=n||"";try{Uk(t,function(s,i){let o=s;Zl(s)&&(o=Lv(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function D$(t,e){const n=new gh;if(X.Image){const r=new Image;r.onload=Fu(Bu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fu(Bu,n,r,"TestLoadImage: error",!1,e),r.onabort=Fu(Bu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fu(Bu,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Bu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function iu(t){this.l=t.fc||null,this.j=t.ob||!1}ct(iu,Bv);iu.prototype.g=function(){return new Sh(this.l,this.j)};iu.prototype.i=function(t){return function(){return t}}({});function Sh(t,e){lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(Sh,lt);var qv=0;O=Sh.prototype;O.open=function(t,e){if(this.readyState!=qv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Dl(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ou(this)),this.readyState=qv};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Yk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ou(this):Dl(this),this.readyState==3&&Yk(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,ou(this))};O.Ya=function(t){this.g&&(this.response=t,ou(this))};O.ka=function(){this.g&&ou(this)};function ou(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Dl(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Dl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var O$=X.JSON.parse;function Ve(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xk,this.L=this.M=!1}ct(Ve,lt);var Xk="",$$=/^https?$/i,L$=["POST","PUT"];O=Ve.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bm.g(),this.C=this.u?dw(this.u):dw(bm),this.g.onreadystatechange=Nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){pw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=X.FormData&&t instanceof X.FormData,!(0<=pk(L$,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eC(this),0<this.B&&((this.L=M$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.ua,this)):this.A=Uv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){pw(this,i)}};function M$(t){return $o&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof bv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vt(this,"timeout"),this.abort(8))};function pw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Jk(t),xh(t)}function Jk(t){t.F||(t.F=!0,vt(t,"complete"),vt(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vt(this,"complete"),vt(this,"abort"),xh(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xh(this,!0)),Ve.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?Zk(this):this.kb())};O.kb=function(){Zk(this)};function Zk(t){if(t.h&&typeof bv<"u"&&(!t.C[1]||Yn(t)!=4||t.da()!=2)){if(t.v&&Yn(t)==4)Uv(t.La,0,t);else if(vt(t,"readystatechange"),Yn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Bk)[1]||null;!s&&X.self&&X.self.location&&(s=X.self.location.protocol.slice(0,-1)),r=!$$.test(s?s.toLowerCase():"")}n=r}if(n)vt(t,"complete"),vt(t,"success");else{t.m=6;try{var i=2<Yn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Jk(t)}}finally{xh(t)}}}}function xh(t,e){if(t.g){eC(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function eC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function Yn(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),O$(e)}};function mw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Xk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function F$(t){const e={};t=(t.g&&2<=Yn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Tl(t[r]))continue;var n=c$(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}r$(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function tC(t){let e="";return jv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Te(t,e,n))}function ga(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nC(t){this.Ga=0,this.j=[],this.l=new gh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ga("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ga("baseRetryDelayMs",5e3,t),this.hb=ga("retryDelaySeedMs",1e4,t),this.eb=ga("forwardChannelMaxRetries",2,t),this.xa=ga("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new qk(t&&t.concurrentRequestLimit),this.Ja=new j$,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=nC.prototype;O.ra=8;O.H=1;function Kv(t){if(rC(t),t.H==3){var e=t.W++,n=$r(t.I);if(Te(n,"SID",t.K),Te(n,"RID",e),Te(n,"TYPE","terminate"),au(t,n),e=new ru(t,t.l,e),e.L=2,e.v=Eh($r(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&X.Image&&(new Image().src=e.v,n=!0),n||(e.g=dC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),su(e)}uC(t)}function kh(t){t.g&&(Qv(t),t.g.cancel(),t.g=null)}function rC(t){kh(t),t.u&&(X.clearTimeout(t.u),t.u=null),ad(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&X.clearTimeout(t.m),t.m=null)}function Ch(t){if(!Wk(t.i)&&!t.m){t.m=!0;var e=t.Na;bl||Ik(),Rl||(bl(),Rl=!0),Mv.add(e,t),t.C=0}}function U$(t,e){return Kk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=tu(Nt(t.Na,t,e),lC(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new ru(this,this.l,t);let i=this.s;if(this.U&&(i?(i=yk(i),wk(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sC(this,s,e),n=$r(this.I),Te(n,"RID",t),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),au(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(tC(i)))+"&"+e:this.o&&Wv(n,this.o,i)),Hv(this.i,s),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",e),Te(n,"SID","null"),s.aa=!0,Am(s,n,null)):Am(s,n,e),this.H=2}}else this.H==3&&(t?gw(this,t):this.j.length==0||Wk(this.i)||gw(this))};function gw(t,e){var n;e?n=e.m:n=t.W++;const r=$r(t.I);Te(r,"SID",t.K),Te(r,"RID",n),Te(r,"AID",t.V),au(t,r),t.o&&t.s&&Wv(r,t.o,t.s),n=new ru(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hv(t.i,n),Am(n,r,e)}function au(t,e){t.na&&jv(t.na,function(n,r){Te(e,r,n)}),t.h&&Uk({},function(n,r){Te(e,r,n)})}function sC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Nt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const d=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{P$(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function iC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bl||Ik(),Rl||(bl(),Rl=!0),Mv.add(e,t),t.A=0}}function Gv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=tu(Nt(t.Ma,t),lC(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,oC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=tu(Nt(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lt(10),kh(this),oC(this))};function Qv(t){t.B!=null&&(X.clearTimeout(t.B),t.B=null)}function oC(t){t.g=new ru(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=$r(t.wa);Te(e,"RID","rpc"),Te(e,"SID",t.K),Te(e,"AID",t.V),Te(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Te(e,"TO",t.qa),Te(e,"TYPE","xmlhttp"),au(t,e),t.o&&t.s&&Wv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Eh($r(e)),n.s=null,n.S=!0,$k(n,t)}O.ib=function(){this.v!=null&&(this.v=null,kh(this),Gv(this),Lt(19))};function ad(t){t.v!=null&&(X.clearTimeout(t.v),t.v=null)}function aC(t,e){var n=null;if(t.g==e){ad(t),Qv(t),t.g=null;var r=2}else if(Pm(t.i,e))n=e.F,Gk(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=vh(),vt(r,new jk(r,n)),Ch(t)}else iC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&U$(t,e)||r==2&&Gv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Zs(t,5);break;case 4:Zs(t,10);break;case 3:Zs(t,6);break;default:Zs(t,2)}}}function lC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Zs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Nt(t.pb,t);n||(n=new si("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||id(n,"https"),Eh(n)),D$(n.toString(),r)}else Lt(2);t.H=0,t.h&&t.h.za(e),uC(t),rC(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Lt(2)):(this.l.info("Failed to ping google.com"),Lt(1))};function uC(t){if(t.H=0,t.ma=[],t.h){const e=Qk(t.i);(e.length!=0||t.j.length!=0)&&(ow(t.ma,e),ow(t.ma,t.j),t.i.i.length=0,Rv(t.j),t.j.length=0),t.h.ya()}}function cC(t,e,n){var r=n instanceof si?$r(n):new si(n);if(r.g!="")e&&(r.g=e+"."+r.g),od(r,r.m);else{var s=X.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new si(null);r&&id(i,r),e&&(i.g=e),s&&od(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Te(r,n,e),Te(r,"VER",t.ra),au(t,r),r}function dC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ve(new iu({ob:!0})):new Ve(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function hC(){}O=hC.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function ld(){if($o&&!(10<=Number(ZO)))throw Error("Environmental error: no available transport.")}ld.prototype.g=function(t,e){return new cn(t,e)};function cn(t,e){lt.call(this),this.g=new nC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Jo(this)}ct(cn,lt);cn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Lt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cC(t,null,t.Y),Ch(t)};cn.prototype.close=function(){Kv(this.g)};cn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lv(t),t=n);e.j.push(new b$(e.fb++,t)),e.H==3&&Ch(e)};cn.prototype.N=function(){this.g.h=null,delete this.j,Kv(this.g),delete this.g,cn.$.N.call(this)};function fC(t){Vv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ct(fC,Vv);function pC(){zv.call(this),this.status=1}ct(pC,zv);function Jo(t){this.g=t}ct(Jo,hC);Jo.prototype.Ba=function(){vt(this.g,"a")};Jo.prototype.Aa=function(t){vt(this.g,new fC(t))};Jo.prototype.za=function(t){vt(this.g,new pC)};Jo.prototype.ya=function(){vt(this.g,"b")};function B$(){this.blockSize=-1}function Vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ct(Vn,B$);Vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Vn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Jf(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Jf(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Jf(this,r),s=0;break}}this.h=s,this.i+=e};Vn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var V$={};function Yv(t){return-128<=t&&128>t?YO(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function Xn(t){if(isNaN(t)||!isFinite(t))return wo;if(0>t)return mt(Xn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Dm;return new we(e,0)}function mC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return mt(mC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Xn(Math.pow(e,8)),r=wo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Xn(Math.pow(e,i)),r=r.R(i).add(Xn(o))):(r=r.R(n),r=r.add(Xn(o)))}return r}var Dm=4294967296,wo=Yv(0),Om=Yv(1),vw=Yv(16777216);O=we.prototype;O.ea=function(){if(Sn(this))return-mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Dm+r)*e,e*=Dm}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(kr(this))return"0";if(Sn(this))return"-"+mt(this).toString(t);for(var e=Xn(Math.pow(t,6)),n=this,r="";;){var s=cd(n,e).g;n=ud(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,kr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function kr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Sn(t){return t.h==-1}O.X=function(t){return t=ud(this,t),Sn(t)?-1:kr(t)?0:1};function mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(Om)}O.abs=function(){return Sn(this)?mt(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new we(n,n[n.length-1]&-2147483648?-1:0)};function ud(t,e){return t.add(mt(e))}O.R=function(t){if(kr(this)||kr(t))return wo;if(Sn(this))return Sn(t)?mt(this).R(mt(t)):mt(mt(this).R(t));if(Sn(t))return mt(this.R(mt(t)));if(0>this.X(vw)&&0>t.X(vw))return Xn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Vu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Vu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Vu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Vu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function Vu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function va(t,e){this.g=t,this.h=e}function cd(t,e){if(kr(e))throw Error("division by zero");if(kr(t))return new va(wo,wo);if(Sn(t))return e=cd(mt(t),e),new va(mt(e.g),mt(e.h));if(Sn(e))return e=cd(t,mt(e)),new va(mt(e.g),e.h);if(30<t.g.length){if(Sn(t)||Sn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Om,r=e;0>=r.X(t);)n=yw(n),r=yw(r);var s=$i(n,1),i=$i(r,1);for(r=$i(r,2),n=$i(n,2);!kr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=$i(r,1),n=$i(n,1)}return e=ud(t,s.R(e)),new va(s,e)}for(s=wo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Xn(n),o=i.R(e);Sn(o)||0<o.X(t);)n-=r,i=Xn(n),o=i.R(e);kr(i)&&(i=Om),s=s.add(i),t=ud(t,o)}return new va(s,t)}O.gb=function(t){return cd(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function yw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function $i(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new we(s,t.h)}ld.prototype.createWebChannel=ld.prototype.g;cn.prototype.send=cn.prototype.u;cn.prototype.open=cn.prototype.m;cn.prototype.close=cn.prototype.close;yh.NO_ERROR=0;yh.TIMEOUT=8;yh.HTTP_ERROR=6;Pk.COMPLETE="complete";Dk.EventType=nu;nu.OPEN="a";nu.CLOSE="b";nu.ERROR="c";nu.MESSAGE="d";lt.prototype.listen=lt.prototype.O;Ve.prototype.listenOnce=Ve.prototype.P;Ve.prototype.getLastError=Ve.prototype.Sa;Ve.prototype.getLastErrorCode=Ve.prototype.Ia;Ve.prototype.getStatus=Ve.prototype.da;Ve.prototype.getResponseJson=Ve.prototype.Wa;Ve.prototype.getResponseText=Ve.prototype.ja;Ve.prototype.send=Ve.prototype.ha;Ve.prototype.setWithCredentials=Ve.prototype.Oa;Vn.prototype.digest=Vn.prototype.l;Vn.prototype.reset=Vn.prototype.reset;Vn.prototype.update=Vn.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=Xn;we.fromString=mC;var z$=function(){return new ld},H$=function(){return vh()},Zf=yh,q$=Pk,W$=bi,ww={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},K$=iu,zu=Dk,G$=Ve,Q$=Vn,_o=we;const _w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new gv("@firebase/firestore");function Ew(){return vi.logLevel}function H(t,...e){if(vi.logLevel<=me.DEBUG){const n=e.map(Xv);vi.debug(`Firestore (${Zo}): ${t}`,...n)}}function Lr(t,...e){if(vi.logLevel<=me.ERROR){const n=e.map(Xv);vi.error(`Firestore (${Zo}): ${t}`,...n)}}function Lo(t,...e){if(vi.logLevel<=me.WARN){const n=e.map(Xv);vi.warn(`Firestore (${Zo}): ${t}`,...n)}}function Xv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw Lr(e),new Error(e)}function Re(t,e){t||Q()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class X${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J${constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Nr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Nr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new gC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new kt(e)}}class Z${constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class eL{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Z$(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nL{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.T=n.token,new tL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=rL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function Mo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new nt(0,0))}static max(){return new Z(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends Ol{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const sL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Ol{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return sL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new L(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new L(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new L(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(Ne.fromString(e))}static fromName(e){return new W(Ne.fromString(e).popFirst(5))}static empty(){return new W(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new Ne(e.slice()))}}function iL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new ks(s,W.empty(),e)}function oL(t){return new ks(t.readTime,t.key,-1)}class ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ks(Z.min(),W.empty(),-1)}static max(){return new ks(Z.max(),W.empty(),-1)}}function aL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==lL)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(s=>s?A.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new A((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new A((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Jv.ct=-1;function Ih(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function cL(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ri(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ft.RED,this.left=s??ft.EMPTY,this.right=i??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ft(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,e,n,r,s){return this}insert(t,e,n){return new ft(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xw(this.data.getIterator())}getIteratorFrom(e){return new xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new sn([])}unionWith(e){let n=new Rt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wC("Invalid base64 string: "+s):s}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const dL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(Re(!!t),typeof t=="string"){let e=0;const n=dL.exec(t);if(Re(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ey(t){const e=t.mapValue.fields.__previous_value__;return Zv(e)?ey(e):e}function $l(t){const e=Cs(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zv(t)?4:fL(t)?9007199254740991:10:Q()}function lr(t,e){if(t===e)return!0;const n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=Cs(r.timestampValue),o=Cs(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return yi(r.bytesValue).isEqual(yi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ge(r.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ge(r.integerValue)===Ge(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=Ge(r.doubleValue),o=Ge(s.doubleValue);return i===o?dd(i)===dd(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Mo(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Sw(i)!==Sw(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!lr(i[a],o[a])))return!1;return!0}(t,e);default:return Q()}}function Ml(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=wi(t),r=wi(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=Ge(s.integerValue||s.doubleValue),a=Ge(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return kw(t.timestampValue,e.timestampValue);case 4:return kw($l(t),$l(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,i){const o=yi(s),a=yi(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ve(o[l],a[l]);if(c!==0)return c}return ve(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=ve(Ge(s.latitude),Ge(i.latitude));return o!==0?o:ve(Ge(s.longitude),Ge(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Fo(o[l],a[l]);if(c)return c}return ve(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===qu.mapValue&&i===qu.mapValue)return 0;if(s===qu.mapValue)return 1;if(i===qu.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const h=ve(a[d],c[d]);if(h!==0)return h;const f=Fo(o[a[d]],l[c[d]]);if(f!==0)return f}return ve(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Q()}}function kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Cs(t),r=Cs(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function Uo(t){return $m(t)}function $m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Cs(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?yi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,W.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=$m(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${$m(r.fields[a])}`;return i+"}"}(t.mapValue):Q();var e,n}function Cw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lm(t){return!!t&&"integerValue"in t}function ty(t){return!!t&&"arrayValue"in t}function Iw(t){return!!t&&"nullValue"in t}function Tw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gc(t){return!!t&&"mapValue"in t}function Qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ri(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wt(Qa(this.value))}}function _C(t){const e=[];return Ri(t.fields,(n,r)=>{const s=new Tt([n]);if(gc(r)){const i=_C(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,Z.min(),Z.min(),Z.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,s){return new It(e,1,n,Z.min(),r,s,0)}static newNoDocument(e,n){return new It(e,2,n,Z.min(),Z.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,Z.min(),Z.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.position=e,this.inclusive=n}}function Nw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=W.comparator(W.fromName(o.referenceValue),n.key):r=Fo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n="asc"){this.field=e,this.dir=n}}function pL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{}class Ye extends EC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gL(e,n,r):n==="array-contains"?new wL(e,r):n==="in"?new _L(e,r):n==="not-in"?new EL(e,r):n==="array-contains-any"?new SL(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vL(e,r):new yL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zn extends EC{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new zn(e,n)}matches(e){return SC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function SC(t){return t.op==="and"}function xC(t){return mL(t)&&SC(t)}function mL(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function Mm(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Uo(t.value);if(xC(t))return t.filters.map(e=>Mm(e)).join(",");{const e=t.filters.map(n=>Mm(n)).join(",");return`${t.op}(${e})`}}function kC(t,e){return t instanceof Ye?function(n,r){return r instanceof Ye&&n.op===r.op&&n.field.isEqual(r.field)&&lr(n.value,r.value)}(t,e):t instanceof zn?function(n,r){return r instanceof zn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&kC(i,r.filters[o]),!0):!1}(t,e):void Q()}function CC(t){return t instanceof Ye?function(e){return`${e.field.canonicalString()} ${e.op} ${Uo(e.value)}`}(t):t instanceof zn?function(e){return e.op.toString()+" {"+e.getFilters().map(CC).join(" ,")+"}"}(t):"Filter"}class gL extends Ye{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class vL extends Ye{constructor(e,n){super(e,"in",n),this.keys=IC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yL extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=IC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class wL extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ty(n)&&Ml(n.arrayValue,this.value)}}class _L extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ml(this.value.arrayValue,n)}}class EL extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ml(this.value.arrayValue,n)}}class SL extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Rw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new xL(t,e,n,r,s,i,o)}function ny(t){const e=ne(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),e.dt=n}return e.dt}function ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bw(t.startAt,e.startAt)&&bw(t.endAt,e.endAt)}function Fm(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function kL(t,e,n,r,s,i,o,a){return new cu(t,e,n,r,s,i,o,a)}function sy(t){return new cu(t)}function Aw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function iy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function NC(t){return t.collectionGroup!==null}function Eo(t){const e=ne(t);if(e.wt===null){e.wt=[];const n=iy(e),r=TC(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ya(n)),e.wt.push(new Ya(Tt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ya(Tt.keyField(),i))}}}return e.wt}function Mr(t){const e=ne(t);if(!e._t)if(e.limitType==="F")e._t=Rw(e.path,e.collectionGroup,Eo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Eo(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Ya(i.field,o))}const r=e.endAt?new hd(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new hd(e.startAt.position,e.startAt.inclusive):null;e._t=Rw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function Um(t,e){e.getFirstInequalityField(),iy(t);const n=t.filters.concat([e]);return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bm(t,e,n){return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Th(t,e){return ry(Mr(t),Mr(e))&&t.limitType===e.limitType}function bC(t){return`${ny(Mr(t))}|lt:${t.limitType}`}function Vm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>CC(r)).join(", ")}]`),Ih(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),`Target(${n})`}(Mr(t))}; limitType=${t.limitType})`}function Nh(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):W.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Eo(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Nw(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Eo(n),r)||n.endAt&&!function(s,i,o){const a=Nw(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Eo(n),r))}(t,e)}function CL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RC(t){return(e,n)=>{let r=!1;for(const s of Eo(t)){const i=IL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function IL(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?Fo(a,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ri(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return yC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new Fe(W.comparator);function Fr(){return TL}const AC=new Fe(W.comparator);function Pa(...t){let e=AC;for(const n of t)e=e.insert(n.key,n);return e}function jC(t){let e=AC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return Xa()}function PC(){return Xa()}function Xa(){return new ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const NL=new Fe(W.comparator),bL=new Rt(W.comparator);function le(...t){let e=bL;for(const n of t)e=e.add(n);return e}const RL=new Rt(ve);function AL(){return RL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function OC(t){return{integerValue:""+t}}function jL(t,e){return cL(e)?OC(e):DC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function PL(t,e,n){return t instanceof fd?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Zv(s)&&(s=ey(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Fl?LC(t,e):t instanceof Ul?MC(t,e):function(r,s){const i=$C(r,s),o=jw(i)+jw(r.gt);return Lm(i)&&Lm(r.gt)?OC(o):DC(r.serializer,o)}(t,e)}function DL(t,e,n){return t instanceof Fl?LC(t,e):t instanceof Ul?MC(t,e):n}function $C(t,e){return t instanceof pd?Lm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class fd extends bh{}class Fl extends bh{constructor(e){super(),this.elements=e}}function LC(t,e){const n=FC(e);for(const r of t.elements)n.some(s=>lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ul extends bh{constructor(e){super(),this.elements=e}}function MC(t,e){let n=FC(e);for(const r of t.elements)n=n.filter(s=>!lr(s,r));return{arrayValue:{values:n}}}class pd extends bh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function jw(t){return Ge(t.integerValue||t.doubleValue)}function FC(t){return ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Fl&&r instanceof Fl||n instanceof Ul&&r instanceof Ul?Mo(n.elements,r.elements,lr):n instanceof pd&&r instanceof pd?lr(n.gt,r.gt):n instanceof fd&&r instanceof fd}(t.transform,e.transform)}class $L{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function UC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VC(t.key,or.none()):new du(t.key,t.data,or.none());{const n=t.data,r=Wt.empty();let s=new Rt(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new $s(t.key,r,new sn(s.toArray()),or.none())}}function LL(t,e,n){t instanceof du?function(r,s,i){const o=r.value.clone(),a=Dw(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof $s?function(r,s,i){if(!vc(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=Dw(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(BC(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ja(t,e,n,r){return t instanceof du?function(s,i,o,a){if(!vc(s.precondition,i))return o;const l=s.value.clone(),c=Ow(s.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof $s?function(s,i,o,a){if(!vc(s.precondition,i))return o;const l=Ow(s.fieldTransforms,a,i),c=i.data;return c.setAll(BC(s)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,o){return vc(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function ML(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=$C(r.transform,s||null);i!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,i))}return n||null}function Pw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Mo(n,r,(s,i)=>OL(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends Rh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $s extends Rh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function BC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Dw(t,e,n){const r=new Map;Re(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,DL(o,a,n[s]))}return r}function Ow(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,PL(i,o,e))}return r}class VC extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FL extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&LL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=UC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(n,r)=>Pw(n,r))&&Mo(this.baseMutations,e.baseMutations,(n,r)=>Pw(n,r))}}class oy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length);let s=NL;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new oy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,ce;function zL(t){switch(t){default:return Q();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function zC(t){if(t===void 0)return Lr("GRPC error has no .code"),T.UNKNOWN;switch(t){case We.OK:return T.OK;case We.CANCELLED:return T.CANCELLED;case We.UNKNOWN:return T.UNKNOWN;case We.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case We.INTERNAL:return T.INTERNAL;case We.UNAVAILABLE:return T.UNAVAILABLE;case We.UNAUTHENTICATED:return T.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case We.NOT_FOUND:return T.NOT_FOUND;case We.ALREADY_EXISTS:return T.ALREADY_EXISTS;case We.PERMISSION_DENIED:return T.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case We.ABORTED:return T.ABORTED;case We.OUT_OF_RANGE:return T.OUT_OF_RANGE;case We.UNIMPLEMENTED:return T.UNIMPLEMENTED;case We.DATA_LOSS:return T.DATA_LOSS;default:return Q()}}(ce=We||(We={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Wu}static getOrCreateInstance(){return Wu===null&&(Wu=new ay),Wu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Wu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new _o([4294967295,4294967295],0);function $w(t){const e=HL().encode(t),n=new Q$;return n.update(e),new Uint8Array(n.digest())}function Lw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _o([n,r],0),new _o([s,i],0)]}class ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Da(`Invalid padding: ${n}`);if(r<0)throw new Da(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Da(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Da(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=_o.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(_o.fromNumber(r)));return s.compare(qL)===1&&(s=new _o([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=$w(e),[r,s]=Lw(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ly(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=$w(e),[r,s]=Lw(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ah(Z.min(),s,new Fe(ve),Fr(),le())}}class hu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hu(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class HC{constructor(e,n){this.targetId=e,this.Vt=n}}class qC{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Mw{constructor(){this.St=0,this.Dt=Uw(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=le(),n=le(),r=le();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Q()}}),new hu(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Uw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class WL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Fr(),this.zt=Fw(),this.Wt=new Fe(ve)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(Fm(o))if(s===0){const a=new W(o.path);this.Yt(r,a,It.newNoDocument(a,Z.min()))}else Re(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=ay.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,h){var f,g,v,w,_,p;const m={localCacheCount:d,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(m.bloomFilter={applied:c===0,hashCount:(f=y==null?void 0:y.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(v=(g=y==null?void 0:y.bits)===null||g===void 0?void 0:g.bitmap)===null||v===void 0?void 0:v.length)!==null&&w!==void 0?w:0,padding:(p=(_=y==null?void 0:y.bits)===null||_===void 0?void 0:_.padding)!==null&&p!==void 0?p:0}),m}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=yi(i).toUint8Array()}catch(d){if(d instanceof wC)return Lo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new ly(l,o,a)}catch(d){return Lo(d instanceof Da?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:s!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&Fm(a.target)){const l=new W(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,It.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=le();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new Ah(e,n,this.Wt,this.jt,r);return this.jt=Fr(),this.zt=Fw(),this.Wt=new Fe(ve),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Mw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Rt(ve),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Mw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Fw(){return new Fe(W.comparator)}function Uw(){return new Fe(W.comparator)}const KL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),GL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),QL=(()=>({and:"AND",or:"OR"}))();class YL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(t,e){return t.useProto3Json||Ih(e)?e:{value:e}}function md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XL(t,e){return md(t,e.toTimestamp())}function ar(t){return Re(!!t),Z.fromTimestamp(function(e){const n=Cs(e);return new nt(n.seconds,n.nanos)}(t))}function uy(t,e){return function(n){return new Ne(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function KC(t){const e=Ne.fromString(t);return Re(XC(e)),e}function Hm(t,e){return uy(t.databaseId,e.path)}function ep(t,e){const n=KC(e);if(n.get(1)!==t.databaseId.projectId)throw new L(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(GC(n))}function qm(t,e){return uy(t.databaseId,e)}function JL(t){const e=KC(t);return e.length===4?Ne.emptyPath():GC(e)}function Wm(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GC(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bw(t,e,n){return{name:Hm(t,e),fields:n.value.mapValue.fields}}function ZL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,c){return l.useProto3Json?(Re(c===void 0||typeof c=="string"),Dt.fromBase64String(c||"")):(Re(c===void 0||c instanceof Uint8Array),Dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?T.UNKNOWN:zC(l.code);return new L(c,l.message||"")}(o);n=new qC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ep(t,r.document.name),i=ar(r.document.updateTime),o=r.document.createTime?ar(r.document.createTime):Z.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new yc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ep(t,r.document),i=r.readTime?ar(r.readTime):Z.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];n=new yc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ep(t,r.document),i=r.removedTargetIds||[];n=new yc([],i,s,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new VL(s,i),a=r.targetId;n=new HC(a,o)}}return n}function eM(t,e){let n;if(e instanceof du)n={update:Bw(t,e.key,e.value)};else if(e instanceof VC)n={delete:Hm(t,e.key)};else if(e instanceof $s)n={update:Bw(t,e.key,e.data),updateMask:uM(e.fieldMask)};else{if(!(e instanceof FL))return Q();n={verify:Hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof fd)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fl)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ul)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof pd)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:XL(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function tM(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?ar(r.updateTime):ar(s);return i.isEqual(Z.min())&&(i=ar(s)),new $L(i,r.transformResults||[])}(n,e))):[]}function nM(t,e){return{documents:[qm(t,e.path)]}}function rM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=qm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return YC(zn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:zi(d.field),direction:oM(d.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=zm(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function sM(t){let e=JL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(d){const h=QC(d);return h instanceof zn&&xC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(h){return new Ya(Hi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ih(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new hd(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new hd(f,h)}(n.endAt)),kL(e,s,o,i,a,"F",l,c)}function iM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QC(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Hi(e.unaryFilter.field);return Ye.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Hi(e.unaryFilter.field);return Ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Hi(e.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Hi(e.unaryFilter.field);return Ye.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(e){return Ye.create(Hi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return zn.create(e.compositeFilter.filters.map(n=>QC(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Q()}}(e.compositeFilter.op))}(t):Q()}function oM(t){return KL[t]}function aM(t){return GL[t]}function lM(t){return QL[t]}function zi(t){return{fieldPath:t.canonicalString()}}function Hi(t){return Tt.fromServerFormat(t.fieldPath)}function YC(t){return t instanceof Ye?function(e){if(e.op==="=="){if(Tw(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NAN"}};if(Iw(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Tw(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NOT_NAN"}};if(Iw(e.value))return{unaryFilter:{field:zi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zi(e.field),op:aM(e.op),value:e.value}}}(t):t instanceof zn?function(e){const n=e.getFilters().map(r=>YC(r));return n.length===1?n[0]:{compositeFilter:{op:lM(e.op),filters:n}}}(t):Q()}function uM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r,s,i=Z.min(),o=Z.min(),a=Dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.fe=e}}function dM(t){const e=sM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.rn=new fM}addToCollectionParentIndex(e,n){return this.rn.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(ks.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class fM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Rt(Ne.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Rt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bo(0)}static Mn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ja(r.mutation,s,sn.empty(),nt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const s=ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Pa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Fr();const o=Xa(),a=Xa();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof $s)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ja(d.mutation,c,d.mutation.getFieldMask(),nt.now())):o.set(c.key,sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new mM(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xa();let s=new Fe((o,a)=>o-a),i=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||sn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||le()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=PC();d.forEach(f=>{if(!i.has(f)){const g=UC(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):A.resolve(ei());let a=-1,l=i;return o.next(c=>A.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?A.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,le())).next(d=>({batchId:a,changes:jC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let s=Pa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=Pa();return this.indexManager.getCollectionParents(e,s).next(o=>A.forEach(o,a=>{const l=function(c,d){return new cu(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,It.newInvalidDocument(c)))});let o=Pa();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Ja(c.mutation,l,sn.empty(),nt.now()),Nh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return A.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ar(r.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:dM(r.bundledQuery),readTime:ar(r.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.overlays=new Fe(W.comparator),this.ls=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ei();return A.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const s=ei(),i=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return A.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Fe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=ei(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ei(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return A.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new BL(n,r));let i=this.ls.get(n);i===void 0&&(i=le(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this.fs=new Rt(it.ds),this.ws=new Rt(it._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new it(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new it(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new W(new Ne([])),r=new it(n,e),s=new it(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new W(new Ne([])),r=new it(n,e),s=new it(n,e+1);let i=le();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new it(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return W.comparator(e.key,n.key)||ve(e.As,n.As)}static _s(e,n){return ve(e.As,n.As)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Rt(it.ds)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return A.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),s=new it(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),A.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(ve);return n.forEach(s=>{const i=new it(s,0),o=new it(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),A.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;W.isDocumentKey(i)||(i=i.child(""));const o=new it(new W(i),0);let a=new Rt(ve);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.As)),!0)},o),A.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return A.forEach(n.mutations,s=>{const i=new it(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new it(n,0),s=this.Rs.firstAfterOrEqual(r);return A.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.Ds=e,this.docs=new Fe(W.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Fr();const o=n.path,a=new W(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||aL(oL(d),r)<=0||(s.has(d.key)||Nh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return A.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Q()}Cs(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EM(this)}getSize(e){return A.resolve(this.size)}}class EM extends pM{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.persistence=e,this.xs=new ea(n=>ny(n),ry),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Ns=0,this.ks=new cy,this.targetCount=0,this.Ms=Bo.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),A.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.Fn(n),A.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),A.waitFor(i).next(()=>s)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),A.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.$s={},this.overlays={},this.Os=new Jv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new SM(this),this.indexManager=new hM,this.remoteDocumentCache=function(r){return new _M(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new cM(n),this.qs=new vM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new wM(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new kM(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return A.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class kM extends uL{constructor(e){super(),this.currentSequenceNumber=e}}class dy{constructor(e){this.persistence=e,this.Qs=new cy,this.js=null}static zs(e){return new dy(e)}get Ws(){if(this.js)return this.js;throw Q()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),A.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Ws,r=>{const s=W.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,Z.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return A.or([()=>A.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=le(),s=le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new hy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(Aw(n))return A.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Bm(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=le(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,o,l.readTime)?this.Ki(e,Bm(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,s){return Aw(n)||s.isEqual(Z.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(Ew()<=me.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vm(n)),this.Wi(e,o,n,iL(s,-1)))})}ji(e,n){let r=new Rt(RC(e));return n.forEach((s,i)=>{Nh(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return Ew()<=me.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Vm(n)),this.Ui.getDocumentsMatchingQuery(e,n,ks.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Fe(ve),this.Yi=new ea(i=>ny(i),ry),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function TM(t,e,n,r){return new IM(t,e,n,r)}async function JC(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=le();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function NM(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const d=l.batch,h=d.keys();let f=A.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(a,g)).next(v=>{const w=l.docVersions.get(g);Re(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ZC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function bM(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,d.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(v,w,_){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,g,d)&&a.push(n.Bs.updateTargetData(i,g))});let l=Fr(),c=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(RM(i,o,e.documentUpdates).next(d=>{l=d.nr,c=d.sr})),!r.isEqual(Z.min())){const d=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return A.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ji=s,i))}function RM(t,e,n){let r=le(),s=le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Fr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:s}})}function AM(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jM(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,A.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Km(t,e,n){const r=ne(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!uu(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function Vw(t,e,n){const r=ne(t);let s=Z.min(),i=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const d=ne(a),h=d.Yi.get(c);return h!==void 0?A.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,c)}(r,o,Mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:Z.min(),n?i:le())).next(a=>(PM(r,CL(e),a),{documents:a,ir:i})))}function PM(t,e,n){let r=t.Xi.get(e)||Z.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class zw{constructor(){this.activeTargetIds=AL()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DM{constructor(){this.Hr=new zw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new zw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function tp(){return Ku===null?Ku=268435456+Math.round(2147483648*Math.random()):Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class MM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=tp(),a=this.To(e,n);H("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(c=>(H("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Lo("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=$M[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=tp();return new Promise((o,a)=>{const l=new G$;l.setWithCredentials(!0),l.listenOnce(q$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zf.NO_ERROR:const d=l.getResponseJson();H(St,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Zf.TIMEOUT:H(St,`RPC '${e}' ${i} timed out`),a(new L(T.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:const h=l.getStatus();if(H(St,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const v=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(_)>=0?_:T.UNKNOWN}(g.status);a(new L(v,g.message))}else a(new L(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(T.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{H(St,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);H(St,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const s=tp(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=z$(),a=H$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new K$({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");H(St,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,g=!1;const v=new LM({ro:_=>{g?H(St,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(f||(H(St,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),H(St,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},oo:()=>h.close()}),w=(_,p,m)=>{_.listen(p,y=>{try{m(y)}catch(E){setTimeout(()=>{throw E},0)}})};return w(h,zu.EventType.OPEN,()=>{g||H(St,`RPC '${e}' stream ${s} transport opened.`)}),w(h,zu.EventType.CLOSE,()=>{g||(g=!0,H(St,`RPC '${e}' stream ${s} transport closed`),v.wo())}),w(h,zu.EventType.ERROR,_=>{g||(g=!0,Lo(St,`RPC '${e}' stream ${s} transport errored:`,_),v.wo(new L(T.UNAVAILABLE,"The operation could not be completed")))}),w(h,zu.EventType.MESSAGE,_=>{var p;if(!g){const m=_.data[0];Re(!!m);const y=m,E=y.error||((p=y[0])===null||p===void 0?void 0:p.error);if(E){H(St,`RPC '${e}' stream ${s} received error:`,E);const x=E.status;let I=function(j){const P=We[j];if(P!==void 0)return zC(P)}(x),N=E.message;I===void 0&&(I=T.INTERNAL,N="Unknown error status: "+x+" with message "+E.message),g=!0,v.wo(new L(I,N)),h.close()}else H(St,`RPC '${e}' stream ${s} received:`,m),v._o(m)}}),w(a,W$.STAT_EVENT,_=>{_.stat===ww.PROXY?H(St,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===ww.NOPROXY&&H(St,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){return new YL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new eI(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new L(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FM extends tI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=ZL(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?Z.min():i.readTime?ar(i.readTime):Z.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Wm(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=Fm(a)?{documents:nM(s,a)}:{query:rM(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=WC(s,i.resumeToken);const l=zm(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(Z.min())>0){o.readTime=md(s,i.snapshotVersion.toTimestamp());const l=zm(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=iM(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.Wo(n)}}class UM extends tI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=tM(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.cu(r,n)}return Re(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wm(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eM(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new L(T.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(T.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(T.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class VM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Lr(n),this.mu=!1):H("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Ai(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ne(a);l.vu.add(4),await fu(l),l.bu.set("Unknown"),l.vu.delete(4),await Ph(l)}(this))})}),this.bu=new VM(r,s)}}async function Ph(t){if(Ai(t))for(const e of t.Ru)await e(!0)}async function fu(t){for(const e of t.Ru)await e(!1)}function nI(t,e){const n=ne(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),my(n)?py(n):ta(n).Ko()&&fy(n,e))}function rI(t,e){const n=ne(t),r=ta(n);n.Au.delete(e),r.Ko()&&sI(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ai(n)&&n.bu.set("Unknown"))}function fy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).su(e)}function sI(t,e){t.Vu.qt(e),ta(t).iu(e)}function py(t){t.Vu=new WL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.bu.gu()}function my(t){return Ai(t)&&!ta(t).Uo()&&t.Au.size>0}function Ai(t){return ne(t).vu.size===0}function iI(t){t.Vu=void 0}async function HM(t){t.Au.forEach((e,n)=>{fy(t,e)})}async function qM(t,e){iI(t),my(t)?(t.bu.Iu(e),py(t)):t.bu.set("Unknown")}async function WM(t,e,n){if(t.bu.set("Online"),e instanceof qC&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gd(t,r)}else if(e instanceof yc?t.Vu.Ht(e):e instanceof HC?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Z.min()))try{const r=await ZC(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.Au.get(l);c&&s.Au.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const c=s.Au.get(a);if(!c)return;s.Au.set(a,c.withResumeToken(Dt.EMPTY_BYTE_STRING,c.snapshotVersion)),sI(s,a);const d=new ss(c.target,a,l,c.sequenceNumber);fy(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await gd(t,r)}}async function gd(t,e,n){if(!uu(e))throw e;t.vu.add(1),await fu(t),t.bu.set("Offline"),n||(n=()=>ZC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Ph(t)})}function oI(t,e){return e().catch(n=>gd(t,n,e))}async function Dh(t){const e=ne(t),n=Is(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;KM(e);)try{const s=await AM(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,GM(e,s)}catch(s){await gd(e,s)}aI(e)&&lI(e)}function KM(t){return Ai(t)&&t.Eu.length<10}function GM(t,e){t.Eu.push(e);const n=Is(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function aI(t){return Ai(t)&&!Is(t).Uo()&&t.Eu.length>0}function lI(t){Is(t).start()}async function QM(t){Is(t).hu()}async function YM(t){const e=Is(t);for(const n of t.Eu)e.uu(n.mutations)}async function XM(t,e,n){const r=t.Eu.shift(),s=oy.from(r,e,n);await oI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dh(t)}async function JM(t,e){e&&Is(t).ou&&await async function(n,r){if(s=r.code,zL(s)&&s!==T.ABORTED){const i=n.Eu.shift();Is(n).Qo(),await oI(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Dh(n)}var s}(t,e),aI(t)&&lI(t)}async function qw(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Ai(n);n.vu.add(3),await fu(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Ph(n)}async function ZM(t,e){const n=ne(t);e?(n.vu.delete(2),await Ph(n)):e||(n.vu.add(2),await fu(n),n.bu.set("Unknown"))}function ta(t){return t.Su||(t.Su=function(e,n,r){const s=ne(e);return s.fu(),new FM(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:HM.bind(null,t),ao:qM.bind(null,t),nu:WM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),my(t)?py(t):t.bu.set("Unknown")):(await t.Su.stop(),iI(t))})),t.Su}function Is(t){return t.Du||(t.Du=function(e,n,r){const s=ne(e);return s.fu(),new UM(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:QM.bind(null,t),ao:JM.bind(null,t),au:YM.bind(null,t),cu:XM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Dh(t)):(await t.Du.stop(),t.Eu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new gy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),uu(t))return new L(T.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Pa(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new So(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new So;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.Cu=new Fe(W.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Q():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vo(e,n,So.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Nu=void 0,this.listeners=[]}}class t4{constructor(){this.queries=new ea(e=>bC(e),Th),this.onlineState="Unknown",this.ku=new Set}}async function uI(t,e){const n=ne(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new e4),s)try{i.Nu=await n.onListen(r)}catch(o){const a=vy(o,`Initialization of query '${Vm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&yy(n)}async function cI(t,e){const n=ne(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function n4(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&yy(n)}function r4(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function yy(t){t.ku.forEach(e=>{e.next()})}class dI{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.key=e}}class fI{constructor(e){this.key=e}}class s4{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=le(),this.mutatedKeys=le(),this.tc=RC(e),this.ec=new So(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Ww,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),g=Nh(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;f&&g?f.data.isEqual(g.data)?v!==w&&(r.track({type:3,doc:g}),_=!0):this.rc(f,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.tc(g,l)>0||c&&this.tc(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),_=!0):f&&!g&&(r.track({type:1,doc:f}),_=!0,(l||c)&&(a=!0)),_&&(g?(o=o.add(g),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,d)=>function(h,f){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return g(h)-g(f)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new Vo(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ww,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=le(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new fI(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new hI(r))}),n}hc(e){this.Yu=e.ir,this.Zu=le();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Vo.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class i4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o4{constructor(e){this.key=e,this.fc=!1}}class a4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ea(a=>bC(a),Th),this._c=new Map,this.mc=new Set,this.gc=new Fe(W.comparator),this.yc=new Map,this.Ic=new cy,this.Tc={},this.Ec=new Map,this.Ac=Bo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function l4(t,e){const n=y4(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await jM(n.localStore,Mr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await u4(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&nI(n.remoteStore,o)}return s}async function u4(t,e,n,r,s){t.Rc=(h,f,g)=>async function(v,w,_,p){let m=w.view.sc(_);m.zi&&(m=await Vw(v.localStore,w.query,!1).then(({documents:x})=>w.view.sc(x,m)));const y=p&&p.targetChanges.get(w.targetId),E=w.view.applyChanges(m,v.isPrimaryClient,y);return Gw(v,w.targetId,E.cc),E.snapshot}(t,h,f,g);const i=await Vw(t.localStore,e,!0),o=new s4(e,i.ir),a=o.sc(i.documents),l=hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Gw(t,n,c.cc);const d=new i4(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function c4(t,e){const n=ne(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!Th(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Km(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rI(n.remoteStore,r.targetId),Gm(n,r.targetId)}).catch(lu)):(Gm(n,r.targetId),await Km(n.localStore,r.targetId,!0))}async function d4(t,e,n){const r=w4(t);try{const s=await function(i,o){const a=ne(i),l=nt.now(),c=o.reduce((f,g)=>f.add(g.key),le());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Fr(),v=le();return a.Zi.getEntries(f,c).next(w=>{g=w,g.forEach((_,p)=>{p.isValidDocument()||(v=v.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(w=>{d=w;const _=[];for(const p of o){const m=ML(p,d.get(p.key).overlayedDocument);m!=null&&_.push(new $s(p.key,m,_C(m.value.mapValue),or.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,_,o)}).next(w=>{h=w;const _=w.applyToLocalDocumentSet(d,v);return a.documentOverlayCache.saveOverlays(f,w.batchId,_)})}).then(()=>({batchId:h.batchId,changes:jC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new Fe(ve)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await pu(r,s.changes),await Dh(r.remoteStore)}catch(s){const i=vy(s,"Failed to persist write");n.reject(i)}}async function pI(t,e){const n=ne(t);try{const r=await bM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?Re(o.fc):s.removedDocuments.size>0&&(Re(o.fc),o.fc=!1))}),await pu(n,r,e)}catch(r){await lu(r)}}function Kw(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=ne(i);a.onlineState=o;let l=!1;a.queries.forEach((c,d)=>{for(const h of d.listeners)h.Mu(o)&&(l=!0)}),l&&yy(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function h4(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new Fe(W.comparator);o=o.insert(i,It.newNoDocument(i,Z.min()));const a=le().add(i),l=new Ah(Z.min(),new Map,new Fe(ve),o,a);await pI(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),wy(r)}else await Km(r.localStore,e,!1).then(()=>Gm(r,e,n)).catch(lu)}async function f4(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await NM(n.localStore,e);gI(n,r,null),mI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pu(n,s)}catch(s){await lu(s)}}async function p4(t,e,n){const r=ne(t);try{const s=await function(i,o){const a=ne(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(Re(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);gI(r,e,n),mI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pu(r,s)}catch(s){await lu(s)}}function mI(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function gI(t,e,n){const r=ne(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||vI(t,r)})}function vI(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(rI(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),wy(t))}function Gw(t,e,n){for(const r of n)r instanceof hI?(t.Ic.addReference(r.key,e),m4(t,r)):r instanceof fI?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||vI(t,r.key)):Q()}function m4(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.mc.add(r),wy(t))}function wy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new W(Ne.fromString(e)),r=t.Ac.next();t.yc.set(r,new o4(n)),t.gc=t.gc.insert(n,r),nI(t.remoteStore,new ss(Mr(sy(n.path)),r,"TargetPurposeLimboResolution",Jv.ct))}}async function pu(t,e,n){const r=ne(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const d=hy.Li(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){const c=ne(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(l,h=>A.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>A.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!uu(d))throw d;H("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);c.Ji=c.Ji.insert(h,v)}}}(r.localStore,i))}async function g4(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await JC(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new L(T.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pu(n,r.er)}}function v4(t,e){const n=ne(t),r=n.yc.get(e);if(r&&r.fc)return le().add(r.key);{let s=le();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function y4(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h4.bind(null,e),e.dc.nu=n4.bind(null,e.eventManager),e.dc.Pc=r4.bind(null,e.eventManager),e}function w4(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p4.bind(null,e),e}class Qw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return TM(this.persistence,new CM,e.initialUser,this.serializer)}createPersistence(e){return new xM(dy.zs,this.serializer)}createSharedClientState(e){return new DM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g4.bind(null,this.syncEngine),await ZM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new t4}createDatastore(e){const n=jh(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new MM(s));var s;return function(i,o,a,l){return new BM(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>Kw(this.syncEngine,a,0),o=Hw.D()?new Hw:new OM,new zM(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,c){const d=new a4(r,s,i,o,a,l);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ne(e);H("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await fu(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=vC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{H("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(H("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rp(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await JC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await x4(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>qw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>qw(e.remoteStore,i)),t._onlineComponents=e}function S4(t){return t.name==="FirebaseError"?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function x4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!S4(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await rp(t,new Qw)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await rp(t,new Qw);return t._offlineComponents}async function wI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Yw(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Yw(t,new _4))),t._onlineComponents}function k4(t){return wI(t).then(e=>e.syncEngine)}async function _I(t){const e=await wI(t),n=e.eventManager;return n.onListen=l4.bind(null,e.syncEngine),n.onUnlisten=c4.bind(null,e.syncEngine),n}function C4(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const c=new yI({next:h=>{i.enqueueAndForget(()=>cI(s,d));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new L(T.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new L(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new dI(sy(o.path),c,{includeMetadataChanges:!0,Ku:!0});return uI(s,d)}(await _I(t),t.asyncQueue,e,n,r)),r.promise}function I4(t,e,n={}){const r=new Nr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const c=new yI({next:h=>{i.enqueueAndForget(()=>cI(s,d)),h.fromCache&&a.source==="server"?l.reject(new L(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new dI(o,c,{includeMetadataChanges:!0,Ku:!0});return uI(s,d)}(await _I(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e,n){if(!n)throw new L(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T4(t,e,n,r){if(e===!0&&r===!0)throw new L(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jw(t){if(!W.isDocumentKey(t))throw new L(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zw(t){if(W.isDocumentKey(t))throw new L(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(t);throw new L(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class $h{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Y$;switch(n.type){case"firstParty":return new eL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new L(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Xw.get(e);n&&(H("ComponentProvider","Removing Datastore"),Xw.delete(e),n.terminate())}(this),Promise.resolve()}}function N4(t,e,n,r={}){var s;const i=(t=Ts(t,$h))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Lo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=kt.MOCK_USER;else{o=Nx(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kt(l)}t._authCredentials=new X$(new gC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class na{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class vs extends na{constructor(e,n,r){super(e,n,sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new W(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function De(t,e,...n){if(t=Be(t),SI("collection","path",e),t instanceof $h){const r=Ne.fromString(e,...n);return Zw(r),new vs(t,null,r)}{if(!(t instanceof Xt||t instanceof vs))throw new L(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return Zw(r),new vs(t.firestore,null,r)}}function Ze(t,e,...n){if(t=Be(t),arguments.length===1&&(e=vC.A()),SI("doc","path",e),t instanceof $h){const r=Ne.fromString(e,...n);return Jw(r),new Xt(t,null,new W(r))}{if(!(t instanceof Xt||t instanceof vs))throw new L(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return Jw(r),new Xt(t.firestore,t instanceof vs?t.converter:null,new W(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new eI(this,"async_queue_retry"),this.Xc=()=>{const n=np();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Nr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!uu(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Lr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=gy.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&Q()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class mu extends $h{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new b4,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xI(this),this._firestoreClient.terminate()}}function R4(t,e){const n=typeof t=="object"?t:yv(),r=typeof t=="string"?t:e||"(default)",s=ah(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Cx("firestore");i&&N4(s,...i)}return s}function _y(t){return t._firestoreClient||xI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xI(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,c){return new hL(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,EI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new E4(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zo(Dt.fromBase64String(e))}catch(n){throw new L(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=/^__.*__$/;class j4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class kI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class xy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(CI(this.ca)&&A4.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class P4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jh(e)}ya(e,n,r,s=!1){return new xy({ca:e,methodName:n,ga:r,path:Tt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(t){const e=t._freezeSettings(),n=jh(t._databaseId);return new P4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D4(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);Cy("Data must be an object, but it was:",o,r);const a=II(r,o);let l,c;if(i.merge)l=new sn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=Qm(e,h,n);if(!o.contains(f))throw new L(T.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);NI(d,f)||d.push(f)}l=new sn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new j4(new Wt(a),l,c)}class Mh extends Ey{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function O4(t,e,n,r){const s=t.ya(1,e,n);Cy("Data must be an object, but it was:",s,r);const i=[],o=Wt.empty();Ri(r,(l,c)=>{const d=Iy(e,l,n);c=Be(c);const h=s.da(d);if(c instanceof Mh)i.push(d);else{const f=gu(c,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new sn(i);return new kI(o,a,s.fieldTransforms)}function $4(t,e,n,r,s,i){const o=t.ya(1,e,n),a=[Qm(e,r,n)],l=[s];if(i.length%2!=0)throw new L(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Qm(e,i[f])),l.push(i[f+1]);const c=[],d=Wt.empty();for(let f=a.length-1;f>=0;--f)if(!NI(c,a[f])){const g=a[f];let v=l[f];v=Be(v);const w=o.da(g);if(v instanceof Mh)c.push(g);else{const _=gu(v,w);_!=null&&(c.push(g),d.set(g,_))}}const h=new sn(c);return new kI(d,h,o.fieldTransforms)}function L4(t,e,n,r=!1){return gu(n,t.ya(r?4:3,e))}function gu(t,e){if(TI(t=Be(t)))return Cy("Unsupported field value:",e,t),II(t,e);if(t instanceof Ey)return function(n,r){if(!CI(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=gu(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Be(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jL(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=nt.fromDate(n);return{timestampValue:md(r.serializer,s)}}if(n instanceof nt){const s=new nt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:md(r.serializer,s)}}if(n instanceof Sy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zo)return{bytesValue:WC(r.serializer,n._byteString)};if(n instanceof Xt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Oh(n)}`)}(t,e)}function II(t,e){const n={};return yC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ri(t,(r,s)=>{const i=gu(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function TI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof Sy||t instanceof zo||t instanceof Xt||t instanceof Ey)}function Cy(t,e,n){if(!TI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Oh(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Qm(t,e,n){if((e=Be(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return Iy(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const M4=new RegExp("[~\\*/\\[\\]]");function Iy(t,e,n){if(e.search(M4)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lh(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new L(T.INVALID_ARGUMENT,a+t+l)}function NI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class F4 extends bI{data(){return super.data()}}function Ty(t,e){return typeof e=="string"?Iy(t,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class B4 extends Ny{}function Jt(t,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof by).length,o=s.filter(a=>a instanceof Fh).length;if(i>1||i>0&&o>0)throw new L(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Fh extends B4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fh(e,n,r)}_apply(e){const n=this._parse(e);return RI(e._query,n),new na(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=ky(e.firestore);return function(s,i,o,a,l,c,d){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new L(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){n_(d,c);const f=[];for(const g of d)f.push(t_(a,s,g));h={arrayValue:{values:f}}}else h=t_(a,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||n_(d,c),h=L4(o,i,d,c==="in"||c==="not-in");return Ye.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ke(t,e,n){const r=e,s=Ty("where",t);return Fh._create(s,r,n)}class by extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new by(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)RI(i,a),i=Um(i,a)}(e._query,n),new na(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function t_(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new L(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NC(e)&&n.indexOf("/")!==-1)throw new L(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!W.isDocumentKey(r))throw new L(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cw(t,new W(r))}if(n instanceof Xt)return Cw(t,n._key);throw new L(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function n_(t,e){if(!Array.isArray(t)||t.length===0)throw new L(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RI(t,e){if(e.isInequality()){const r=iy(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new L(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=TC(t);i!==null&&V4(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(T.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function V4(t,e,n){if(!n.isEqual(e))throw new L(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class z4{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ri(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Sy(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ey(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);Re(XC(r));const s=new Ll(r.get(1),r.get(3)),i=new W(r.popFirst(5));return s.isEqual(n)||Lr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AI extends bI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ty("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wc extends AI{data(e={}){return super.data(e)}}class q4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Oa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wc(this._firestore,this._userDataWriter,r.key,r,new Oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new wc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Oa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new wc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Oa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:W4(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function W4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){t=Ts(t,Xt);const e=Ts(t.firestore,mu);return C4(_y(e),t._key).then(n=>K4(e,t,n))}class jI extends z4{constructor(e){super(),this.firestore=e}convertBytes(e){return new zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function At(t){t=Ts(t,na);const e=Ts(t.firestore,mu),n=_y(e),r=new jI(e);return U4(t._query),I4(n,t._query).then(s=>new q4(e,r,t,s))}function Mn(t,e,n,...r){t=Ts(t,Xt);const s=Ts(t.firestore,mu),i=ky(s);let o;return o=typeof(e=Be(e))=="string"||e instanceof Lh?$4(i,"updateDoc",t._key,e,n,r):O4(i,"updateDoc",t._key,e),PI(s,[o.toMutation(t._key,or.exists(!0))])}function _i(t,e){const n=Ts(t.firestore,mu),r=Ze(t),s=H4(t.converter,e);return PI(n,[D4(ky(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}function PI(t,e){return function(n,r){const s=new Nr;return n.asyncQueue.enqueueAndForget(async()=>d4(await k4(n),r,s)),s.promise}(_y(t),e)}function K4(t,e,n){const r=n.docs.get(e._key),s=new jI(t);return new AI(t,s,e._key,r,new Oa(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Zo=n})(Ii),pi(new xs("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new mu(new J$(n.getProvider("auth-internal")),new nL(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new L(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),rr(_w,"3.12.1",t),rr(_w,"3.12.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebasestorage.googleapis.com",OI="storageBucket",G4=2*60*1e3,Q4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He extends ur{constructor(e,n,r=0){super(sp(e),`Firebase Storage: ${n} (${sp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function sp(t){return"storage/"+t}function Ry(){const t="An unknown error occurred, please check the error payload for server response.";return new He(ze.UNKNOWN,t)}function Y4(t){return new He(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X4(t){return new He(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function J4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new He(ze.UNAUTHENTICATED,t)}function Z4(){return new He(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function e3(t){return new He(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function t3(){return new He(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n3(){return new He(ze.CANCELED,"User canceled the upload/download.")}function r3(t){return new He(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function s3(t){return new He(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function i3(){return new He(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OI+"' property when initializing the app?")}function o3(){return new He(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function a3(){return new He(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function l3(t){return new He(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ym(t){return new He(ze.INVALID_ARGUMENT,t)}function $I(){return new He(ze.APP_DELETED,"The Firebase app was deleted.")}function u3(t){return new He(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Za(t,e){return new He(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ya(t){throw new He(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=on.makeFromUrl(e,n)}catch{return new on(e,"")}if(r.path==="")return r;throw s3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),v={bucket:1,path:3},w=n===DI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",p=new RegExp(`^https?://${w}/${s}/${_}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:g,indices:v,postModify:c},{regex:p,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<y.length;E++){const x=y[E],I=x.regex.exec(e);if(I){const N=I[x.indices.bucket];let j=I[x.indices.path];j||(j=""),r=new on(N,j),x.postModify(r);break}}if(r==null)throw r3(e);return r}}class c3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(..._){c||(c=!0,e.apply(null,_))}function h(_){s=setTimeout(()=>{s=null,t(g,l())},_)}function f(){i&&clearTimeout(i)}function g(_,...p){if(c){f();return}if(_){f(),d.call(null,_,...p);return}if(l()||o){f(),d.call(null,_,...p);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let v=!1;function w(_){v||(v=!0,f(),!c&&(s!==null?(_||(a=2),clearTimeout(s),h(0)):_||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function h3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){return t!==void 0}function p3(t){return typeof t=="object"&&!Array.isArray(t)}function Ay(t){return typeof t=="string"||t instanceof String}function r_(t){return jy()&&t instanceof Blob}function jy(){return typeof Blob<"u"&&!pj()}function s_(t,e,n,r){if(r<e)throw Ym(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ym(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function LI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ii||(ii={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n,r,s,i,o,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,v)=>{this.resolve_=g,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Gu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ii.NO_ERROR,l=i.getStatus();if(!a||m3(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ii.ABORT;r(!1,new Gu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Gu(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());f3(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Ry();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?$I():n3();o(l)}else{const l=t3();o(l)}};this.canceled_?n(!1,new Gu(!1,null,!0)):this.backoffId_=d3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function v3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function E3(t,e,n,r,s,i,o=!0){const a=LI(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return w3(c,e),v3(c,n),y3(c,i),_3(c,r),new g3(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x3(...t){const e=S3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jy())return new Blob(t);throw new He(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function k3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){if(typeof atob>"u")throw l3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ip{constructor(e,n){this.data=e,this.contentType=n||null}}function I3(t,e){switch(t){case Jn.RAW:return new ip(MI(e));case Jn.BASE64:case Jn.BASE64URL:return new ip(FI(t,e));case Jn.DATA_URL:return new ip(N3(e),b3(e))}throw Ry()}function MI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function T3(t){let e;try{e=decodeURIComponent(t)}catch{throw Za(Jn.DATA_URL,"Malformed data URL.")}return MI(e)}function FI(t,e){switch(t){case Jn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Za(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Jn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Za(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=C3(e)}catch(s){throw s.message.includes("polyfill")?s:Za(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class UI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Za(Jn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=R3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function N3(t){const e=new UI(t);return e.base64?FI(Jn.BASE64,e.rest):T3(e.rest)}function b3(t){return new UI(t).contentType}function R3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){let r=0,s="";r_(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(r_(this.data_)){const r=this.data_,s=k3(r,e,n);return s===null?null:new es(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new es(r,!0)}}static getBlob(...e){if(jy()){const n=e.map(r=>r instanceof es?r.data_:r);return new es(x3.apply(null,n))}else{const n=e.map(o=>Ay(o)?I3(Jn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new es(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){let e;try{e=JSON.parse(t)}catch{return null}return p3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function j3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function VI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e){return e}class Ot{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||P3}}let Qu=null;function D3(t){return!Ay(t)||t.length<2?t:VI(t)}function zI(){if(Qu)return Qu;const t=[];t.push(new Ot("bucket")),t.push(new Ot("generation")),t.push(new Ot("metageneration")),t.push(new Ot("name","fullPath",!0));function e(i,o){return D3(o)}const n=new Ot("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ot("size");return s.xform=r,t.push(s),t.push(new Ot("timeCreated")),t.push(new Ot("updated")),t.push(new Ot("md5Hash",null,!0)),t.push(new Ot("cacheControl",null,!0)),t.push(new Ot("contentDisposition",null,!0)),t.push(new Ot("contentEncoding",null,!0)),t.push(new Ot("contentLanguage",null,!0)),t.push(new Ot("contentType",null,!0)),t.push(new Ot("metadata","customMetadata",!0)),Qu=t,Qu}function O3(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new on(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function $3(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return O3(r,t),r}function HI(t,e,n){const r=BI(e);return r===null?null:$3(t,r,n)}function L3(t,e,n,r){const s=BI(e);if(s===null||!Ay(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),g=Py(f,n,r),v=LI({alt:"media",token:c});return g+v})[0]}function M3(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class qI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){if(!t)throw Ry()}function F3(t,e){function n(r,s){const i=HI(t,s,e);return WI(i!==null),i}return n}function U3(t,e){function n(r,s){const i=HI(t,s,e);return WI(i!==null),L3(i,s,t.host,t._protocol)}return n}function KI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Z4():s=J4():n.getStatus()===402?s=X4(t.bucket):n.getStatus()===403?s=e3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function B3(t){const e=KI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Y4(t.path)),i.serverResponse=s.serverResponse,i}return n}function V3(t,e,n){const r=e.fullServerUrl(),s=Py(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new qI(s,i,U3(t,n),o);return a.errorHandler=B3(e),a}function z3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function H3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=z3(null,e)),r}function q3(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let E=0;E<2;E++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=H3(e,r,s),d=M3(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=es.getBlob(h,r,f);if(g===null)throw o3();const v={name:c.fullPath},w=Py(i,t.host,t._protocol),_="POST",p=t.maxUploadRetryTime,m=new qI(w,_,F3(t,n),p);return m.urlParams=v,m.headers=o,m.body=g.uploadData(),m.errorHandler=KI(e),m}class W3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ii.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ii.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ii.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw ya("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ya("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ya("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ya("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class K3 extends W3{initXhr(){this.xhr_.responseType="text"}}function GI(){return new K3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this._service=e,n instanceof on?this._location=n:this._location=on.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ei(e,n)}get root(){const e=new on(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VI(this._location.path)}get storage(){return this._service}get parent(){const e=A3(this._location.path);if(e===null)return null;const n=new on(this._location.bucket,e);return new Ei(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw u3(e)}}function G3(t,e,n){t._throwIfRoot("uploadBytes");const r=q3(t.storage,t._location,zI(),new es(e,!0),n);return t.storage.makeRequestWithTokens(r,GI).then(s=>({metadata:s,ref:t}))}function Q3(t){t._throwIfRoot("getDownloadURL");const e=V3(t.storage,t._location,zI());return t.storage.makeRequestWithTokens(e,GI).then(n=>{if(n===null)throw a3();return n})}function Y3(t,e){const n=j3(t._location.path,e),r=new on(t._location.bucket,n);return new Ei(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return/^[A-Za-z]+:\/\//.test(t)}function J3(t,e){return new Ei(t,e)}function QI(t,e){if(t instanceof Dy){const n=t;if(n._bucket==null)throw i3();const r=new Ei(n,n._bucket);return e!=null?QI(r,e):r}else return e!==void 0?Y3(t,e):t}function Z3(t,e){if(e&&X3(e)){if(t instanceof Dy)return J3(t,e);throw Ym("To use ref(service, url), the first argument must be a Storage instance.")}else return QI(t,e)}function i_(t,e){const n=e==null?void 0:e[OI];return n==null?null:on.makeFromBucketSpec(n,t)}function eF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Nx(s,t.app.options.projectId))}class Dy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=DI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G4,this._maxUploadRetryTime=Q4,this._requests=new Set,s!=null?this._bucket=on.makeFromBucketSpec(s,this._host):this._bucket=i_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=on.makeFromBucketSpec(this._url,e):this._bucket=i_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ei(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new c3($I());{const o=E3(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const o_="@firebase/storage",a_="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="storage";function XI(t,e,n){return t=Be(t),G3(t,e,n)}function JI(t){return t=Be(t),Q3(t)}function ZI(t,e){return t=Be(t),Z3(t,e)}function tF(t=yv(),e){t=Be(t);const r=ah(t,YI).getImmediate({identifier:e}),s=Cx("storage");return s&&nF(r,...s),r}function nF(t,e,n,r={}){eF(t,e,n,r)}function rF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Dy(n,r,s,e,Ii)}function sF(){pi(new xs(YI,rF,"PUBLIC").setMultipleInstances(!0)),rr(o_,a_,""),rr(o_,a_,"esm2017")}sF();const iF={apiKey:{}.VITE_FIREBASE_apikey,authDomain:{}.VITE_FIREBASE_authDomain,projectId:{}.VITE_FIREBASE_projectId,storageBucket:{}.VITE_FIREBASE_storageBucket,messagingSenderId:{}.VITE_FIREBASE_messagingSenderId,appId:{}.VITE_FIREBASE_appId,measurementId:{}.VITE_FIREBASE_measurementId},Oy=Ax(iF),Li=VO(Oy),ae=R4(Oy),eT=tF(Oy),tT=ig.createContext(),oF=({children:t})=>{const e=As(),[n,r]=S.useState(),[s,i]=S.useState(!0),o=async(f,g)=>CD(Li,f,g),a=(f,g)=>ID(Li,f,g),l=async(f,g)=>{try{if(f){g("/user");const v=Ze(ae,"users",f);await Mn(v,{isLoggedIn:!1}),e(x2())}}catch(v){console.error(v)}return RD(Li)},c=f=>kD(Li,f),d=()=>{const f=new wr;return XD(Li,f)};S.useEffect(()=>{const f=bD(Li,async g=>{try{if(g){const v=De(ae,"users"),w=Jt(v,ke("uid","==",g.uid)),_=await At(w);if(_.docs.length!=0){const E=_.docs.map(x=>({...x.data(),id:x.id}));e(cm(E[0]))}const p=De(ae,"enrollments"),m=Jt(p,ke("uid","==",g.uid)),y=await At(m);if(y.docs.length!=0){const E=y.docs.map(x=>({...x.data(),id:x.id}));e(rx(E))}}}catch(v){console.error(v)}r(g)});return i(!1),f},[]);const h={currentUser:n,signUp:o,signIn:a,logout:l,sendPasswordReset:c,signInWithGoogle:d};return u.jsx(tT.Provider,{value:h,children:!s&&t})},pn=()=>S.useContext(tT),wa=({children:t})=>{const{currentUser:e}=pn();return e?t:u.jsx(yx,{to:"/login"})},aF="_navbar_10b9j_1",lF="_homeBar_10b9j_12",uF="_navLogo_10b9j_18",cF="_toggleBar_10b9j_23",dF="_appLogo_10b9j_50",hF="_navContent_10b9j_54",fF="_dropdownIcon_10b9j_79",pF="_backdrop_10b9j_88",mF="_dropdown_10b9j_79",Ht={navbar:aF,homeBar:lF,navLogo:uF,toggleBar:cF,appLogo:dF,navContent:hF,dropdownIcon:fF,backdrop:pF,dropdown:mF},gF=t=>{const e=Bt(),[n,r]=S.useState(!1),s=()=>{t.toggleSidebar(i=>!i)};return u.jsxs("nav",{className:Ht.navbar,children:[u.jsx("div",{className:Ht.toggleBar,onClick:s,children:u.jsx("i",{className:"fa-solid fa-bars"})}),u.jsx("div",{className:Ht.navLogo,children:u.jsx(Tr,{to:"/",children:u.jsx("img",{src:"/assets/AppLogo.png"})})}),n&&u.jsx("div",{className:Ht.backdrop,onClick:()=>{r(!1)}}),u.jsxs("div",{className:Ht.navContent+` ${n?Ht.dropdown:""}`,children:[u.jsx("div",{className:Ht.dropdownIcon,onClick:()=>{r(i=>!i)},children:n?u.jsx("i",{className:"fa-solid fa-x"}):u.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})}),u.jsxs("ul",{children:[u.jsxs("li",{onClick:()=>{e("/")},children:[u.jsx("i",{className:"fa-solid fa-house"})," ",u.jsx("span",{children:n&&"Home"})]}),u.jsxs("li",{children:[u.jsx("i",{className:"fa-solid fa-bell"})," ",u.jsx("span",{children:n&&"Notifications"})]}),u.jsxs("li",{onClick:()=>{e("/profile")},children:[u.jsx("i",{className:"fa-solid fa-user"})," ",u.jsx("span",{children:n&&"Profile"})]})]})]})]})},vF=t=>{const[e,n]=S.useState(!1),r=()=>{n(s=>!s)};return u.jsxs("div",{className:t.classes.courseContent,children:[u.jsxs("button",{onClick:r,style:{justifyContent:"flex-end",gap:"4rem"},children:[t.title,u.jsx("div",{className:e?t.classes.clicked:"",children:u.jsx("i",{className:"fa-solid fa-angle-down"})})]}),u.jsx("div",{className:e?t.classes.dropdown:t.classes.displayNone,children:t.tests.map(s=>u.jsxs(Wa,{to:`/user/test?id=${s.id}&courseId=${t.courseId}&user=${t.status}&role=${t.role}`,children:[u.jsx("i",{className:"fa-solid fa-circle"})," ",s.title]},s.id))})]})},yF=t=>{const[e,n]=S.useState(!1),r=()=>{n(i=>!i)};let s;return t.course.phases?s=t.course.phases.map((i,o)=>u.jsx(vF,{title:i.title,tests:i.tests,classes:t.classes,courseId:t.course.id,status:t.course.status,role:t.role},o)):s=t.course.tests.map(i=>{var o;return u.jsxs(Wa,{to:`/user/test?id=${i.id}&courseId=${t.course.id}&user=${(o=t.course)==null?void 0:o.status}&role=${t.role}`,children:[u.jsx("i",{className:"fa-solid fa-circle"})," ",i.title]},i.id)}),u.jsxs("li",{className:t.classes.course,children:[u.jsx("div",{className:t.classes.courseName,children:t.course.title}),u.jsxs("div",{className:t.classes.courseContent,children:[u.jsxs("button",{onClick:r,children:[u.jsx("i",{className:"fa-solid fa-tv"})," Online Exams",u.jsx("div",{className:e?t.classes.clicked:"",children:u.jsx("i",{className:"fa-solid fa-angle-down"})})]}),u.jsx("div",{className:e?t.classes.dropdown:t.classes.displayNone,children:s})]})]})},wF="_navigation_ln785_1",_F="_util_ln785_17",EF="_courseContent_ln785_17",SF="_emptyHeight_ln785_37",xF="_course_ln785_17",kF="_courseName_ln785_50",CF="_clicked_ln785_69",IF="_displayNone_ln785_74",TF="_dropdown_ln785_78",NF="_fadeIn_ln785_1",Fs={navigation:wF,util:_F,courseContent:EF,emptyHeight:SF,course:xF,courseName:kF,clicked:CF,displayNone:IF,dropdown:TF,fadeIn:NF},bF=()=>{const t=tt(s=>s.user.myCourses),[e,n]=S.useState(),r=As();return S.useEffect(()=>{const s=[],i=a=>{const l=new Date(a.limit).getTime();return new Date().getTime()-l};(async()=>{for(let a in t){const l=Ze(ae,"courses",t[a].courseId);try{const c=await br(l);if(c.exists()){const d=!(i(t[a])>0);s.push({...c.data(),id:c.id,status:d})}}catch(c){console.log(c)}}n([...s]),r(k2([...s]))})()},[]),[e,n]},RF=()=>{const[t,e]=bF(),n=Bt(),r=tt(i=>i.user.data),{logout:s}=pn();return u.jsxs("ul",{className:Fs.navigation,children:[u.jsx("li",{className:Fs.util,children:u.jsxs(Wa,{to:"/user",end:!0,style:({isActive:i})=>({backgroundColor:i?"white":"",color:i?"black":""}),children:[u.jsx("i",{className:"fa-solid fa-house"}),"Dashboard"]})}),u.jsx("li",{className:Fs.util,children:u.jsxs(Wa,{to:"/user/live",end:!0,style:({isActive:i})=>({backgroundColor:i?"white":"",color:i?"black":""}),children:[u.jsx("i",{className:"fa-solid fa-wifi"})," Live"]})}),t==null?void 0:t.map((i,o)=>u.jsx(yF,{course:i,classes:Fs,role:r.role},o)),u.jsx("li",{className:Fs.util,children:u.jsxs(Wa,{to:"/user/feedback",end:!0,style:({isActive:i})=>({backgroundColor:i?"white":"",color:i?"black":""}),children:[u.jsx("i",{className:"fa-solid fa-comment"})," Feedback"]})}),u.jsx("li",{style:{cursor:"pointer"},className:Fs.util,onClick:()=>{s(r==null?void 0:r.id,n)},children:u.jsxs("a",{children:[u.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket"})," Logout"]})}),u.jsx("div",{className:Fs.emptyHeight})]})},AF="_header_x8z0p_1",jF="_content_x8z0p_7",PF="_sidebar_x8z0p_11",DF="_noSidebar_x8z0p_11",OF="_contentDefault_x8z0p_15",$F="_contentPage_x8z0p_19",LF="_contentPageNosidebar_x8z0p_19",MF="_footer_x8z0p_23",fr={header:AF,content:jF,sidebar:PF,noSidebar:DF,contentDefault:OF,contentPage:$F,contentPageNosidebar:LF,footer:MF},FF=()=>{const{currentUser:t,logout:e}=pn(),[n,r]=S.useState(!1),s=fr.sidebarDefault+" "+(n?fr.noSidebar:fr.sidebar),i=fr.contentDefault+" "+(n?fr.contentPageNosidebar:fr.contentPage);return S.useEffect(()=>{t.uid||e()},[t]),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:fr.header,children:u.jsx(gF,{toggleSidebar:r})}),u.jsxs("div",{className:fr.content,children:[u.jsx("div",{className:s,children:u.jsx(RF,{})}),u.jsxs("div",{className:i,children:[u.jsx(wx,{}),u.jsx("div",{className:fr.footer,children:"@RedMoon Solutions | Contact: redmoon.sol18@gmail.com"})]})]})]})},UF="_container_gk9sk_1",BF="_header_gk9sk_11",VF="_card_gk9sk_16",zF="_body_gk9sk_31",HF="_options_gk9sk_35",qF="_create_gk9sk_43",WF="_backButton_gk9sk_58",KF="_validation_gk9sk_70",GF="_inputs_gk9sk_76",QF="_group_gk9sk_83",YF="_groupLabel_gk9sk_104",XF="_forgot_gk9sk_114",JF="_signIn_gk9sk_127",ZF="_googleSignIn_gk9sk_177",e9="_loginContent_gk9sk_197",J={container:UF,header:BF,card:VF,body:zF,options:HF,create:qF,backButton:WF,validation:KF,inputs:GF,group:QF,groupLabel:YF,forgot:XF,signIn:JF,googleSignIn:ZF,loginContent:e9},t9=({setState:t})=>u.jsxs("div",{className:J.container,children:[u.jsx("div",{className:J.header,children:"Welcome Back!"}),u.jsxs("div",{className:J.options,children:[u.jsxs("div",{className:J.card,onClick:()=>{t({isClassroom:!0})},children:[u.jsx("div",{className:J.header,children:u.jsx("img",{src:"./assets/classroom.webp"})}),u.jsx("div",{className:J.body,children:"Classroom Student"})]}),u.jsxs("div",{className:J.card,onClick:()=>{t({isOnline:!0})},children:[u.jsx("div",{className:J.header,children:u.jsx("img",{src:"./assets/online.png"})}),u.jsx("div",{className:J.body,children:"Online Student"})]})]}),u.jsxs("div",{className:J.create,children:["Don't have an account? ",u.jsx(Tr,{to:"/signup",children:"Sign Up"})]})]});var $y={},Uh={},nT={exports:{}},n9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r9=n9,s9=r9;function rT(){}function sT(){}sT.resetWarningCache=rT;var i9=function(){function t(r,s,i,o,a,l){if(l!==s9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sT,resetWarningCache:rT};return n.PropTypes=n,n};nT.exports=i9();var iT=nT.exports,Bh={},pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.disabledIconStyle=pt.disabledStyle=pt.hoverStyle=pt.svgStyle=pt.iconStyle=pt.lightStyle=pt.darkStyle=void 0;function l_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function oT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l_(Object(n),!0).forEach(function(r){o9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aT={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"},a9=oT({backgroundColor:"#4285f4",color:"#fff"},aT);pt.darkStyle=a9;var l9=oT({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},aT);pt.lightStyle=l9;var u9={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"};pt.iconStyle=u9;var c9={width:"48px",height:"48px",display:"block"};pt.svgStyle=c9;var d9={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"};pt.hoverStyle=d9;var h9={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"};pt.disabledStyle=h9;var f9={backgroundColor:"transparent"};pt.disabledIconStyle=f9;Object.defineProperty(Bh,"__esModule",{value:!0});Bh.GoogleIcon=void 0;var D=lT(S),u_=lT(iT),xo=pt;function lT(t){return t&&t.__esModule?t:{default:t}}function c_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function p9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(n),!0).forEach(function(r){m9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g9=D.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:xo.svgStyle},D.default.createElement("defs",null,D.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},D.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),D.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),D.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),D.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),D.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),D.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),D.default.createElement("feMerge",null,D.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),D.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),D.default.createElement("feMergeNode",{in:"SourceGraphic"}))),D.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),D.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),D.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},D.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),D.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},D.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},D.default.createElement("g",{id:"button-bg"},D.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}))),D.default.createElement("g",{id:"button-bg-copy"},D.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"})),D.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},D.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),D.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),D.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),D.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),D.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),D.default.createElement("g",{id:"handles_square"})))),v9=D.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:xo.svgStyle},D.default.createElement("defs",null,D.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},D.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),D.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),D.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),D.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),D.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),D.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),D.default.createElement("feMerge",null,D.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),D.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),D.default.createElement("feMergeNode",{in:"SourceGraphic"}))),D.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),D.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},D.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),D.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},D.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},D.default.createElement("g",{id:"button-bg"},D.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}))),D.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},D.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),D.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),D.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),D.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),D.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),D.default.createElement("g",{id:"handles_square"})))),y9=D.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:xo.svgStyle},D.default.createElement("defs",null,D.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),D.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},D.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),D.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},D.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},D.default.createElement("g",{id:"button-bg"},D.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}),D.default.createElement("use",{fill:"none"}))),D.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),D.default.createElement("g",{id:"handles_square"})))),Ly=function(e){var n=e.disabled,r=e.type;return D.default.createElement("div",{style:n?p9({},xo.iconStyle,{},xo.disabledIconStyle):xo.iconStyle},n?y9:r==="dark"?g9:v9)};Bh.GoogleIcon=Ly;Ly.propTypes={disabled:u_.default.bool,type:u_.default.oneOf(["light","dark"])};Ly.defaultProps={type:"dark"};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.default=void 0;var Yu=E9(S),Mi=_9(iT),w9=Bh,Xu=pt;function _9(t){return t&&t.__esModule?t:{default:t}}function uT(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return uT=function(){return t},t}function E9(t){if(t&&t.__esModule)return t;if(t===null||el(t)!=="object"&&typeof t!="function")return{default:t};var e=uT();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var i=r?Object.getOwnPropertyDescriptor(t,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}function el(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?el=function(n){return typeof n}:el=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},el(t)}function Xm(){return Xm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function S9(t,e){if(t==null)return{};var n=x9(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x9(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function d_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d_(Object(n),!0).forEach(function(r){ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function C9(t,e,n){return e&&h_(t.prototype,e),n&&h_(t,n),t}function I9(t){return function(){var e=yd(t),n;if(N9()){var r=yd(this).constructor;n=Reflect.construct(e,arguments,r)}else n=e.apply(this,arguments);return T9(this,n)}}function T9(t,e){return e&&(el(e)==="object"||typeof e=="function")?e:qi(t)}function qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yd(t)}function b9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jm(t,e)}function Jm(t,e){return Jm=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Jm(t,e)}function ts(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var My=function(t){b9(n,t);var e=I9(n);function n(){var r;k9(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),ts(qi(r),"state",{hovered:!1}),ts(qi(r),"getStyle",function(a){var l=r.props.type==="dark"?Xu.darkStyle:Xu.lightStyle;return r.state.hovered?op({},l,{},Xu.hoverStyle,{},a):r.props.disabled?op({},l,{},Xu.disabledStyle,{},a):op({},l,{},a)}),ts(qi(r),"mouseOver",function(){r.props.disabled||r.setState({hovered:!0})}),ts(qi(r),"mouseOut",function(){r.props.disabled||r.setState({hovered:!1})}),ts(qi(r),"click",function(a){r.props.disabled||r.props.onClick(a)}),r}return C9(n,[{key:"render",value:function(){var s=this.props,i=s.label,o=s.style,a=S9(s,["label","style"]);return Yu.default.createElement("div",Xm({},a,{role:"button",onClick:this.click,style:this.getStyle(o),onMouseOver:this.mouseOver,onMouseOut:this.mouseOut}),Yu.default.createElement(w9.GoogleIcon,this.props),Yu.default.createElement("span",null,i))}}]),n}(Yu.PureComponent);Uh.default=My;ts(My,"propTypes",{label:Mi.default.string,disabled:Mi.default.bool,tabIndex:Mi.default.number,onClick:Mi.default.func,type:Mi.default.oneOf(["light","dark"]),style:Mi.default.object});ts(My,"defaultProps",{label:"Sign in with Google",disabled:!1,type:"dark",tabIndex:0,onClick:function(){}});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GoogleButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}});var e=n(Uh);function n(r){return r&&r.__esModule?r:{default:r}}})($y);const R9=({setState:t,signIn:e,signInWithGoogle:n,logout:r})=>{const[s,i]=S.useState([!1,{}]),[o,a]=S.useState(!1),l=De(ae,"users"),c=S.useRef(),d=S.useRef(),h=async()=>{const g=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,v=c.current.value.trim();if(v===""){i([!0,"Please enter Email"]);return}else if(g.test(v)){if(d.current.value===""){i([!0,"Please enter password!"]);return}}else{i([!0,"Please enter a valid Email!"]);return}i([!1,{}]),a(!0);try{const w=await e(v,d.current.value),_=Jt(l,ke("uid","==",w.user.uid)),p=await At(_);if(p.docs.length!=0){const m=p.docs.map(y=>({...y.data(),id:y.id}));if(m[0].role=="online"||m[0].isLoggedIn)r(),m[0].role=="online"?alert("Please select the correct Login Method!"):alert("Already logged in through another device! Make sure to logout of other devices.");else{const y=Ze(ae,"users",m[0].id);await Mn(y,{isLoggedIn:!0})}}a(!1)}catch{i([!0,"Please check your Email and Password credentials again!"]),a(!1);try{r()}catch{}}},f=async()=>{a(!0);try{const g=await n(),v=Jt(l,ke("uid","==",g.user.uid)),w=await At(v);if(w.docs.length!=0){const _=w.docs.map(p=>({...p.data(),id:p.id}));if(_[0].role=="online"||_[0].isLoggedIn)r(),_[0].role=="online"?alert("Please select the correct Login Method!"):alert("Already logged in through another device! Make sure to logout of other devices.");else{const p=Ze(ae,"users",_[0].id);await Mn(p,{isLoggedIn:!0})}}else alert("You are not registered With CLassroom Students Program!"),r();a(!1)}catch(g){a(!1),console.error(g)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:J.backButton,onClick:()=>{t({isMain:!0})},children:[u.jsx("i",{className:"fa-solid fa-chevron-left"})," Back"]}),u.jsxs("div",{className:`${J.container} ${J.loginContent}`,children:[u.jsx("div",{className:J.header,children:"Classroom Login"}),u.jsx("div",{className:J.validation,children:s[0]?s[1]:u.jsx(u.Fragment,{children:" "})}),u.jsxs("div",{className:J.inputs,children:[u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"text",placeholder:" ",ref:c}),u.jsx("label",{className:J.groupLabel,children:"Email"})]}),u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"password",placeholder:" ",ref:d}),u.jsx("label",{className:J.groupLabel,children:"Password"})]}),u.jsx("div",{className:J.forgot,children:u.jsx("span",{onClick:()=>{t({isForgot:!0})},children:"Forgot Password?"})}),u.jsx("div",{className:J.signIn,children:u.jsx("button",{onClick:h,disabled:o,children:"Sign In"})}),u.jsxs("div",{className:J.googleSignIn,children:["Other Login",u.jsx($y.GoogleButton,{disabled:o,label:"Sign In",onClick:()=>{f()}})]})]})]})]})},A9=({setState:t,signIn:e,nav:n,logout:r,signInWithGoogle:s})=>{const[i,o]=S.useState([!1,{}]),[a,l]=S.useState(!1),c=De(ae,"users"),d=S.useRef(),h=S.useRef(),f=async()=>{const v=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,w=d.current.value.trim();if(w===""){o([!0,"Please enter Email"]);return}else if(v.test(w)){if(h.current.value===""){o([!0,"Please enter password!"]);return}}else{o([!0,"Please enter a valid Email!"]);return}o([!1,{}]),l(!0);try{const _=await e(w,h.current.value),p=Jt(c,ke("uid","==",_.user.uid)),m=await At(p);if(m.docs.length!=0){const y=m.docs.map(E=>({...E.data(),id:E.id}));if(y[0].role=="classroom"||y[0].isLoggedIn)r(),y[0].role=="classroom"?alert("Please select the correct Login Method!"):alert("Already logged in through another device! Make sure to logout of other devices.");else{const E=Ze(ae,"users",y[0].id);await Mn(E,{isLoggedIn:!0})}}l(!1)}catch{o([!0,"Please check your Email and Password credentials again!"]),l(!1);try{r()}catch{}}},g=async()=>{l(!0);try{const v=await s(),w=Jt(c,ke("uid","==",v.user.uid)),_=await At(w);if(_.docs.length!=0){const p=_.docs.map(m=>({...m.data(),id:m.id}));if(p[0].role=="classroom"||p[0].isLoggedIn)r(),p[0].role=="classroom"?alert("Please select the correct Login Method!"):alert("Already logged in through another device! Make sure to logout of other devices.");else{const m=Ze(ae,"users",p[0].id);await Mn(m,{isLoggedIn:!0})}}else{const p=v.user;await _i(c,{uid:p.uid,email:p.email,name:p.displayName,photo:p.photoURL,mobile:p.phoneNumber,role:"online",isLoggedIn:!1})}l(!1)}catch(v){l(!1),console.error(v)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:J.backButton,onClick:()=>{t({isMain:!0})},children:[u.jsx("i",{className:"fa-solid fa-chevron-left"})," Back"]}),u.jsxs("div",{className:`${J.container} ${J.loginContent}`,children:[u.jsx("div",{className:J.header,children:"Online Student Login"}),u.jsx("div",{className:J.validation,children:i[0]?i[1]:u.jsx(u.Fragment,{children:" "})}),u.jsxs("div",{className:J.inputs,children:[u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"text",placeholder:" ",ref:d}),u.jsx("label",{className:J.groupLabel,children:"Email"})]}),u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"password",placeholder:" ",ref:h}),u.jsx("label",{className:J.groupLabel,children:"Password"})]}),u.jsx("div",{className:J.forgot,children:u.jsx("span",{onClick:()=>{t({isForgot:!0})},children:"Forgot Password?"})}),u.jsxs("div",{className:J.signIn,children:[u.jsx("button",{onClick:f,disabled:a,children:"Sign In"}),"Or",u.jsx("span",{onClick:()=>{n("/signup")},children:"create new account"})]}),u.jsxs("div",{className:J.googleSignIn,children:["Other Login",u.jsx($y.GoogleButton,{disabled:a,label:"Sign In / Sign Up",onClick:()=>{g()}})]})]})]})]})},j9=({change:t,setState:e})=>{const n=S.useRef(),[r,s]=S.useState([!1,{}]),[i,o]=S.useState(!1),a=()=>{const l=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,c=n.current.value.trim();if(c===""){s([!0,"Please enter Email"]);return}else if(!l.test(c)){s([!0,"Please enter a valid Email!"]);return}o(!0);try{t(c),o(!1),s([!1,{}]),alert("Email sent!")}catch(d){s([!0,"Please enter a valid email or Try again!"]),console.error(d)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:J.backButton,onClick:()=>{e({isMain:!0})},children:[u.jsx("i",{className:"fa-solid fa-chevron-left"})," Back"]}),u.jsxs("div",{className:J.container,children:[u.jsx("div",{className:J.header,children:u.jsx("span",{children:"Send password change link to your Mail!"})}),u.jsxs("div",{className:J.inputs,children:[u.jsxs("div",{className:J.group,children:[u.jsx("input",{type:"text",placeholder:" ",ref:n}),u.jsx("label",{className:J.groupLabel,children:"Email"})]}),u.jsx("div",{className:J.signIn,children:u.jsx("button",{disabled:i,onClick:a,children:"Send"})}),u.jsx("div",{className:J.validation,children:r[0]?r[1]:u.jsx(u.Fragment,{children:" "})})]})]})]})},P9="_page_yojmr_1",D9="_container_yojmr_11",O9="_svg_yojmr_26",$9="_login_yojmr_30",Ju={page:P9,container:D9,svg:O9,login:$9},L9=()=>{const t=Bt(),{currentUser:e,signIn:n,sendPasswordReset:r,logout:s,signInWithGoogle:i}=pn();S.useEffect(()=>{e&&t("/user")},[e]);const[o,a]=S.useState({isMain:!0});let l;return o.isMain?l=u.jsx(t9,{setState:a}):o.isClassroom?l=u.jsx(R9,{setState:a,signIn:n,logout:s,signInWithGoogle:i}):o.isOnline?l=u.jsx(A9,{setState:a,signIn:n,nav:t,logout:s,signInWithGoogle:i}):o.isForgot&&(l=u.jsx(j9,{setState:a,change:r})),u.jsx(u.Fragment,{children:u.jsx("div",{className:Ju.page,children:u.jsxs("div",{className:Ju.container,children:[u.jsx("div",{className:Ju.svg,children:u.jsx("img",{src:"./assets/content-team-animate.svg"})}),u.jsx("div",{className:Ju.login,children:l})]})})})},M9="_page_a54m7_1",F9="_svg_a54m7_17",U9="_container_a54m7_21",B9="_inputFields_a54m7_39",V9="_inputs_a54m7_44",z9="_row_a54m7_63",H9="_group_a54m7_71",q9="_groupLabel_a54m7_84",W9="_inputFile_a54m7_108",K9="_linkLabel_a54m7_130",G9="_image_a54m7_150",Q9="_pass_a54m7_174",Y9="_validation_a54m7_180",X9="_invalid_a54m7_184",he={page:M9,svg:F9,container:U9,inputFields:B9,inputs:V9,row:z9,group:H9,groupLabel:q9,inputFile:W9,linkLabel:K9,image:G9,pass:Q9,validation:Y9,invalid:X9},J9=()=>{const{signUp:t,logout:e}=pn(),n=Bt(),[r,s]=S.useState([!1,{}]),[i,o]=S.useState(!1),a=S.useRef(),l=S.useRef(),c=S.useRef(),d=S.useRef(),h=S.useRef(),[f,g]=S.useState(),v=async w=>{w.preventDefault();const _=/^[a-zA-Z\s]+$/,p=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,m=/^\d{10}$/,y=/^[1-9][0-9]{9}$/,E=/^(?=.*\d).{8,}$/,x=a.current.value.trim(),I=l.current.value.trim(),N=c.current.value,j=d.current.value,P=h.current.value;if(x===""){s([!0,{message:"Please enter Email",isEmail:!0}]);return}else if(p.test(x))if(I==""){s([!0,{message:"Please enter your Full Name",isName:!0}]);return}else if(_.test(I))if(N==""){s([!0,{message:"Please enter Mobile Number",isMobile:!0}]);return}else if(!m.test(N)||!y.test(N)){s([!0,{message:"Please enter a valid Mobile Number",isMobile:!0}]);return}else if(f)if(f.size/1024>100){s([!0,{message:"Please Upload an image less than 100Kb!"}]);return}else if(j==""||P==""){s([!0,{message:"Please enter password and confirm password",isPass:!0}]);return}else if(E.test(j)){if(j!=P){s([!0,{message:"Both Password and Confirm Password should match.",isPass:!0}]);return}}else{s([!0,{message:"Password should be atleast of length 8 and contain atleast 1 number",isPass:!0}]);return}else{s([!0,{message:"Please Upload an image",isImage:!0}]);return}else{s([!0,{message:"Please enter a Valid Name",isName:!0}]);return}else{s([!0,{message:"Please enter a valid Email!",isEmail:!0}]);return}s([!1,{}]),o(!0);try{const M=await t(x,j),$=De(ae,"users"),Ee=ZI(eT,`/users/${M.user.uid}`),Vt=await XI(Ee,f),bn=await JI(Vt.ref);await _i($,{email:x,name:I,mobile:N,photo:bn,isLoggedIn:!1,role:"online",uid:M.user.uid}),await e(),alert("Account Created Succesfully !"),n("/login")}catch(M){M.code=="auth/email-already-in-use"?alert("The email address is already in use"):M.code=="auth/invalid-email"?alert("The email address is not valid."):M.code=="auth/operation-not-allowed"?alert("Operation not allowed."):M.code=="auth/weak-password"&&alert("The password is too weak."),console.error(M)}o(!1)};return u.jsx("div",{className:he.page,children:u.jsxs("div",{className:he.container,children:[u.jsx("div",{className:he.svg,children:u.jsx("img",{src:"./assets/signup.png"})}),u.jsxs("div",{className:he.inputFields,children:[u.jsxs("h1",{style:{textAlign:"center"},children:["Welcome to ",u.jsx("span",{style:{whiteSpace:"nowrap"},children:"YesWeCan !"})]}),u.jsxs("form",{className:he.inputs,children:[u.jsx("h3",{children:"Enter your details to register"}),u.jsx("div",{className:he.row+" "+he.validation,children:r[0]?r[1].message:u.jsx(u.Fragment,{children:" "})}),u.jsxs("fieldset",{children:[u.jsx("legend",{style:{textAlign:"left"},children:"Aspirant's Details"}),u.jsxs("div",{className:he.row,children:[u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"email",placeholder:" ",className:r[1].isEmail&&he.invalid,ref:a}),u.jsx("label",{className:he.groupLabel,children:"Email*"})]}),u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"text",placeholder:" ",className:r[1].isName&&he.invalid,ref:l}),u.jsx("label",{className:he.groupLabel,children:"Full Name*"})]}),u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"number",placeholder:" ",className:r[1].isMobile&&he.invalid,ref:c}),u.jsx("label",{className:he.groupLabel,children:"Mobile Number*"})]})]}),u.jsx("div",{className:he.row,children:u.jsxs("div",{className:he.group+" "+he.inputFile,children:[u.jsx("h3",{children:"Upload Photo: "}),u.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:w=>{w.target.files[0].size/1024<100?g(w.target.files[0]):alert("Please Select image less than 100Kb!")}}),u.jsxs("label",{className:he.linkLabel+" "+(r[1].isImage&&he.invalid),htmlFor:"file-upload",children:[u.jsx("img",{src:"./assets/upload.png",alt:"img"}),u.jsx("span",{children:"choose"})]})]})}),f&&u.jsxs("div",{className:he.image,children:["Your Photo :",u.jsx("img",{src:URL.createObjectURL(f),alt:"Upload"})]}),u.jsx("div",{className:he.pass+" "+(r[0]&&he.validation),children:r[1].isPass?r[1].message:"Password should be of atleast length 8 and contain atleast 1 number"}),u.jsxs("div",{className:he.row,children:[u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"password",placeholder:" ",className:r[1].isPass&&he.invalid,ref:d}),u.jsx("label",{className:he.groupLabel,children:"Password*"})]}),u.jsxs("div",{className:he.group,children:[u.jsx("input",{type:"password",placeholder:" ",className:r[1].isPass&&he.invalid,ref:h}),u.jsx("label",{className:he.groupLabel,children:"Confirm Password*"})]})]})]}),u.jsx("div",{className:he.row,children:u.jsx("button",{type:"submit",disabled:i,onClick:w=>{v(w)},children:"Register"})})]})]})]})})},Z9=()=>{const{currentUser:t}=pn(),e=Bt(),[n,r]=S.useState(!1);return u.jsxs("nav",{className:Ht.navbar+" "+Ht.homeBar,children:[u.jsx("div",{className:Ht.navLogo,children:u.jsx(Tr,{to:"/",children:u.jsx("img",{src:"/assets/AppLogo.png"})})}),n&&u.jsx("div",{className:Ht.backdrop,onClick:()=>{r(!1)}}),u.jsxs("div",{className:Ht.navContent+` ${n?Ht.dropdown:""}`,children:[u.jsx("div",{className:Ht.dropdownIcon,onClick:()=>{r(s=>!s)},children:n?u.jsx("i",{className:"fa-solid fa-x"}):u.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"#courses",children:"Courses"})}),u.jsx("li",{children:u.jsx("a",{href:"#aboutUs",children:"About Us"})}),u.jsx("li",{children:u.jsx("a",{href:"#contactUs",children:"Contact Us"})}),u.jsx("li",{onClick:()=>{e("/login")},children:t!=null&&t.uid?"Dashboard":"Login"})]})]})]})},eU="_view_1ef2i_1",tU="_body_1ef2i_9",f_={view:eU,body:tU},nU="_carousel_ulzab_1",rU="_carouselInner_ulzab_20",sU="_carouselItem_ulzab_25",iU="_carouselControl_ulzab_30",oU="_left_ulzab_43",aU="_right_ulzab_46",lU="_carouselIndicators_ulzab_50",uU="_carouselIndicatorItem_ulzab_57",cU="_active_ulzab_67",An={carousel:nU,carouselInner:rU,carouselItem:sU,carouselControl:iU,left:oU,right:aU,carouselIndicators:lU,carouselIndicatorItem:uU,active:cU},dU=({slides:t})=>{const[e,n]=S.useState(0),r=S.useRef(),s=()=>{r.current&&clearInterval(r.current)},i=()=>{s(),r.current=setInterval(()=>{n(c=>c<t.length-1?c+1:0)},3e3)};S.useEffect(()=>(i(),()=>s()),[]);const o=()=>{i();const c=e>0?e-1:t.length-1;n(c)},a=()=>{i();const c=e<t.length-1?e+1:0;n(c)},l=c=>{i(),n(c)};return u.jsx("div",{className:An.container,children:u.jsxs("div",{className:An.carousel,children:[u.jsx("div",{className:An.carouselInner,style:{transform:`translateX(${-e*100}%)`},children:t.map((c,d)=>u.jsx("div",{className:An.carouselItem,onMouseEnter:s,onMouseOut:i,children:u.jsx("img",{src:c})},d))}),u.jsx("div",{className:An.carouselIndicators,children:t.map((c,d)=>u.jsx("button",{className:`${An.carouselIndicatorItem} ${e===d?An.active:""}`,onClick:()=>l(d)},d))}),u.jsxs("div",{children:[u.jsx("button",{className:An.carouselControl+" "+An.left,onClick:o,children:"<"}),u.jsx("button",{className:An.carouselControl+" "+An.right,onClick:a,children:">"})]})]})})},hU="_container_1rn0v_1",fU="_courses_1rn0v_16",pU="_card_1rn0v_24",mU="_courseDesc_1rn0v_42",gU="_desDiv_1rn0v_48",vU="_courseDuration_1rn0v_52",yU="_coursePrice_1rn0v_52",wU="_courseTitle_1rn0v_57",_U="_buy_1rn0v_70",vr={container:hU,courses:fU,card:pU,courseDesc:mU,desDiv:gU,courseDuration:vU,coursePrice:yU,courseTitle:wU,buy:_U},Zn=({mathml:t,className:e})=>(S.useEffect(()=>{window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub])},[t]),u.jsx("div",{className:e,dangerouslySetInnerHTML:{__html:t}})),EU=({title:t,duration:e,price:n,description:r,onClickHandler:s,courseId:i,role:o})=>u.jsxs("div",{className:vr.card,children:[u.jsx("div",{className:vr.courseTitle,children:t}),u.jsxs("div",{className:vr.desDiv,children:[u.jsx("div",{className:vr.courseDesc,children:u.jsx(Zn,{mathml:r})}),"..."]}),u.jsxs("div",{className:vr.courseDuration,children:[u.jsx("strong",{children:"Duration:"})," ",e," months"]}),u.jsxs("div",{className:vr.coursePrice,children:[u.jsx("strong",{children:"Price"}),"     : Rs. ",n]}),u.jsx("div",{className:vr.buy,children:u.jsx("button",{onClick:()=>{s(i,o)},children:"Buy"})})]}),SU=()=>{const t=tt(s=>s.user.data),e=ih(),n=Bt(),r=async(s,i)=>{if(!t.uid){alert("PLease Login first!"),n("/login");return}if(i=="classroom"&&t.role!="classroom"){alert("This package is exclusive to classroom students only!");return}n("/buy?id="+s)};return u.jsxs("div",{className:vr.container,id:"courses",children:[u.jsx("h2",{children:"Courses Offered :"}),u.jsx("div",{className:vr.courses,children:e==null?void 0:e.courses.map((s,i)=>u.jsx(EU,{title:s.title,description:s.description,price:s.price,duration:s.duration,courseId:s.id,role:s.role?s.role:"both",onClickHandler:r},i))})]})},xU=()=>{const t=ih();return u.jsxs("div",{className:f_.view,children:[u.jsx(Z9,{}),u.jsx(dU,{slides:t.images}),u.jsx("div",{className:f_.body,children:u.jsx(SU,{})})]})},kU=({myCourses:t,allCourses:e})=>{const n=s=>{const i=new Date(s.limit).getTime();return new Date().getTime()-i},r=s=>e.filter(i=>i.id==s)[0];return u.jsx(u.Fragment,{children:t.length!=0?t==null?void 0:t.map((s,i)=>{const o=r(s.courseId);return u.jsxs("tr",{children:[u.jsx("td",{children:i+1}),u.jsx("td",{children:o==null?void 0:o.title}),u.jsx("td",{children:s.enrolledAt}),u.jsx("td",{children:s.limit}),u.jsx("td",{children:o==null?void 0:o.price}),u.jsx("td",{children:n(s)>0?"Expired":"Valid"})]},i)}):u.jsx(u.Fragment,{children:u.jsx("tr",{children:u.jsx("td",{colSpan:6,children:"Empty"})})})})},CU="_container_1bes0_1",IU="_header_1bes0_6",TU="_nav_1bes0_13",NU="_isNotActive_1bes0_49",bU="_isActive_1bes0_55",RU="_displayContent_1bes0_61",AU="_tableDiv_1bes0_70",jU="_coursesTable_1bes0_76",PU="_heading_1bes0_102",DU="_instructions_1bes0_106",OU="_emptyHeight_1bes0_120",en={container:CU,header:IU,nav:TU,isNotActive:NU,isActive:bU,displayContent:RU,tableDiv:AU,coursesTable:jU,heading:PU,instructions:DU,emptyHeight:OU},$U=()=>{const t=tt(l=>l.user.myCourses),e=tt(l=>l.user.allCourses),[n,r]=S.useState({isMycourse:!0,isInstruction:!1}),s={isMycourse:!1,isInstruction:!1},i=()=>{r(()=>{let l=s;return l.isMycourse=!0,l})},o=()=>{r(()=>{let l=s;return l.isInstruction=!0,l})};let a;return n.isMycourse?a=u.jsxs(u.Fragment,{children:[u.jsx("h3",{children:"List of Courses Purchased"}),u.jsx("div",{className:en.tableDiv,children:t?u.jsx("table",{className:en.coursesTable,children:u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("th",{children:"S.NO"}),u.jsx("th",{children:"Course Name"}),u.jsx("th",{children:"Purchased On"}),u.jsx("th",{children:"Expires On"}),u.jsx("th",{children:"Amount"}),u.jsx("th",{children:"Status"})]}),t?u.jsx(kU,{myCourses:t,allCourses:e}):u.jsx("tr",{children:u.jsx("td",{colSpan:6,children:"Empty"})})]})}):"No purchases yet! Purchase courses through Courses Page from Home Page!"})]}):a=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:en.heading,children:"Online Exam Instructions"}),u.jsx("div",{className:en.instructions,children:u.jsxs("ol",{children:[u.jsx("li",{children:"It is recomended to write online exams in desktop to get familiar with actual exam interface."}),u.jsx("li",{children:"Ensure that you are using the latest version of browser installed, if not upgrade your browser to support latest scripts."}),u.jsx("li",{children:"Don't press refresh button / back button while writing online exams"})]})})]}),u.jsx(u.Fragment,{children:u.jsxs("div",{className:en.container,children:[u.jsx("div",{className:en.header,children:"Dashboard"}),u.jsxs("div",{className:en.nav,children:[u.jsx("button",{onClick:i,className:n.isMycourse?en.isActive:en.isNotActive,children:u.jsx("span",{children:"My Courses"})}),u.jsx("button",{onClick:o,className:n.isInstruction?en.isActive:en.isNotActive,children:u.jsx("span",{children:"Instructions"})})]}),u.jsxs("div",{className:en.displayContent,children:[a,u.jsx("div",{className:en.emptyHeight})]})]})})},LU="_cardContainer_1okpc_1",MU="_img_1okpc_12",FU="_liveClassName_1okpc_17",ap={cardContainer:LU,img:MU,liveClassName:FU},UU=({title:t,address:e})=>u.jsxs("a",{className:ap.cardContainer,href:e,target:"_blank",children:[u.jsx("div",{className:ap.img,children:u.jsx("img",{src:"/assets/LiveClass.jpg",alt:""})}),u.jsx("div",{className:ap.liveClassName,children:t})]}),BU="_container_1nn2o_1",VU="_header_1nn2o_6",zU="_liveClasses_1nn2o_21",HU="_emptyHeight_1nn2o_29",Zu={container:BU,header:VU,liveClasses:zU,emptyHeight:HU},qU=()=>{const[t,e]=S.useState();return S.useEffect(()=>{const n=(s,i)=>{const o=new Date(s.timestamp).getTime();return new Date(i.timestamp).getTime()-o};(async()=>{try{const s=De(ae,"live_classes"),o=(await At(s)).docs.map(a=>({...a.data(),id:a.id}));o.sort(n),e(o)}catch(s){console.log(s)}})()},[]),u.jsx(u.Fragment,{children:u.jsxs("div",{className:Zu.container,children:[u.jsxs("div",{className:Zu.header,children:[u.jsx("i",{className:"fa-regular fa-circle-dot"})," Live Classes"]}),u.jsx("div",{className:Zu.liveClasses,children:t==null?void 0:t.map((n,r)=>u.jsx(UU,{title:n.title,address:n.address},r))}),u.jsx("div",{className:Zu.emptyHeight})]})})},WU="_header_6ittw_1",KU="_feedback_6ittw_7",GU="_emptyHeight_6ittw_37",lp={header:WU,feedback:KU,emptyHeight:GU},QU=()=>{const{currentUser:t}=pn(),e=Bt(),n=S.useRef(),r=async s=>{if(s.preventDefault(),n.current.value.trim()!="")try{const i=De(ae,"feedback"),o=await _i(i,{uid:t.uid,userEmail:t.email,feedback:n.current.value,date:new Date().toLocaleString()});alert("Feedback Submited succesfully!"),e("/user")}catch(i){alert("Something went wrong please try again after sometime!"),console.log(i)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:lp.header,children:[u.jsx("h2",{children:" Feedback"}),u.jsx("br",{}),u.jsx("p",{children:"Please Give us your feedback."})]}),u.jsxs("form",{className:lp.feedback,children:[u.jsx("textarea",{name:"feedback",id:"",cols:"30",rows:"10",placeholder:"Please type your feedback here.",ref:n}),u.jsx("button",{type:"submit",onClick:s=>{r(s)},children:"Submit"})]}),u.jsx("div",{className:lp.emptyHeight})]})},YU="_header_3j7ol_1",XU="_testContainer_3j7ol_7",JU="_emptyHeight_3j7ol_16",up={header:YU,testContainer:XU,emptyHeight:JU},ZU="_testCard_kufa4_1",e5="_cardHeader_kufa4_11",t5="_testTitle_kufa4_27",n5="_cardFooter_kufa4_31",r5="_start_kufa4_40",s5="_locked_kufa4_64",Us={testCard:ZU,cardHeader:e5,testTitle:t5,cardFooter:n5,start:r5,locked:s5},i5=({title:t,id:e,status:n,idx:r,courseId:s,valid:i,testId:o,uid:a})=>{const l=n?n[0]:null;return u.jsxs("div",{className:Us.testCard,children:[u.jsxs("div",{className:Us.cardHeader,children:[u.jsx("div",{className:Us.testTitle,children:t}),u.jsx("div",{children:"Model Test "+(r+1)})]}),u.jsx("hr",{}),u.jsxs("div",{className:Us.cardFooter,children:[i=="false"?u.jsx("a",{className:Us.locked,children:"Locked"}):"",l!="A"&&i=="true"?u.jsx(Tr,{to:`/online-exam?id=${e}&courseId=${s}&courseName=${t+" (Model Test "+(r+1)+")"}&testId=${o}`,className:Us.start,children:"Start Exam"}):"",l=="A"&&u.jsx(Tr,{to:`/user/viewResult?id=${e}&courseId=${s}&courseName=${t+" (Model Test "+(r+1)+")"}&testId=${o}&user=${a}&attempts=${n[1]}`,children:"View Result"}),l=="A"&&i=="true"?u.jsx(Tr,{to:`/online-exam?id=${e}&courseId=${s}&courseName=${t+" (Model Test "+(r+1)+")"}&testId=${o}`,className:Us.start,children:"Re-Exam"}):""]})]})},o5=()=>{const{currentUser:t}=pn(),e=ih(),[n,r]=js(),s=n.get("courseId"),i=n.get("id"),o=n.get("user"),a=tt(l=>l.user.myCourses.filter(c=>c.courseId==s)[0].status);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:up.header,children:u.jsx("h2",{children:" Online Exams"})}),u.jsx("div",{className:up.testContainer,children:e==null?void 0:e.exams.map((l,c)=>u.jsx(i5,{uid:t.uid,testId:i,courseId:s,title:e.title,id:l.id,status:a[l.id],idx:c,valid:o},c))}),u.jsx("div",{className:up.emptyHeight})]})},a5="_header_vqi1p_1",l5="_backButton_vqi1p_11",u5="_nav_vqi1p_22",c5="_isActive_vqi1p_58",d5="_displayContent_vqi1p_67",qn={header:a5,backButton:l5,nav:u5,isActive:c5,displayContent:d5},cT=({result:t,classes:e,setScoreCardDetails:n})=>{var h;const[r,s]=S.useState();let i=0,o=0,a=0,l=[0,0];const c=f=>`${String(f[0]).padStart(2,"0")} : ${String(f[1]).padStart(2,"0")} : ${String(f[2]).padStart(2,"0")}`,d=(f,g)=>[f[0]+g[0]+Math.floor((f[1]+g[1]+Math.floor((f[2]+g[2])/60))/60),(f[1]+g[1]+Math.floor((f[2]+g[2])/60))%60,(f[2]+g[2])%60];return S.useEffect(()=>{if(t){let f=[0,0,0],g=0;const v=[];for(let w in t.response.sectionDetails){v.push({title:t.response.sectionDetails[w].title,components:[]});for(let _ in t.response.sectionDetails[w].components)g+=t.response.sectionDetails[w].components[_].numQues,v[w].components.push({title:t.response.sectionDetails[w].components[_].title,numQues:t.response.sectionDetails[w].components[_].numQues,isA:0,isMandS:0,isM:0,isNA:0,timeSpent:[0,0,0]})}for(let w in t.response.resObj){const[_,p,m]=w.split(" ");t.response.resObj[w].isA?v[_].components[p].isA++:t.response.resObj[w].isNA?v[_].components[p].isNA++:t.response.resObj[w].isM?v[_].components[p].isM++:t.response.resObj[w].isMandS&&v[_].components[p].isMandS++,f=d([...f],[...t.response.resObj[w].timeSpent]),v[_].components[p].timeSpent=d([...v[_].components[p].timeSpent],[...t.response.resObj[w].timeSpent])}n&&n({timeSpent:f,totalQuestions:g}),s(v)}},[t]),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:e.examSummary,children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsx("tr",{children:u.jsx("th",{colSpan:9,children:"Exam Summary"})})}),u.jsx("tbody",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Section Name"}),u.jsx("th",{children:"Module Name"}),u.jsx("th",{children:"# Questions"}),u.jsx("th",{children:"# Answered"}),u.jsx("th",{children:"# Marked and Answered"}),u.jsx("th",{children:"# Marked for Review"}),u.jsx("th",{children:"# Not Answered"}),u.jsx("th",{children:"# Not Visited"}),u.jsx("th",{children:"Time Spent"})]})}),r==null?void 0:r.map((f,g)=>u.jsx("tbody",{children:f.components.map((v,w)=>u.jsxs("tr",{children:[w==0?u.jsx("td",{rowSpan:f.components.length,children:f.title}):"",u.jsx("td",{children:v.title}),u.jsx("td",{children:v.numQues}),u.jsx("td",{children:v.isA}),u.jsx("td",{children:v.isMandS}),u.jsx("td",{children:v.isM}),u.jsx("td",{children:v.isNA}),u.jsx("td",{children:v.numQues-(v.isA+v.isMandS+v.isM+v.isNA)}),u.jsx("td",{children:u.jsx("span",{children:c([...v.timeSpent])})})]},`${g} ${w}`))},g))]})}),u.jsx("div",{className:e.resultTable,children:u.jsxs("table",{children:[u.jsx("thead",{children:u.jsx("tr",{children:u.jsx("th",{colSpan:9,children:"Result"})})}),u.jsx("tbody",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Section Name"}),u.jsx("th",{children:"Module Name"}),u.jsx("th",{children:"No of Question"}),u.jsx("th",{children:"No of Correct"}),u.jsx("th",{children:"No of Wrong"}),u.jsx("th",{children:"Correct Marks"}),u.jsx("th",{children:"Wrong Marks"}),u.jsx("th",{children:"Total Marks"}),u.jsx("th",{children:"Accuracy Percentage"})]})}),(h=t==null?void 0:t.result.secDet)==null?void 0:h.map((f,g)=>u.jsx("tbody",{children:f.components.map((v,w)=>(i+=v.numQues,o+=v.correct,a+=v.wrong,l[0]+=v.marks[0],l[1]+=v.marks[1],u.jsxs("tr",{children:[w==0?u.jsx("td",{rowSpan:f.components.length,children:f.title}):"",u.jsx("td",{children:v.title}),u.jsx("td",{children:v.numQues}),u.jsx("td",{children:v.correct}),u.jsx("td",{children:v.wrong}),u.jsx("td",{children:v.marks[0]}),u.jsx("td",{children:v.marks[1]}),u.jsx("td",{children:v.marks[0]-v.marks[1]}),v.correct+v.wrong==0?u.jsx("td",{children:"0.00"}):u.jsx("td",{children:(v.correct/(v.correct+v.wrong)*100).toFixed(2)})]},`${g} ${w}`)))},g)),u.jsx("tbody",{children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:2,children:"Total: "}),u.jsxs("td",{children:[" ",i]}),u.jsx("td",{children:o}),u.jsx("td",{children:a}),u.jsx("td",{children:l[0]}),u.jsx("td",{children:l[1]}),u.jsx("td",{children:l[0]-l[1]}),o+a==0?u.jsx("td",{children:"0.00"}):u.jsx("td",{children:(o/(o+a)*100).toFixed(2)})]})})]})})]})},h5="_questionDiv_tvwdy_1",f5="_options_tvwdy_7",p5="_cardDiv_tvwdy_19",m5="_card_tvwdy_19",g5="_ans_tvwdy_31",v5="_valid_tvwdy_35",y5="_invalid_tvwdy_39",w5="_notAnswered_tvwdy_43",_5="_marked_tvwdy_47",E5="_directionDiv_tvwdy_52",S5="_direction_tvwdy_52",x5="_question_tvwdy_1",te={questionDiv:h5,options:f5,cardDiv:p5,card:m5,ans:g5,valid:v5,invalid:y5,notAnswered:w5,marked:_5,directionDiv:E5,direction:S5,question:x5},k5=({ques:t,ans:e,direction:n,idx:r,format:s,response:i,solution:o})=>{let a="content";return t.isInt?a=u.jsxs(u.Fragment,{children:["Question : ",r+1,u.jsxs("div",{className:te.question,children:[t!=null&&t.question.equ?u.jsx(Zn,{mathml:t==null?void 0:t.question.equ}):"",t!=null&&t.question.img?u.jsx("img",{src:t==null?void 0:t.question.img,className:te.image,alt:"image"}):""]}),u.jsxs("div",{className:te.solution,children:["Solution:",o&&u.jsx("img",{src:o}),u.jsxs("div",{className:te.cardDiv,children:[u.jsx("div",{className:te.card+" "+te.ans,children:"Answer : "+e.ans}),i==null?u.jsx("div",{className:te.card,children:" Not Visited"}):"",(i==null?void 0:i.isNA)&&u.jsxs("div",{className:te.card+" "+te.notAnswered,children:[" ","Not Answered"]}),(i==null?void 0:i.isM)&&u.jsxs("div",{className:te.card+" "+te.marked,children:[" ","Marked For Review"]}),(i==null?void 0:i.isMandS)&&u.jsxs("div",{className:te.card+" "+((i==null?void 0:i.ans)==e.ans?te.valid:te.invalid),children:[" ","Marked and Saved For Review : ",i==null?void 0:i.ans," "]}),(i==null?void 0:i.isA)&&u.jsxs("div",{className:te.card+" "+((i==null?void 0:i.ans)==e.ans?te.valid:te.invalid),children:[" ","Answered : ",i==null?void 0:i.ans," "]}),i!=null?u.jsxs("div",{className:te.card,children:["Time Spent: ",s(i.timeSpent)]}):""]})]})]}):a=u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:te.directionDiv,children:[t.direction!=null?u.jsxs("div",{className:te.direction,children:[u.jsx("h4",{style:{fontWeight:600},children:"Direction :"}),n[t.direction].equ?u.jsx(Zn,{mathml:n[t.direction].equ}):"",n[t.direction].img?u.jsx("img",{src:n[t.direction].img,className:te.image,alt:"image"}):""]}):"",u.jsxs("div",{className:te.question,children:[u.jsxs("h4",{style:{fontWeight:600},children:["Question : ",r+1]}),t!=null&&t.question.equ?u.jsx(Zn,{mathml:t==null?void 0:t.question.equ}):"",t!=null&&t.question.img?u.jsx("img",{src:t==null?void 0:t.question.img,className:te.image,alt:"image"}):""]})]}),u.jsxs("div",{className:te.options,children:["Options:",u.jsx("ol",{children:t==null?void 0:t.options.map((l,c)=>u.jsxs("li",{children:[l.equ?u.jsx(Zn,{mathml:l.equ}):"",l.img?u.jsx("img",{src:l.img,alt:"image"}):""]},c))}),u.jsx("div",{className:te.optionCard})]}),u.jsxs("div",{className:te.solution,children:["Solution:",o&&u.jsx("img",{src:o}),u.jsxs("div",{className:te.cardDiv,children:[t==null?void 0:t.options.map((l,c)=>u.jsx("div",{className:te.card+" "+(e.ans==c&&te.ans),children:c+1},c)),i==null?u.jsx("div",{className:te.card,children:" Not Visited"}):"",(i==null?void 0:i.isNA)&&u.jsxs("div",{className:te.card+" "+te.notAnswered,children:[" ","Not Answered"]}),(i==null?void 0:i.isM)&&u.jsxs("div",{className:te.card+" "+te.marked,children:[" ","Marked For Review"]}),(i==null?void 0:i.isMandS)&&u.jsxs("div",{className:te.card+" "+((i==null?void 0:i.ans)==e.ans?te.valid:te.invalid),children:[" ","Marked and Saved For Review : ",(i==null?void 0:i.ans)+1," "]}),(i==null?void 0:i.isA)&&u.jsxs("div",{className:te.card+" "+((i==null?void 0:i.ans)==e.ans?te.valid:te.invalid),children:[" ","Answered : ",(i==null?void 0:i.ans)+1," "]}),i!=null?u.jsxs("div",{className:te.card,children:["Time Spent: ",s(i.timeSpent)]}):""]})]})]}),u.jsx("div",{className:te.questionDiv,children:a})};const C5="_downloadPaper_1kfck_1",I5="_ansKey_1kfck_14",T5="_questionDisplay_1kfck_20",N5="_sectionDiv_1kfck_24",b5="_componentDiv_1kfck_37",Fi={downloadPaper:C5,ansKey:I5,questionDisplay:T5,sectionDiv:N5,componentDiv:b5},R5=({response:t,examData:e,format:n})=>u.jsxs("div",{className:Fi.display+" effect",children:[u.jsx("div",{className:Fi.downloadPaper,children:u.jsx("a",{href:e==null?void 0:e.questionPaper,download:"Question Paper",target:"_blank",children:"Download Paper"})}),u.jsxs("div",{className:Fi.ansKey,children:[u.jsx("h3",{children:"Answer Key"}),u.jsx("img",{src:e==null?void 0:e.ansKey,alt:"Answer Key"})]}),u.jsxs("div",{className:Fi.questionDisplay,children:[u.jsx("h2",{children:"Questions:"}),e==null?void 0:e.questions.map((r,s)=>u.jsxs("div",{className:Fi.sectionDiv,children:[u.jsxs("h3",{children:["Section Title: ",r.sectionTitle]}),r.components.map((i,o)=>u.jsxs("div",{className:Fi.componentDiv,children:[u.jsx("h3",{children:i.componentTitle}),i.questions.map((a,l)=>{const c=`${s} ${o} ${l}`;return u.jsx(k5,{direction:i.directions,solution:e.solutions&&(e==null?void 0:e.solutions[c]),ques:a,ans:e==null?void 0:e.answeres.answers[c],idx:l,format:n,response:t.resObj[c]},c)})]},`${s} ${o}`))]},s))]})]}),A5=({courseName:t,marks:e,maxMarks:n,rank:r,idx:s,attempts:i})=>u.jsx(u.Fragment,{children:u.jsxs("tr",{children:[u.jsx("td",{children:s+1}),u.jsx("td",{children:t}),u.jsx("td",{children:e}),u.jsx("td",{children:n}),u.jsx("td",{children:i}),u.jsx("td",{children:r})]})}),j5=t=>{const e=As(),[n,r]=S.useState({result:{},response:{}}),[s,i]=S.useState(),o=tt(c=>c.results.result),a=tt(c=>c.results.status),l=tt(c=>c.results.timer);return S.useEffect(()=>{(async()=>{try{const d=Ze(ae,"exams",t.examId),h=await br(d);h.exists&&i(h.data().answeres)}catch(d){alert("Server Error"),console.log(d)}})()},[]),S.useEffect(()=>{if(s){const c={};for(let _ in l)a[_].isMarked&&a[_].isAnswered?c[_]={isMandS:!0,timeSpent:l[_],ans:o[_]}:a[_].isMarked?c[_]={isM:!0,timeSpent:l[_]}:a[_].isAnswered?c[_]={isA:!0,timeSpent:l[_],ans:o[_]}:a[_].isVisited&&(c[_]={isNA:!0,timeSpent:l[_]});const d={sectionDetails:s.sections,resObj:c},h={maxMarks:s.maxMarks,maxTime:s.maxTime,secDet:[]},f=[];for(let _ in s.sections){f.push({title:s.sections[_].title,components:[]});for(let p in s.sections[_].components)f[_].components.push({title:s.sections[_].components[p].title,numQues:s.sections[_].components[p].numQues,correct:0,wrong:0,marks:[0,0]})}let g=0;for(let _ in c){const[p,m,y]=_.split(" ");(c[_].isA||c[_].isMandS)&&(s.answers[_].marks?c[_].ans==s.answers[_].ans?(f[p].components[m].correct++,f[p].components[m].marks[0]+=s.answers[_].marks[0],g+=s.answers[_].marks[0]):(f[p].components[m].wrong++,f[p].components[m].marks[1]+=s.answers[_].marks[1],g-=s.answers[_].marks[1]):s.sections[p].components[m].compMarks?c[_].ans==s.answers[_].ans?(f[p].components[m].correct++,f[p].components[m].marks[0]+=s.sections[p].components[m].compMarks[0],g+=s.sections[p].components[m].compMarks[0]):(f[p].components[m].wrong++,f[p].components[m].marks[1]+=s.sections[p].components[m].compMarks[1],g-=s.sections[p].components[m].compMarks[1]):s.sections[p].sectionMarks&&(c[_].ans==s.answers[_].ans?(f[p].components[m].correct++,f[p].components[m].marks[0]+=s.sections[p].sectionMarks[0],g+=s.sections[p].sectionMarks[0]):(f[p].components[m].wrong++,f[p].components[m].marks[1]+=s.sections[p].sectionMarks[1],g-=s.sections[p].sectionMarks[1])))}h.secDet=f;const v=new Date;(async()=>{try{const _=Jt(De(ae,"exam_results"),ke("uid","==",t.uid),ke("examId","==",t.examId),ke("courseName","==",t.courseName)),p=await At(_);if(p.empty){const m=De(ae,"exam_results"),y=De(ae,"results_simple");if(n.result){const E=await _i(m,{uid:t.uid,examId:t.examId,courseId:t.courseId,testSeriesId:t.testSeriesId,courseName:t.courseName,result:h,response:d,marks:g}),x=await _i(y,{uid:t.uid,examId:t.examId,testSeriesId:t.testSeriesId,courseId:t.courseId,courseName:t.courseName,marks:g,maxMarks:h.maxMarks,date:v.toLocaleString()}),I=t.courses.filter(P=>P.courseId==t.courseId)[0].id,N=Ze(ae,"enrollments",I),j=await br(N);await Mn(N,{status:{...j.data().status,[t.examId]:["A",1]}})}}else{const m={...p.docs[0].data(),id:p.docs[0].id},y=t.courses.filter(N=>N.courseId==t.courseId)[0].id,E=Ze(ae,"enrollments",y),I={...(await br(E)).data().status};if(I[t.examId][1]++,await Mn(E,{status:{...I}}),g>m.marks){const N=Ze(ae,"exam_results",m.id);await Mn(N,{result:h,response:d,marks:g});const j=Jt(De(ae,"results_simple"),ke("uid","==",t.uid),ke("examId","==",t.examId),ke("courseId","==",t.courseId)),P=await At(j),M=Ze(ae,"results_simple",P.docs[0].id);await Mn(M,{marks:g,maxMarks:h.maxMarks,date:new Date().toLocaleString()})}else return}}catch(_){console.log(_)}})(),r({result:h,response:d}),e(M2()),e(R2())}},[s]),[n,r]},P5=({examId:t,courseId:e,userId:n})=>{const[r,s]=S.useState(0);return S.useEffect(()=>{(async()=>{try{const o=Jt(De(ae,"results_simple"),ke("examId","==",t),ke("courseId","==",e)),a=await At(o),l=a.docs.filter(h=>h.data().uid===n);if(l.length===0){console.log("User data not found");return}const c=l[0].data().marks,d=a.docs.reduce((h,f)=>f.data().marks>c?h+1:h,1);s(d)}catch(o){console.log("Error getting documents:",o)}})()},[]),[r,s]},D5="_scoreCard_156xu_1",O5="_emptyHeight_156xu_26",$5="_result_156xu_30",L5="_examSummary_156xu_36",M5="_resultTable_156xu_36",_a={scoreCard:D5,emptyHeight:O5,result:$5,examSummary:L5,resultTable:M5},F5=({clicked:t,courseId:e})=>{const n=ih(),[r,s]=S.useState(),[i,o]=S.useState(),{currentUser:a}=pn(),[l,c]=js(),d=l.get("id"),[h,f]=P5({courseId:e,examId:d,userId:a.uid}),[g,v]=S.useState(),[w,_]=S.useState(),p=y=>`${String(y[0]).padStart(2,"0")} : ${String(y[1]).padStart(2,"0")} : ${String(y[2]).padStart(2,"0")} `;S.useEffect(()=>{const y=async()=>{try{const x=Jt(De(ae,"exam_results"),ke("uid","==",a.uid),ke("examId","==",d),ke("courseId","==",e)),I=await At(x);if(!I.empty){const{result:N,response:j,marks:P}=I.docs[0].data();v({result:N,response:j}),_(P)}}catch(x){console.log(x)}},E=async()=>{try{const x=Ze(ae,"exams",d),I=await br(x);if(I.exists()){const N={...I.data(),id:I.id};o(N)}}catch(x){console.log(x)}};y(),E()},[]);let m;return t.isScoreCard?m=u.jsx(u.Fragment,{children:u.jsx("table",{className:_a.scoreCard,children:u.jsxs("tbody",{children:[u.jsx("tr",{children:u.jsx("th",{colSpan:2,children:"Score Card"})}),u.jsxs("tr",{children:[u.jsx("th",{children:"Total No. Of Questions"}),u.jsx("td",{children:r==null?void 0:r.totalQuestions})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Total Marks"}),u.jsx("td",{children:g==null?void 0:g.result.maxMarks})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Total Duration"}),u.jsx("td",{children:g&&p(g==null?void 0:g.result.maxTime)})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Total Marks Scored"}),u.jsxs("td",{children:[w,"/",g==null?void 0:g.result.maxMarks]})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Time Taken to complete Test"}),u.jsx("td",{children:r&&`${p(r==null?void 0:r.timeSpent)}/ ${p(g==null?void 0:g.result.maxTime)}`})]}),u.jsxs("tr",{children:[u.jsx("th",{children:"Your Rank"}),u.jsx("td",{children:h})]})]})})}):t.isResult?m=u.jsx(u.Fragment,{children:u.jsx("div",{className:_a.result,children:u.jsx(cT,{classes:_a,result:g,setScoreCardDetails:s})})}):t.isPaper?m=u.jsx(R5,{response:g.response,examData:i,format:p}):t.isTest?m=u.jsxs("table",{className:_a.scoreCard,children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("td",{children:"S.NO"}),u.jsx("td",{children:"Test Name"}),u.jsx("td",{children:"Marks"}),u.jsx("td",{children:"Total"}),u.jsx("td",{children:"Test Attempts"}),u.jsx("td",{children:"Rank"})]})}),u.jsx("tbody",{children:n.map((y,E)=>u.jsx(A5,{attempts:y.attempts,idx:E,courseName:y.courseName,marks:y.marks,maxMarks:y.maxMarks,rank:y.rank},E))})]}):m=u.jsx("p",{children:"Please watch explanation videos in YesWeCan App."}),u.jsxs(u.Fragment,{children:[m,u.jsx("div",{className:_a.emptyHeight})]})},U5=()=>{const t=Bt(),[e,n]=js(),r=e.get("courseId"),s=e.get("courseName"),[i,o]=S.useState({isResult:!0});return u.jsx(u.Fragment,{children:u.jsxs("div",{className:qn.container,children:[u.jsxs("div",{className:qn.header,children:[u.jsxs("span",{children:["Results of ",s]})," ",u.jsx("div",{className:qn.backButton,onClick:()=>{t(-1)},children:"X"})]}),u.jsx("div",{className:qn.nav,children:u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isScoreCard:!0})},className:i.isScoreCard?qn.isActive:"",children:"Score Card"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isResult:!0})},className:i.isResult?qn.isActive:"",children:"Result"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isPaper:!0})},className:i.isPaper?qn.isActive:"",children:"Question Paper"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isTest:!0})},className:i.isTest?qn.isActive:"",children:"Attempted Tests"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{o({isVideo:!0})},className:i.isVideo?qn.isActive:"",children:"Explanation Video"})})]})}),u.jsx("div",{className:qn.displayContent,children:u.jsx(F5,{clicked:i,courseId:r})})]})})},B5=t=>{const[e,n]=S.useState({status:"loading"}),r=As();return S.useEffect(()=>{(async()=>{try{const i=Ze(ae,"exams",t),o=await br(i);o.exists&&(r(I2(o.data().questions)),n({status:"yes"}))}catch(i){n({status:"server"}),console.log(i)}})()},[]),[e,n]},Zm=t=>async e=>{try{e(T2(t))}catch(n){console.log(n)}},eg=t=>async e=>{try{e(N2(t))}catch(n){console.log(n)}},tl=t=>async e=>{try{e(b2(t))}catch(n){console.log(n)}},V5=(t,e)=>{switch(e.type){case"SetTimer":return{hour:e.payload[0],minute:e.payload[1],second:e.payload[2]};case"RunTimer":{if(t.second<59)return{...t,second:t.second+1};if(t.second==59){if(t.minute<59)return{...t,minute:t.minute+1,second:0};if(t.minute==59)return{hour:t.hour+1,minute:0,second:0}}}}},z5=(t,e)=>{switch(e.type){case"SetCountdown":return{hour:e.payload[0],minute:e.payload[1],second:e.payload[2]};case"RunCountdown":{if(t.second>0)return{...t,second:t.second-1};if(t.minute>0)return{...t,minute:t.minute-1,second:59};if(t.hour>0)return{hour:t.hour-1,minute:59,second:59};if(t.hour==0)return t}}},H5=(t,e)=>{switch(e.type){case"UpdateStatus":{const n=[...e.payload.trace];let r=0,s=0,i=0,o=0;for(let l in e.payload.status){const c=e.payload.status[l],[d,h,f]=l.split(" ");n[0]==d&&n[1]==h&&(c!=null&&c.isMarked&&(c!=null&&c.isAnswered)?o++:c!=null&&c.isMarked?i++:c!=null&&c.isAnswered?r++:c!=null&&c.isVisited&&s++)}const a=e.payload.len-(r+s+i+o);return{ans:r,nAns:s,mark:i,markS:o,nVisit:a}}}},q5=(t,e)=>{switch(e.type){case"SetTotal":return{isTotal:!0,isSection:[!1,0],isComponent:[!1,0]};case"SetSection":return{isTotal:!1,isSection:[!0,e.index],isComponent:[!1,0,0]};case"SetComp":return{isTotal:!1,isSection:[!1,0],isComponent:[!0,...e.arr]}}},W5=(t,e)=>{switch(e.type){case"SetMarks":return[...e.payload]}},K5=(t,e)=>{switch(e.type){case"Reset":return[!1,{}];case"Set":return[!0,{...e.payload}]}};var tn={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},p_=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],m_=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],g_=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],zt=typeof window<"u"&&typeof window.document<"u"?window.document:{},wn="fullscreenEnabled"in zt&&Object.keys(tn)||p_[0]in zt&&p_||m_[0]in zt&&m_||g_[0]in zt&&g_||[],G5={requestFullscreen:function(t){return t[wn[tn.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[wn[tn.requestFullscreen]]},get exitFullscreen(){return zt[wn[tn.exitFullscreen]].bind(zt)},get fullscreenPseudoClass(){return":"+wn[tn.fullscreen]},addEventListener:function(t,e,n){return zt.addEventListener(wn[tn[t]],e,n)},removeEventListener:function(t,e,n){return zt.removeEventListener(wn[tn[t]],e,n)},get fullscreenEnabled(){return!!zt[wn[tn.fullscreenEnabled]]},set fullscreenEnabled(t){},get fullscreenElement(){return zt[wn[tn.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return zt[("on"+wn[tn.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return zt[("on"+wn[tn.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return zt[("on"+wn[tn.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return zt[("on"+wn[tn.fullscreenerror]).toLowerCase()]=t}};const pr=G5;function Q5(){var t=S.useState(!1),e=t[0],n=t[1],r=S.useRef(null);S.useEffect(function(){var o=function(){n(pr.fullscreenElement===r.current)};return pr.addEventListener("fullscreenchange",o),function(){return pr.removeEventListener("fullscreenchange",o)}},[]);var s=S.useCallback(function(){if(pr.fullscreenElement)return pr.exitFullscreen().then(function(){return pr.requestFullscreen(r.current)});if(r.current)return pr.requestFullscreen(r.current)},[]),i=S.useCallback(function(){return pr.fullscreenElement===r.current?pr.exitFullscreen():Promise.resolve()},[]);return S.useMemo(function(){return{active:e,enter:s,exit:i,node:r}},[e,s,i])}var Y5=function(e){var n=e.handle,r=e.onChange,s=e.children,i=e.className,o=[];return i&&o.push(i),o.push("fullscreen"),n.active&&o.push("fullscreen-enabled"),S.useEffect(function(){r&&r(n.active,n)},[n.active]),ig.createElement("div",{className:o.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},s)};const X5="_view_greua_1",J5="_heading_greua_7",Z5="_container_greua_15",e6="_instructions_greua_20",t6="_instructionsContent_greua_25",n6="_moreInstructions_greua_31",r6="_contentBody_greua_35",s6="_padding_greua_43",i6="_effect_greua_55",o6="_buttonNavigate_greua_59",a6="_contentHeader_greua_79",l6="_userDetails_greua_87",u6="_confirm_greua_99",c6="_paddingPalatte_greua_121",d6="_card_greua_138",h6="_normal_greua_148",f6="_answered_greua_152",p6="_notAnswered_greua_176",m6="_marked_greua_200",g6="_markedS_greua_206",de={view:X5,heading:J5,container:Z5,instructions:e6,instructionsContent:t6,moreInstructions:n6,contentBody:r6,padding:s6,effect:i6,buttonNavigate:o6,contentHeader:a6,userDetails:l6,confirm:u6,paddingPalatte:c6,card:d6,normal:h6,answered:f6,notAnswered:p6,marked:m6,markedS:g6},dT=()=>u.jsxs("div",{className:de.instructionsContent,children:[u.jsx("div",{className:de.contentHeader,children:u.jsx("h4",{children:"Please read the following instructions carefully."})}),u.jsxs("div",{className:de.contentBody,children:[u.jsx("h4",{children:"General Instructions:"}),u.jsxs("ol",{children:[u.jsx("li",{children:"Total of hrs duration will be given to attempt all the questions"}),u.jsx("li",{children:"The clock has been set at the server and the countdown timer at the top right corner of your screen will display the time remaining for you to complete the exam. When the clock runs out ,the exam ends by default - you are not required to end or submit your exam."}),u.jsxs("li",{children:["The question palatte at the right of screen shows one of the following statuses of each of the questions numbered.",u.jsxs("ul",{className:de.paddingPalatte,children:[u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.normal,children:"0"})," You have not visited the question yet."]}),u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.answered,children:"1"})," ","You have answered the question."]}),u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.notAnswered,children:"2"})," ","You have not answered the question."]}),u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.marked,children:"3"})," You have NOT answered the question but have marked the question for review."]}),u.jsxs("li",{children:[u.jsx("div",{className:de.card+" "+de.markedS,children:"4"})," ","You have answered the question but marked it for review."]}),u.jsxs("li",{children:["The Marked for review status simply acts as a reminder that you have set to look at the question again."," ",u.jsx("i",{className:de.effect,children:"If an answer is selected for a question that is Marked for Review, the answer will be considered in the final evaluation."})]})]})]})]})]}),u.jsxs("div",{className:de.contentBody,children:[u.jsx("h4",{children:"Navigating to a question"}),u.jsxs("ol",{start:4,children:[u.jsxs("li",{children:["To select a question to answer, you can do one of the following:",u.jsxs("ol",{className:de.padding,type:"a",children:[u.jsx("li",{children:"CLick on the question number on the question palatte at the right of your screen to go to that numbered question directly. Note that using his option does NOT save your answer to the current question"}),u.jsx("li",{children:"Click on Save and Next to save answer to current question to go to the next question in sequence."}),u.jsx("li",{children:"Click on Mark for Review and Next to save answer to current question, mark it for review, and to go to the next question in the sequence."})]})]}),u.jsxs("li",{children:["You can view the entire paper by clicking on the"," ",u.jsx("span",{children:"Question Paper"})," button."]})]})]}),u.jsxs("div",{className:de.contentBody,children:[u.jsx("h4",{children:"Answering Question:"}),u.jsxs("ol",{start:6,children:[u.jsxs("li",{children:["For multiple choice type question:",u.jsxs("ol",{className:de.padding,type:"a",children:[u.jsx("li",{children:"To select your answer, click on one of the option buttons."}),u.jsx("li",{children:"To change your answer, click the another desired option buttons."}),u.jsxs("li",{children:["To save your answer, you MUST click on ",u.jsx("span",{children:"Save & Next"})]}),u.jsxs("li",{children:["To deselect a chosen answer, click on the chosen option again or click on the ",u.jsx("span",{children:"Clear Response"})," button."]}),u.jsxs("li",{children:["To mark a question for review click on"," ",u.jsx("span",{children:"Mark for Review & Next"}),"."," ",u.jsxs("i",{className:de.effect,children:["If an answer is selected for a question that is Marked for Review, the answer will be considered in the final evaluation"," "]})]})]})]}),u.jsxs("li",{children:["For a numerical answer type question",u.jsxs("ol",{className:de.padding,type:"a",children:[u.jsx("li",{children:"To enter a number as your answer, use the virtual numerical keypad"}),u.jsx("li",{children:"A fraction (eg. 0.3 or -0.3) can be entered as answer ONLY with '0' before the decimal point"}),u.jsxs("li",{children:["To save your answer, you MUST click on ",u.jsx("span",{children:"Save & Next"})]}),u.jsxs("li",{children:["To clear your answer, click on the ",u.jsx("span",{children:"Clear Response"})," ","button"]})]})]}),u.jsxs("li",{children:["To change an answer to a question, first select the question and then click on the new answer option followed by a click on the"," ",u.jsx("span",{children:"Save & Next"})," button."]}),u.jsx("li",{children:"Questions that are saved or marked for review after asnwering will ONLY be considered for evaluation"})]})]}),u.jsxs("div",{className:de.contentBody,children:[u.jsx("h4",{children:"Navigating throught sections :"}),u.jsxs("ol",{start:10,children:[u.jsx("li",{children:"Sections in this question paper are displayed on the top bar of the screen Questions in a section can be viewed by clicking on the section name. The section you are currently viewing is highlighted."}),u.jsxs("li",{children:["After clicking the ",u.jsx("span",{children:"Save & Next"})," button on the last question for a section, you will automatically be taken to the first question of the next section."]}),u.jsx("li",{children:"You can move the mouse cursor over the section names to view the status of the questions for that section."}),u.jsx("li",{children:"You can shuffle between sections and questions anytime during the examination as per your convenience."})]})]})]}),hT=()=>u.jsxs("div",{className:de.instructionsContent+" "+de.moreInstructions,children:[u.jsx("div",{className:de.contentHeader,children:u.jsx("h4",{children:"Other Important Instructions / Warnings"})}),u.jsx("div",{className:de.contentBody,children:u.jsxs("ol",{children:[u.jsx("li",{children:"The Question paper displayed is for practice purposes only. Under no circumstances should this be presumed as a main paper."}),u.jsx("li",{children:`While writing the exam don't move the mouse to outside of the window. If so a 30 seconds countdown will appear with a request to "Click here to cancel". If you failed to click within the time your exam will be submitted automatically.`}),u.jsx("li",{children:"While writing exam, if you close the exam window intentionally, your exam will be submitted without any further confirmation"})]})})]}),v6="_overlay_fr7p5_1",y6="_container_fr7p5_11",w6="_close_fr7p5_22",cp={overlay:v6,container:y6,close:w6},_6=({onCloseHandler:t})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:cp.overlay,onClick:t}),u.jsxs("div",{className:cp.container,children:[u.jsx("div",{className:cp.close,onClick:t,children:u.jsx("button",{children:"X"})}),u.jsx(dT,{}),u.jsx(hT,{})]})]}),E6="_overlay_ty1dv_1",S6="_modal_ty1dv_9",x6="_title_ty1dv_22",k6="_body_ty1dv_32",C6="_footer_ty1dv_37",Ea={overlay:E6,modal:S6,title:x6,body:k6,footer:C6},fT=({isAlert:t,closeHandler:e,address:n})=>t[0]?AS.createPortal(u.jsxs(u.Fragment,{children:[u.jsx("div",{className:Ea.overlay,onClick:e}),u.jsxs("div",{className:Ea.modal,children:[u.jsx("div",{className:Ea.title,children:t[1].title}),u.jsx("div",{className:Ea.body,children:t[1].content}),u.jsx("div",{className:Ea.footer,children:u.jsx("button",{onClick:e,children:t[1].closeContent})})]})]}),document.getElementsByClassName(n)[0]):null,I6=t=>async e=>{try{e(j2(t))}catch(n){console.log(n)}},T6=t=>e=>{try{e(P2(t))}catch(n){console.log(n)}},N6=t=>async e=>{try{e(D2(t))}catch(n){console.log(n)}},b6=t=>async e=>{try{e(O2(t))}catch(n){console.log(n)}},R6=t=>async e=>{try{e($2(t))}catch(n){console.log(n)}},A6=t=>async e=>{try{e(L2(t))}catch(n){console.log(n)}},j6="_view_10nhb_1",P6="_nav_10nhb_8",D6="_navEle_10nhb_18",O6="_addition_10nhb_44",$6="_addBut_10nhb_54",L6="_examPanel_10nhb_58",M6="_examHeader_10nhb_63",F6="_sections_10nhb_69",U6="_section_10nhb_69",B6="_sectionActive_10nhb_101",V6="_components_10nhb_112",z6="_componentActive_10nhb_112",H6="_buttonClass_10nhb_126",q6="_componentClass_10nhb_136",W6="_user_10nhb_165",K6="_image_10nhb_172",G6="_details_10nhb_181",Q6="_mainExam_10nhb_187",Y6="_minMax_10nhb_192",X6="_minMaxRight_10nhb_199",J6="_container_10nhb_216",Z6="_questionDisplay_10nhb_222",eB="_beforeCollapse_10nhb_229",tB="_afterCollapse_10nhb_233",nB="_questionType_10nhb_237",rB="_questionHeader_10nhb_243",sB="_headerElements_10nhb_249",iB="_element1_10nhb_256",oB="_element2_10nhb_261",aB="_positive_10nhb_268",lB="_negative_10nhb_279",uB="_report_10nhb_290",cB="_examNavPanel_10nhb_296",dB="_collapse_10nhb_302",hB="_status_10nhb_306",fB="_card_10nhb_324",pB="_navPanelHeading_10nhb_343",mB="_title_10nhb_352",gB="_questionButtons_10nhb_358",vB="_markOptions_10nhb_369",yB="_basic_10nhb_377",wB="_submit_10nhb_385",_B="_options1_10nhb_403",EB="_options2_10nhb_410",SB="_normal_10nhb_454",xB="_answered_10nhb_458",kB="_notAnswered_10nhb_482",CB="_marked_10nhb_506",IB="_markedS_10nhb_512",TB="_info_10nhb_686",V={view:j6,nav:P6,navEle:D6,addition:O6,addBut:$6,examPanel:L6,examHeader:M6,sections:F6,section:U6,sectionActive:B6,components:V6,componentActive:z6,buttonClass:H6,componentClass:q6,user:W6,image:K6,details:G6,mainExam:Q6,minMax:Y6,minMaxRight:X6,container:J6,questionDisplay:Z6,beforeCollapse:eB,afterCollapse:tB,questionType:nB,questionHeader:rB,headerElements:sB,element1:iB,element2:oB,positive:aB,negative:lB,report:uB,examNavPanel:cB,collapse:dB,status:hB,card:fB,navPanelHeading:pB,title:mB,questionButtons:gB,markOptions:vB,basic:yB,submit:wB,options1:_B,options2:EB,normal:SB,answered:xB,notAnswered:kB,marked:CB,markedS:IB,info:TB},NB=({isRunning:t,countdown:e,dispatchCountdown:n,dispatchTimer:r,timeStateHandler:s})=>{const{hour:i,minute:o,second:a}=e;return S.useEffect(()=>{if(i==0&&o==0&&a==0){s();return}let l;return t?l=setInterval(()=>{n({type:"RunCountdown"}),r({type:"RunTimer"})},1e3):alert("Lamao"),()=>{clearInterval(l)}},[a,o,i]),u.jsx("span",{children:` ${String(i).padStart(2,"0")}:${String(o).padStart(2,"0")}:${String(a).padStart(2,"0")}`})},bB=({disabled:t,questions:e,trace:n,onCompClickHandler:r,activeClass:s,buttonClass:i,componentClass:o})=>{const[a,l]=S.useState(null);S.useEffect(()=>{var g;e&&l((g=e[n[0]])==null?void 0:g.components)});const c=S.useRef(null),d=()=>{c.current.scrollLeft-=100},h=()=>{c.current.scrollLeft+=100},f=g=>{r(g)};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"scrollable-container",style:{display:"flex"},children:[u.jsx("button",{className:i,onClick:d,children:"<"}),u.jsx("div",{className:o,ref:c,style:{overflowX:"hidden",display:"flex"},children:a==null?void 0:a.map((g,v)=>u.jsx("button",{disabled:t,className:n[1]==v?s:"",onClick:()=>{f(v)},children:g.componentTitle},v))}),u.jsx("button",{className:i,onClick:h,children:">"})]})})},RB="_overlay_okxa8_1",AB="_container_okxa8_11",jB="_title_okxa8_25",PB="_content_okxa8_35",DB="_close_okxa8_53",Sa={overlay:RB,container:AB,title:jB,content:PB,close:DB},OB=({address:t,onCloseHandler:e})=>{const[n,r]=js(),s=n.get("id");n.get("courseId");const i=S.useRef(),{currentUser:o}=pn(),a=async l=>{if(l.preventDefault(),i.current.value.trim()!=""){const c=De(ae,"feedback");try{await _i(c,{uid:o.uid,userEmail:o.email,feedback:i.current.value,date:new Date().toLocaleString(),id:s,courseId:s}),e()}catch(d){console.log(d),alert("Unexpected Error!")}}};return AS.createPortal(u.jsxs(u.Fragment,{children:[u.jsx("div",{className:Sa.overlay,onClick:e}),u.jsxs("div",{className:Sa.container,children:[u.jsxs("div",{className:Sa.title,children:[u.jsx("span",{children:"Report this Question!"}),u.jsx("div",{className:Sa.close,onClick:e,children:"X"})]}),u.jsxs("form",{className:Sa.content,children:[u.jsx("textarea",{name:"feedback",id:"",rows:"10",placeholder:"Please type your feedback here. Specify the Specific details like questions number, test Name and course Name.",ref:i}),u.jsx("button",{type:"submit",onClick:l=>{a(l)},children:"Report"})]})]})]}),document.getElementsByClassName(t)[0])},$B=({timer:t})=>{const{hour:e,minute:n,second:r}=t;return u.jsx("span",{children:`${String(e).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(r).padStart(2,"0")}`})},LB=({statusComp:t})=>{const{ans:e,nAns:n,mark:r,markS:s,nVisit:i}=t;return u.jsxs("div",{className:V.status,children:[u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.answered,children:e}),u.jsx("div",{className:V.info,children:"Answered"})]}),u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.notAnswered,children:n}),u.jsx("div",{className:V.info,children:"Not Answered"})]}),u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.normal,children:`${i}`}),u.jsx("div",{className:V.info,children:"Not Visited"})]}),u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.marked,children:r}),u.jsx("div",{className:V.info,children:"Marked for review"})]}),u.jsxs("span",{children:[u.jsx("div",{className:V.card+" "+V.markedS,children:s}),u.jsx("div",{className:V.info,children:"Answered & Marked for Review"})]})]})},MB="_questionDiv_hbsts_1",FB="_questionNum_hbsts_11",UB="_question_hbsts_1",BB="_image_hbsts_21",xa={questionDiv:MB,questionNum:FB,question:UB,image:BB},VB="_options_10weu_5",zB="_check_10weu_29",HB="_checked_10weu_75",dp={options:VB,check:zB,"text-primary":"_text-primary_10weu_65",checked:HB},pT=({question:t,trace:e,onSelect:n,check:r})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:xa.questionDiv,children:[u.jsxs("div",{className:xa.questionNum,children:["Question Number: ",e[2]+1]}),u.jsxs("div",{className:xa.question,children:[t!=null&&t.question.equ?u.jsx(Zn,{mathml:t==null?void 0:t.question.equ,className:xa.question}):"",t!=null&&t.question.img?u.jsx("img",{src:t==null?void 0:t.question.img,className:xa.image,alt:"image"}):""]})]}),u.jsx("div",{className:dp.options,children:u.jsx("ul",{children:t==null?void 0:t.options.map((s,i)=>u.jsxs("li",{onClick:()=>n(i),children:[u.jsx("div",{className:`${dp.check} ${r==i?dp.checked:"."}`}),u.jsx("input",{type:"radio",value:!1,name:"options",id:i}),u.jsxs("label",{htmlFor:"equation",children:[s.equ?u.jsx(Zn,{mathml:s.equ}):"",s.img?u.jsx("img",{src:s.img,alt:"image"}):""]})]},`${e[0]} ${e[1]} ${i}`))})})]}),qB="_integerDiv_1osj5_1",WB="_questionNum_1osj5_6",KB="_question_1osj5_6",GB="_inputBox_1osj5_23",Ui={integerDiv:qB,questionNum:WB,question:KB,inputBox:GB},QB=({question:t,trace:e,setCheck:n,check:r})=>u.jsxs("div",{className:Ui.integerDiv,children:[u.jsxs("div",{className:Ui.questionNum,children:["Question Number: ",e[2]+1]}),u.jsxs("div",{className:Ui.question,children:[t!=null&&t.question.equ?u.jsx(Zn,{mathml:t==null?void 0:t.question.equ,className:Ui.question}):"",t!=null&&t.question.img?u.jsx("img",{src:t==null?void 0:t.question.img,className:Ui.image,alt:"image"}):""]}),u.jsx("div",{className:Ui.inputBox,children:u.jsx("input",{type:"number",step:"0.01",onChange:s=>n(parseInt(s.target.value)),placeholder:r||r==0?r:"enter integer"})})]}),YB="_directionDiv_1yljw_1",XB="_direction_1yljw_1",JB="_directionHeading_1yljw_16",ZB="_content_1yljw_23",e8="_question_1yljw_29",Bs={directionDiv:YB,direction:XB,directionHeading:JB,content:ZB,question:e8},t8=({question:t,trace:e,onSelect:n,check:r,direction:s})=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:Bs.directionDiv,children:[u.jsxs("div",{className:Bs.direction,children:[u.jsx("div",{className:Bs.directionHeading,children:"Direction"}),u.jsxs("div",{className:Bs.content,children:[s[t==null?void 0:t.direction].equ?u.jsx(Zn,{mathml:s[t==null?void 0:t.direction].equ,className:Bs.directionQuestion}):"",s[t==null?void 0:t.direction].img?u.jsx("img",{src:s[t==null?void 0:t.direction].img,className:Bs.image,alt:"image"}):""]})]}),u.jsx("div",{className:Bs.question,children:u.jsx(pT,{trace:e,question:t,onSelect:n,check:r})})]})}),n8=({question:t,trace:e,check:n,setCheck:r,direction:s})=>{const i=tt(a=>a.results.result),o=a=>{r(a)};return S.useEffect(()=>{if(i){const a=`${e[0]} ${e[1]} ${e[2]}`;i[a]||i[a]===0?r(i[a]):r(void 0)}},[e]),u.jsx(u.Fragment,{children:t!=null&&t.direction||(t==null?void 0:t.direction)==0?u.jsx(t8,{question:t,trace:e,onSelect:o,check:n,direction:s}):t!=null&&t.isInt?u.jsx(QB,{question:t,trace:e,setCheck:r,check:n}):u.jsx(pT,{question:t,trace:e,onSelect:o,check:n})})},r8="_buttonCard_1eglz_1",s8="_normal_1eglz_13",i8="_answered_1eglz_17",o8="_notAnswered_1eglz_41",a8="_marked_1eglz_65",l8="_markedS_1eglz_71",Wn={buttonCard:r8,normal:s8,answered:i8,notAnswered:o8,marked:a8,markedS:l8},u8=({effects:t,clickHandler:e,children:n})=>{const[r,s]=S.useState(Wn.buttonCard+" "+Wn.normal);S.useEffect(()=>{t!=null&&t.isMarked&&(t!=null&&t.isAnswered)?s(Wn.buttonCard+" "+Wn.markedS):t!=null&&t.isMarked?s(Wn.buttonCard+" "+Wn.marked):t!=null&&t.isAnswered?s(Wn.buttonCard+" "+Wn.answered):t!=null&&t.isVisited&&s(Wn.buttonCard+" "+Wn.notAnswered)},[t]);const i=()=>{e()};return u.jsx("button",{className:r,onClick:i,children:n})},c8=({component:t,trace:e,status:n,onClickHandler:r})=>u.jsx(u.Fragment,{children:t==null?void 0:t.questions.map((s,i)=>u.jsx(u8,{effects:n[`${e[0]} ${e[1]} ${i}`],clickHandler:()=>{r(i)},children:i+1},`${e[0]} ${e[1]} ${i}`))}),d8=t=>{const e=As(),n=tt(P=>P.results.status),[r,s]=S.useReducer(H5,{ans:0,nAns:0,mark:0,markS:0,nVisit:0}),[i,o]=S.useReducer(W5,[0,0]),[a,l]=S.useState(null),[c,d]=S.useState(null),[h,f]=S.useState(null),[g,v]=S.useState(!1);S.useEffect(()=>{t.questions&&t.questions.length>0&&(l(t.questions[t.trace[0]].components[t.trace[1]]),d(t.questions[t.trace[0]].components[t.trace[1]].questions[t.trace[2]]),t.questions[t.trace[0]].components[t.trace[1]].directions&&f(t.questions[t.trace[0]].components[t.trace[1]].directions)),t.questions&&t.questions.length>0&&(t.questions[t.trace[0]].sectionMark?o({type:"SetMarks",payload:[...t.questions[t.trace[0]].sectionMark]}):t.questions[t.trace[0]].components[t.trace[1]].componentMark?o({type:"SetMarks",payload:[...t.questions[t.trace[0]].components[t.trace[1]].componentMark]}):t.questions[t.trace[0]].components[t.trace[1]].questions[t.trace[2]].mark&&o({type:"SetMarks",payload:[...t.questions[t.trace[0]].components[t.trace[1]].questions[t.trace[2]].mark]}))},[t.questions,t.trace]),S.useEffect(()=>{e(I6(t.trace))},[t.trace]),S.useEffect(()=>{const P=a==null?void 0:a.questions.length;s({type:"UpdateStatus",payload:{len:P,status:n,trace:t.trace}})},[n,a]);const w=P=>{t.onQuesClickHandler(P)},_=()=>{t.timeHandlers.quesHandler(t.trace[2]-1),e(Zm(t.trace[2]-1))},p=()=>{if(t.questions[t.trace[0]].components[t.trace[1]].questions[t.trace[2]+1]){const P=t.trace[2]+1;t.timeHandlers.quesHandler(P),e(Zm(P))}else if(t.questions[t.trace[0]].components[t.trace[1]+1]&&!t.timeState.isComponent[0])t.timeHandlers.compHandler(t.trace[1]+1),e(eg(t.trace[1]+1));else if(t.questions[t.trace[0]+1]&&!t.timeState.isComponent[0]&&!t.timeState.isSection[0])t.timeHandlers.sectionHandler(t.trace[0]+1),e(tl(t.trace[0]+1));else{if(t.timeState.isComponent[0]||t.timeState.isSection[0]){t.dispatchAlert({type:"Set",payload:{title:"Alert!",content:"Wait for current time to end to move forward to the next section!",closeContent:"close"}});return}t.dispatchAlert({type:"Set",payload:{title:"Alert!",content:"You have come to the end of the test",closeContent:"close"}}),e(tl(0))}},m=()=>{t.setCheck(void 0),e(T6(t.trace))},y=()=>{if(t.check||t.check===0){const P=[...t.trace,t.check];e(R6(P)),p()}else e(b6(t.trace)),p()},E=()=>{if(t.check||t.check===0){const P=[...t.trace,t.check];e(N6(P)),p()}else t.dispatchAlert({type:"Set",payload:{title:"Alert!",content:"Please select an option",closeContent:"close"}})},[x,I]=S.useState(!1),N=V.questionDisplay+" "+(x?V.afterCollapse:V.beforeCollapse),j=V.examNavPanel+" "+(x?V.collapse:"");return u.jsxs(u.Fragment,{children:[g&&u.jsx(OB,{address:"fullscreen",onCloseHandler:()=>{v(!1)}}),u.jsxs("div",{className:V.container,children:[u.jsxs("div",{className:N,children:[u.jsxs("div",{className:V.questionType,children:["Question Type:"," ",c!=null&&c.isInt?"Integer Type":"Multiple Choice Question"]}),u.jsx("div",{className:V.questionHeader,children:u.jsxs("div",{className:V.headerElements,children:[u.jsxs("div",{className:V.element1,children:[u.jsx("label",{htmlFor:"lang",children:"View : "}),u.jsx("select",{name:"lang",defaultValue:0,children:u.jsx("option",{value:"0",children:"English"})})]}),u.jsxs("div",{className:V.element2,children:[u.jsxs("div",{className:V.positive,children:[u.jsx("i",{className:"fa-solid fa-thumbs-up"})," ",u.jsxs("div",{children:["+",i[0]]})]}),u.jsxs("div",{className:V.negative,children:[u.jsx("i",{className:"fa-solid fa-thumbs-down"})," ",u.jsxs("div",{children:["-",i[1]]})]}),u.jsxs("div",{children:[u.jsx("i",{className:"fa-regular fa-clock"})," ",u.jsx($B,{timer:t.timer})]}),u.jsxs("div",{className:V.report,onClick:()=>{v(!0)},children:[u.jsx("i",{className:"fa-solid fa-bug"})," Report"]})]})]})}),u.jsx(n8,{question:c,trace:t.trace,check:t.check,setCheck:t.setCheck,direction:h})]}),u.jsx("div",{className:x?V.minMaxRight:V.minMax,children:u.jsx("button",{onClick:()=>{I(P=>!P)},children:x?u.jsx("span",{children:"<"}):u.jsx("span",{children:">"})})}),u.jsxs("div",{className:j,children:[u.jsx(LB,{statusComp:r}),u.jsx("div",{className:V.navPanelHeading,children:a==null?void 0:a.componentTitle}),u.jsx("div",{className:V.title,children:"Choose a question"}),u.jsx("div",{className:V.questionButtons,children:u.jsx(c8,{component:a,trace:t.trace,status:n,onClickHandler:w})})]})]}),u.jsxs("div",{className:V.markOptions,children:[u.jsxs("div",{className:V.basic,children:[u.jsxs("div",{className:V.options1,children:[u.jsx("button",{onClick:y,children:"Mark for Review & Next"}),u.jsx("button",{onClick:m,children:"Clear Response"})]}),u.jsxs("div",{className:V.options2,children:[t.trace&&t.trace[2]!=0?u.jsx("button",{onClick:_,children:"Previous"}):u.jsx("span",{}),u.jsx("button",{onClick:E,children:"Save & Next"})]})]}),u.jsx("div",{className:V.submit,children:u.jsx("button",{children:"Submit"})})]})]})},h8=t=>{var M;const e=tt($=>$.user.data),[n,r]=js(),s=n.get("id"),i=n.get("courseId"),o=n.get("testId"),a=As(),l=Bt(),[c,d]=S.useState(void 0),h=tt($=>$.questions.trace),[f,g]=S.useState(!0),[v,w]=S.useReducer(V5,{hour:0,minute:0,second:0}),[_,p]=S.useReducer(z5,{hour:3,minute:0,second:0}),[m,y]=S.useReducer(q5,{isTotal:!0,isSection:[!1,0],isComponent:[!1,0,0]}),E=()=>{const $=[v.hour,v.minute,v.second],Ee=`${h[0]} ${h[1]} ${h[2]}`;a(A6({arr:$,index:Ee}))},x=tt($=>$.results.timer),I={sectionHandler:$=>{if(E(),x){const Ee=`${$} 0 0`;x[Ee]?w({type:"SetTimer",payload:[...x[Ee]]}):w({type:"SetTimer",payload:[0,0,0]})}},compHandler:$=>{if(E(),x){const Ee=`${h[0]} ${$} 0`;x[Ee]?w({type:"SetTimer",payload:[...x[Ee]]}):w({type:"SetTimer",payload:[0,0,0]})}},quesHandler:$=>{if(E(),x){const Ee=`${h[0]} ${h[1]} ${$}`;x[Ee]?w({type:"SetTimer",payload:[...x[Ee]]}):w({type:"SetTimer",payload:[0,0,0]})}},timeStateHandler:()=>{if(m.isTotal){l("/result?id="+s+"&courseId="+i+"&courseName="+t.courseName+"&testId="+o);return}else if(m.isSection[0]){const $=m.isSection[1];t.questions[$+1]?(y({type:"SetSection",index:$+1}),I.sectionHandler($+1),a(tl($+1))):(E(),l("/result?id="+s+"&courseId="+i+"&courseName="+t.courseName+"&testId="+o))}else if(m.isComponent[0]){const $=[m.isComponent[1],m.isComponent[2]];t.questions[$[0]].components[$[1]+1]?(y({type:"SetComp",arr:[$[0],$[1]+1]}),I.compHandler($[1]+1),a(eg($[1]+1))):t.questions[$[0]+1]?(y({type:"SetComp",arr:[$[0]+1,0]}),I.sectionHandler($[0]+1),a(tl($[0]+1))):(E(),l("/result?id="+s+"&courseId="+i+"&courseName="+t.courseName+"&testId="+o))}}};S.useEffect(()=>{t.questions&&t.questions.length>0&&(t.questions[0].totalTime?y({type:"SetTotal"}):t.questions[0].sectionTime?y({type:"SetSection",index:0}):t.questions[0].components[0].componentTime&&y({type:"SetComp",arr:[0,0]}))},[t.questions]),S.useEffect(()=>{t.questions&&t.questions.length>0&&(m.isTotal?p({type:"SetCountdown",payload:[...t.questions[0].totalTime]}):m.isSection[0]?p({type:"SetCountdown",payload:[...t.questions[m.isSection[1]].sectionTime]}):m.isComponent[0]&&p({type:"SetCountdown",payload:[...t.questions[m.isComponent[1]].components[m.isComponent[2]].componentTime]}))},[m]);const N=$=>{I.sectionHandler($),a(tl($))},j=$=>{I.compHandler($),a(eg($))},P=$=>{I.quesHandler($),a(Zm($))};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:V.examHeader,children:[u.jsxs("div",{className:V.sections,children:[u.jsxs("div",{className:V.section,children:[u.jsx("div",{className:V.sectionElements,children:(M=t.questions)==null?void 0:M.map(($,Ee)=>u.jsx("button",{disabled:m.isSection[0]||m.isComponent[0],className:h[0]==Ee?V.sectionActive:"",onClick:()=>{N(Ee)},children:$.sectionTitle},Ee))}),u.jsxs("div",{className:V.timer,style:{display:"flex",alignItems:"center"},children:[m.isTotal?"Total Time left : ":m.isSection[0]?`${t.questions[m.isSection[1]].sectionTitle} Time left : `:`${t.questions[m.isComponent[1]].components[m.isComponent[2]].componentTitle} Time left : `,u.jsx(NB,{isRunning:f,countdown:_,dispatchCountdown:p,dispatchTimer:w,timeStateHandler:I.timeStateHandler})]})]}),u.jsx("div",{className:V.components,children:u.jsx(bB,{disabled:m.isComponent[0],questions:t.questions,trace:h,activeClass:V.componentActive,onCompClickHandler:j,buttonClass:V.buttonClass,componentClass:V.componentClass})})]}),u.jsxs("div",{className:V.user,children:[u.jsx("div",{className:V.image,children:u.jsx("img",{src:e.photo,onError:$=>{$.target.onerror=null,$.target.src="/assets/user.jpeg"}})}),u.jsxs("div",{className:V.details,children:[u.jsx("p",{children:e.name}),u.jsx("p",{children:e!=null&&e.mobile?e.mobile:"MobileNumber"})]})]})]}),u.jsx("div",{className:V.mainExam,children:u.jsx(d8,{timeHandlers:I,questions:t.questions,trace:h,check:c,setCheck:d,onQuesClickHandler:P,timer:v,timeState:m,dispatchAlert:t.dispatchAlert})})]})},f8=()=>{const[t,e]=js(),n=t.get("id"),r=t.get("courseName"),s=Bt(),[i,o]=S.useState(!1),[{status:a}]=B5(n),[l,c]=S.useReducer(K5,[!1,{}]);if(a=="server")return alert("Server Error"),s("/user"),u.jsx(u.Fragment,{children:"Server Error"});const d=tt(w=>w.questions.queue),[h,f]=S.useState(!0),g=Q5(),v=()=>{h?g.enter():g.exit()};return S.useEffect(()=>{v()},[h]),u.jsx(u.Fragment,{children:u.jsxs(Y5,{handle:g,className:V.view,children:[u.jsx(fT,{isAlert:l,closeHandler:()=>c({type:"Reset"}),address:"fullscreen"}),i&&u.jsx(_6,{onCloseHandler:()=>{o(!1)}}),u.jsxs("div",{className:V.nav,children:[u.jsxs("div",{className:V.navEle,children:[u.jsx("span",{children:u.jsx("img",{style:{paddingTop:"0.2rem"},src:"/assets/AppLogo.png",alt:""})})," ",u.jsx("span",{children:r})]}),u.jsx("div",{className:V.navEle,children:u.jsx("button",{onClick:()=>{f(w=>!w)},children:u.jsx("i",{className:"fa-solid fa-expand"})})})]}),u.jsx("div",{className:V.addition,children:u.jsx("div",{className:V.addBut,onClick:()=>{o(!0)},children:"Instructions"})}),u.jsx("div",{className:V.examPanel,children:u.jsx(h8,{questions:d,dispatchAlert:c,courseName:r})})]})})},p8=t=>{const e=tt(d=>d.user.data),[n,r]=S.useState([!1,{}]),s=S.useRef(),i=S.useRef(),[o,a]=S.useState(!1),l=()=>{if(i.current.value==0){r([!0,{title:"Alert",content:"Please select a default language",closeContent:"okay"}]);return}if(!s.current.checked){r([!0,{title:"Alert",content:"Please accept the conditions",closeContent:"okay"}]);return}t.onAcceptHandler()};let c;return o?c=u.jsxs(u.Fragment,{children:[u.jsx(fT,{isAlert:n,closeHandler:()=>{r([!1,{}])},address:"float"}),u.jsx(hT,{}),u.jsx("div",{className:de.buttonNavigate,children:u.jsx("button",{onClick:()=>{a(!1)},children:"<< Previous"})}),u.jsxs("div",{className:de.confirm,children:[u.jsxs("p",{children:["Choose your default language ",u.jsxs("select",{ref:i,defaultValue:0,children:[u.jsx("option",{value:"0",children:"--Select--"}),u.jsx("option",{value:"1",children:"English"})]})," "]}),u.jsx("p",{style:{color:"red"},children:"Please note that all questions will appear in your default language. This language can be changed for a particular question later on."}),u.jsx("br",{}),u.jsx("input",{type:"checkbox",ref:s}),u.jsxs("label",{children:[" ","I have read and understood the instructions. All Computer Hardwares alloted to me are in proper working condition. I agree that in case of not adhering to the instructions, I will be disqualified from giving the exam."]}),u.jsx("br",{}),u.jsx("br",{}),u.jsx("div",{children:u.jsx("button",{onClick:l,children:"I am ready to begin"})})]})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(dT,{}),u.jsx("div",{className:de.buttonNavigate,children:u.jsx("button",{onClick:()=>{a(!0)},children:"Next >>"})})]}),u.jsxs("div",{className:de.view,children:[u.jsx("div",{className:de.heading,children:"Instructions"}),u.jsxs("div",{className:de.container,children:[u.jsx("div",{className:de.instructions,children:c}),u.jsxs("div",{className:de.userDetails,children:[u.jsx("img",{src:e==null?void 0:e.photo,onError:d=>{d.target.onerror=null,d.target.src="/assets/user.jpeg"}}),u.jsx("p",{children:e!=null&&e.mobile?e.mobile:"MobileNumber"})]})]})]})};const m8=()=>{const t=()=>{n(u.jsx(f8,{}))},[e,n]=S.useState(u.jsx(p8,{onAcceptHandler:t}));return u.jsx(u.Fragment,{children:e})},g8="_view_j2th3_1",v8="_details_j2th3_9",y8="_userDetails_j2th3_14",w8="_result_j2th3_30",_8="_resultTable_j2th3_78",E8="_examSummary_j2th3_93",S8="_navigation_j2th3_97",Bi={view:g8,details:v8,userDetails:y8,result:w8,resultTable:_8,examSummary:E8,navigation:S8},x8=t=>{const e=As();S.useEffect(()=>{(async()=>{try{if(t){const r=De(ae,"enrollments"),s=Jt(r,ke("uid","==",t)),i=await At(s);if(i.docs.length!=0){const o=i.docs.map(a=>({...a.data(),id:a.id}));e(rx(o))}}}catch(r){console.log(r)}})()})},k8=async()=>{const t={},e=(n,r)=>{const s=new Date(n.date).getTime(),i=new Date(r.date).getTime();return s-i};try{const n=De(ae,"courses"),r=Ze(De(ae,"homepage"),"EHUwKuyIsRPKzEY7fcXy"),s=await At(n);if(!s.empty){const o=s.docs.map(a=>({...a.data(),id:a.id}));o.sort(e),t.courses=o}const i=await br(r);return i.exists&&(t.images=[...i.data().images]),t}catch(n){console.log(n)}},C8=async({request:t})=>{const e=new URL(t.url),n=e.searchParams.get("user"),r=e.searchParams.get("testId"),s=e.searchParams.get("courseId"),i=(o,a)=>{const l=new Date(o.date).getTime();return new Date(a.date).getTime()-l};try{const o=Jt(De(ae,"enrollments"),ke("uid","==",n),ke("courseId","==",s)),l={...(await At(o)).docs[0].data().status},c=Jt(De(ae,"results_simple"),ke("uid","==",n),ke("courseId","==",s),ke("testSeriesId","==",r)),h=(await At(c)).docs.map(g=>({...g.data(),id:g.id}));h.sort(i);const f=[];for(let g in h){const v=h[g].examId,w=h[g].courseId,_=Jt(De(ae,"results_simple"),ke("examId","==",v),ke("courseId","==",w),ke("testSeriesId","==",r),ke("marks",">",h[g].marks)),m=(await At(_)).docs.length;f.push({courseName:h[g].courseName,marks:h[g].marks,maxMarks:h[g].maxMarks,rank:m+1,attempts:l[v][1]})}return f}catch(o){console.log(o)}return{}},I8=async({request:t})=>{const e=new URL(t.url),n=e.searchParams.get("id"),r=e.searchParams.get("courseId"),s=e.searchParams.get("user"),i=e.searchParams.get("role");if(!n||!r||!s||!i)return{};try{const o=Ze(ae,"test_series",n),a=await br(o);if(a.exists()){const l=a.data();return l.exams=l.exams.filter(c=>c.role!="classroom"),l}}catch(o){console.log(o)}return{}},T8=()=>{const t=tt(f=>f.user.data),e=tt(f=>f.user.myCourses),[n,r]=js(),s=n.get("id"),i=n.get("testId"),o=n.get("courseId"),a=n.get("courseName"),{currentUser:l}=pn(),[c,d]=j5({uid:l.uid,examId:s,courseName:a,courseId:o,courses:e,testSeriesId:i});c&&x8(t.uid);const h=Bt();return u.jsxs("div",{className:Bi.view,children:[u.jsxs("div",{className:Bi.details,children:[u.jsx("div",{className:Bi.result,children:u.jsx(cT,{result:c,classes:Bi})}),u.jsxs("div",{className:Bi.navigation,children:[u.jsx("button",{onClick:()=>{h("/")},children:"Home"}),u.jsx("button",{onClick:()=>{h("/login")},children:"Dashboard"})]})]}),u.jsxs("div",{className:Bi.userDetails,children:[u.jsx("img",{src:t.photo,onError:f=>{f.target.onerror=null,f.target.src="/assets/user.jpeg"}}),u.jsx("p",{children:t!=null&&t.mobile?t.mobile:"MobileNumber"})]})]})},N8="_view_uhgb2_1",b8="_container_uhgb2_18",R8="_photo_uhgb2_33",A8="_details_uhgb2_77",j8="_inputs_uhgb2_90",P8="_edit_uhgb2_112",D8="_close_uhgb2_125",O8="_save_uhgb2_134",$8="_changeEmail_uhgb2_143",jn={view:N8,container:b8,photo:R8,details:A8,inputs:j8,edit:P8,close:D8,save:O8,changeEmail:$8},L8=()=>{const{sendPasswordReset:t}=pn(),e=tt(d=>d.user.data),[n,r]=S.useState(!1),s=As(),[i,o]=S.useState({name:e==null?void 0:e.name,email:e==null?void 0:e.email,mobile:e==null?void 0:e.mobile}),a=async d=>{if(d)if(d.size/1024<100)try{const h=ZI(eT,`/users/${e.uid}`),f=await XI(h,d),g=await JI(f.ref),v=Ze(De(ae,"users"),e.id),w=await Mn(v,{photo:g});s(cm({...e,photo:g}))}catch(h){console.log(h)}else alert("Please upload image less than 100kb!")},l=async()=>{try{const d=await t(e.email);alert("Password Reset link Sent to mail!")}catch(d){alert("Error: "+d.message)}},c=async()=>{if(i.name!=""||i.mobile!=""){const d=/^[a-zA-Z\s]+$/,h=/^\d{10}$/,f=/^[1-9][0-9]{9}$/;if(d.test(i.name)){if(!h.test(i.mobile)||!f.test(i.mobile)){alert("Please enter a valid Mobile Number");return}}else{alert("Only Alphabets!");return}try{const g=Ze(De(ae,"users"),e.id),v=await Mn(g,{name:i.name,mobile:i.mobile});s(cm({...e,name:i.name,mobile:i.mobile})),r(!1)}catch(g){console.log(g),alert("Error: "+g.message)}}else alert("Please enter your Name / Mobile Number!")};return u.jsx("div",{className:jn.view,children:u.jsxs("div",{className:jn.container,children:[u.jsxs("div",{className:jn.photo,children:[u.jsx("img",{src:e.photo,onError:d=>{d.target.onerror=null,d.target.src="/assets/user.jpeg"}}),u.jsxs("p",{children:[u.jsx("label",{htmlFor:"imageChange",children:"Change Photo"})," ",u.jsx("input",{type:"file",accept:"image/*",id:"imageChange",onChange:d=>{a(d.target.files[0])}})]}),u.jsxs(Tr,{to:"/user",children:[" ",u.jsx("i",{className:"fa-solid fa-left-long"})," Dashboard"]})]}),u.jsxs("div",{className:jn.details,children:[u.jsxs("div",{className:jn.inputs,children:[u.jsx("h3",{children:"Your details"}),u.jsxs("p",{children:[u.jsxs("label",{htmlFor:"Email",children:[u.jsx("strong",{children:"Email :"})," "]})," ",u.jsx("input",{type:"email",id:"Email",value:i.email,disabled:!0})]}),u.jsxs("p",{children:[u.jsxs("label",{htmlFor:"name",children:[u.jsx("strong",{children:"Full Name:"})," "]}),u.jsx("input",{type:"text",id:"name",value:i.name,disabled:!n,onChange:d=>{o(h=>({...h,name:d.target.value}))}})]}),u.jsxs("p",{children:[u.jsx("label",{htmlFor:"mobile",children:u.jsx("strong",{children:"Mobile Number : "})})," ",u.jsx("input",{type:"text",value:i.mobile,disabled:!n,onChange:d=>{o(h=>({...h,mobile:d.target.value}))}})]}),u.jsx("div",{className:jn.edit,children:n?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{r(!1),o({name:e==null?void 0:e.name,email:e==null?void 0:e.email,mobile:e==null?void 0:e.mobile})},className:jn.close,children:"Cancel"}),u.jsx("button",{className:jn.save,onClick:c,children:"Save"})]}):u.jsx("button",{onClick:()=>{r(!0)},className:jn.save,children:"Edit"})})]}),u.jsx("div",{className:jn.changeEmail,children:u.jsx("button",{onClick:()=>{l()},children:"Change Password?"})})]}),u.jsx("div",{className:jn.content})]})})},M8="_loader_1relu_4",F8="_dot_1relu_11",U8="_slide_1relu_1",Vi={loader:M8,dot:F8,slide:U8},B8="_view_whs19_1",V8="_navbar_whs19_16",z8="_homeBar_whs19_27",H8="_navLogo_whs19_33",q8="_appLogo_whs19_53",W8="_container_whs19_57",K8="_courseDetails_whs19_73",G8="_price_whs19_89",Vs={view:B8,navbar:V8,homeBar:z8,navLogo:H8,appLogo:q8,container:W8,courseDetails:K8,price:G8},Q8=()=>{const t=Bt(),[e,n]=js(),r=e.get("id"),{currentUser:s}=pn(),[i,o]=S.useState(),[a,l]=S.useState("");r||t("/");const c=async()=>{try{const h=Ze(De(ae,"courses"),r),f=await br(h);f.exists&&o({...f.data()})}catch(h){console.log(h)}};S.useEffect(()=>{c()},[]);const d=async()=>{const h={courseId:r,uid:s.uid,email:s.email,date:new Date().toLocaleString(),transactionId:a};try{const f=De(ae,"requests"),g=await _i(f,{...h});alert("Request Submitted! Incase you have submitted wrong Transaction ID Submit Again!"),t("/")}catch(f){console.log(f),alert("Error: "+f.message)}};return u.jsxs("div",{className:Vs.view,children:[u.jsx("nav",{className:Vs.navbar+" "+Vs.homeBar,children:u.jsx("div",{className:Vs.navLogo,children:u.jsx(Tr,{to:"/",children:u.jsx("img",{src:"/assets/AppLogo.png"})})})}),u.jsxs("div",{className:Vs.container,children:[u.jsxs("div",{className:Vs.courseDetails,children:[u.jsxs("p",{children:["Title: ",i==null?void 0:i.title]}),u.jsx("div",{children:u.jsx(Zn,{mathml:i==null?void 0:i.description})}),u.jsxs("p",{children:["Duration of ",i==null?void 0:i.duration," months."]})]}),u.jsxs("div",{className:Vs.price,children:[u.jsx("p",{style:{color:"red"},children:"Plese pay the required Amount Only! After payment enter the transaction Id and Submit Request.(Course will be activated in 24hrs)"}),u.jsxs("p",{children:["Overall Price: Rs. ",i==null?void 0:i.price," /-"]}),u.jsx("p",{children:u.jsx("img",{src:"/assets/QRCode.jpeg",alt:""})}),u.jsx("p",{children:u.jsx("input",{type:"text",value:a,onChange:h=>{l(h.target.value)},placeholder:"transaction id"})}),u.jsx("p",{children:u.jsx("button",{disabled:a=="",onClick:d,children:"Request"})})]})]})]})},Y8=()=>{const{state:t}=BA();return t=="loading"?u.jsxs("div",{className:Vi.loader,children:[u.jsx("div",{className:Vi.dot}),u.jsx("div",{className:Vi.dot}),u.jsx("div",{className:Vi.dot}),u.jsx("div",{className:Vi.dot}),u.jsx("div",{className:Vi.dot})]}):u.jsx(u.Fragment,{children:u.jsx(wx,{})})},X8=ZA(mm(u.jsxs(dt,{path:"/",element:u.jsx(Y8,{}),children:[u.jsx(dt,{index:!0,element:u.jsx(xU,{}),loader:k8}),u.jsx(dt,{path:"/login",element:u.jsx(L9,{})}),u.jsx(dt,{path:"/signup",element:u.jsx(J9,{})}),u.jsx(dt,{path:"/buy",element:u.jsx(wa,{children:u.jsx(Q8,{})})}),u.jsx(dt,{path:"/profile",element:u.jsx(wa,{children:u.jsx(L8,{})})}),u.jsxs(dt,{path:"/user",element:u.jsx(wa,{children:u.jsx(FF,{})}),children:[u.jsx(dt,{index:!0,element:u.jsx($U,{})}),u.jsx(dt,{path:"/user/live",element:u.jsx(qU,{})}),u.jsx(dt,{path:"/user/test",element:u.jsx(o5,{}),loader:I8}),u.jsx(dt,{path:"/user/viewResult",element:u.jsx(U5,{}),loader:C8}),u.jsx(dt,{path:"/user/feedback",element:u.jsx(QU,{})}),u.jsx(dt,{path:"/user/Typetest",element:u.jsx("p",{children:"Type Test"})})]}),u.jsx(dt,{path:"/online-exam",element:u.jsx(wa,{children:u.jsx(m8,{})})}),u.jsx(dt,{path:"/result",element:u.jsx(wa,{children:u.jsx(T8,{})})}),u.jsx(dt,{path:"*",element:u.jsx(yx,{to:"/",replace:!0})})]})));function J8(){return u.jsx(oF,{children:u.jsx(HA,{router:X8})})}hp.createRoot(document.getElementById("root")).render(u.jsx(u.Fragment,{children:u.jsx(PR,{store:B2,children:u.jsx(J8,{})})}));
